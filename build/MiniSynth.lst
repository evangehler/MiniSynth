ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"MiniSynth.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy6SwitchD2Ev,"axG",%progbits,_ZN5daisy6SwitchD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy6SwitchD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy6SwitchD2Ev:
  27              	.LVL0:
  28              	.LFB1639:
  29              		.file 1 "../../libDaisy//src/hid/switch.h"
   1:../../libDaisy//src/hid/switch.h **** #pragma once
   2:../../libDaisy//src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy//src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy//src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy//src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy//src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy//src/hid/switch.h **** 
   8:../../libDaisy//src/hid/switch.h **** namespace daisy
   9:../../libDaisy//src/hid/switch.h **** {
  10:../../libDaisy//src/hid/switch.h **** /** 
  11:../../libDaisy//src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy//src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../../libDaisy//src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/switch.h ****     @date December 2019
  15:../../libDaisy//src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy//src/hid/switch.h **** */
  17:../../libDaisy//src/hid/switch.h **** class Switch
  18:../../libDaisy//src/hid/switch.h **** {
  19:../../libDaisy//src/hid/switch.h ****   public:
  20:../../libDaisy//src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy//src/hid/switch.h ****     enum Type
  22:../../libDaisy//src/hid/switch.h ****     {
  23:../../libDaisy//src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy//src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy//src/hid/switch.h ****     };
  26:../../libDaisy//src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy//src/hid/switch.h ****     enum Polarity
  28:../../libDaisy//src/hid/switch.h ****     {
  29:../../libDaisy//src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 2


  30:../../libDaisy//src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy//src/hid/switch.h ****     };
  32:../../libDaisy//src/hid/switch.h **** 
  33:../../libDaisy//src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy//src/hid/switch.h ****     enum Pull
  35:../../libDaisy//src/hid/switch.h ****     {
  36:../../libDaisy//src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy//src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy//src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy//src/hid/switch.h ****     };
  40:../../libDaisy//src/hid/switch.h **** 
  41:../../libDaisy//src/hid/switch.h ****     Switch() {}
  42:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
  30              		.loc 1 42 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 42 16 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
  38              	.LFE1639:
  40              		.weak	_ZN5daisy6SwitchD1Ev
  41              		.thumb_set _ZN5daisy6SwitchD1Ev,_ZN5daisy6SwitchD2Ev
  42 0002 00BF     		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN5daisy9DaisySeedD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv5-d16
  51              	_ZN5daisy9DaisySeedD2Ev:
  52              	.LVL1:
  53              	.LFB2555:
  54              		.file 2 "../../libDaisy//src/daisy_seed.h"
   1:../../libDaisy//src/daisy_seed.h **** #pragma once
   2:../../libDaisy//src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libDaisy//src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libDaisy//src/daisy_seed.h **** 
   5:../../libDaisy//src/daisy_seed.h **** #include "daisy.h"
   6:../../libDaisy//src/daisy_seed.h **** 
   7:../../libDaisy//src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libDaisy//src/daisy_seed.h **** //#define SEED_REV2
   9:../../libDaisy//src/daisy_seed.h **** 
  10:../../libDaisy//src/daisy_seed.h **** namespace daisy
  11:../../libDaisy//src/daisy_seed.h **** {
  12:../../libDaisy//src/daisy_seed.h **** /**
  13:../../libDaisy//src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libDaisy//src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libDaisy//src/daisy_seed.h **** 
  16:../../libDaisy//src/daisy_seed.h ****    @ingroup boards
  17:../../libDaisy//src/daisy_seed.h **** */
  18:../../libDaisy//src/daisy_seed.h **** class DaisySeed
  19:../../libDaisy//src/daisy_seed.h **** {
  20:../../libDaisy//src/daisy_seed.h ****   public:
  21:../../libDaisy//src/daisy_seed.h ****     DaisySeed() {}
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 3


  22:../../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
  55              		.loc 2 22 5 is_stmt 1 view -0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59              		@ link register save eliminated.
  60              	.LBB323:
  61              	.LBI323:
  62              		.file 3 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy//src/sys/system.h ****         };
  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 4


  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  63:../../libDaisy//src/sys/system.h ****     {
  64:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  66:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  67:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  68:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  70:../../libDaisy//src/sys/system.h ****         SDRAM,
  71:../../libDaisy//src/sys/system.h ****         QSPI,
  72:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  73:../../libDaisy//src/sys/system.h ****     };
  74:../../libDaisy//src/sys/system.h **** 
  75:../../libDaisy//src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../../libDaisy//src/sys/system.h ****     struct BootInfo
  77:../../libDaisy//src/sys/system.h ****     {
  78:../../libDaisy//src/sys/system.h ****         enum class Type : uint32_t
  79:../../libDaisy//src/sys/system.h ****         {
  80:../../libDaisy//src/sys/system.h ****             INVALID      = 0x00000000,
  81:../../libDaisy//src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../../libDaisy//src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../../libDaisy//src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../../libDaisy//src/sys/system.h ****         } status;
  85:../../libDaisy//src/sys/system.h ****         uint32_t data;
  86:../../libDaisy//src/sys/system.h ****         enum class Version : uint32_t
  87:../../libDaisy//src/sys/system.h ****         {
  88:../../libDaisy//src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../../libDaisy//src/sys/system.h ****             NONE,        // No bootloader present
  90:../../libDaisy//src/sys/system.h ****             v6_0,        // v6.0
  91:../../libDaisy//src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../../libDaisy//src/sys/system.h ****             LAST
  93:../../libDaisy//src/sys/system.h ****         } version;
  94:../../libDaisy//src/sys/system.h ****     };
  95:../../libDaisy//src/sys/system.h **** 
  96:../../libDaisy//src/sys/system.h ****     System() {}
  97:../../libDaisy//src/sys/system.h ****     ~System() {}
  63              		.loc 3 97 5 view .LVU3
  64              		.loc 3 97 5 is_stmt 0 view .LVU4
  65              	.LBE323:
  66              	.LBB324:
  67              	.LBI324:
  68              		.file 4 "../../libDaisy//src/hid/usb.h"
   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 5


   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  69              		.loc 4 42 5 is_stmt 1 view .LVU5
  70              		.loc 4 42 5 is_stmt 0 view .LVU6
  71              	.LBE324:
  72              	.LBB325:
  73              	.LBI325:
  74              		.file 5 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 6


  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../../libDaisy//src/per/adc.h ****     enum ConversionSpeed
  44:../../libDaisy//src/per/adc.h ****     {
  45:../../libDaisy//src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../../libDaisy//src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../../libDaisy//src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../../libDaisy//src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../../libDaisy//src/per/adc.h ****         SPEED_32CYCLES_5,
  50:../../libDaisy//src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../../libDaisy//src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../../libDaisy//src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../../libDaisy//src/per/adc.h ****     };
  54:../../libDaisy//src/per/adc.h **** 
  55:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  57:../../libDaisy//src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../../libDaisy//src/per/adc.h ****      */
  59:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../../libDaisy//src/per/adc.h **** 
  61:../../libDaisy//src/per/adc.h ****     /** 
  62:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  68:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 7


  69:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  70:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  71:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  72:../../libDaisy//src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../../libDaisy//src/per/adc.h ****     */
  74:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin    adc_pin,
  75:../../libDaisy//src/per/adc.h ****                  size_t          mux_channels,
  76:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_0,
  77:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_1 = {DSY_GPIOX, 0},
  78:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_2 = {DSY_GPIOX, 0},
  79:../../libDaisy//src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../../libDaisy//src/per/adc.h **** 
  81:../../libDaisy//src/per/adc.h ****     dsy_gpio        pin_;                   /**< & */
  82:../../libDaisy//src/per/adc.h ****     dsy_gpio        mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../../libDaisy//src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../../libDaisy//src/per/adc.h ****     ConversionSpeed speed_;
  85:../../libDaisy//src/per/adc.h **** };
  86:../../libDaisy//src/per/adc.h **** 
  87:../../libDaisy//src/per/adc.h **** /**
  88:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../../libDaisy//src/per/adc.h **** */
  90:../../libDaisy//src/per/adc.h **** class AdcHandle
  91:../../libDaisy//src/per/adc.h **** {
  92:../../libDaisy//src/per/adc.h ****   public:
  93:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  94:../../libDaisy//src/per/adc.h ****     enum OverSampling
  95:../../libDaisy//src/per/adc.h ****     {
  96:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  97:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  98:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  99:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
 100:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
 101:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
 102:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
 103:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
 104:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
 105:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
 106:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
 107:../../libDaisy//src/per/adc.h ****     };
 108:../../libDaisy//src/per/adc.h **** 
 109:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
 110:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  75              		.loc 5 110 5 is_stmt 1 view .LVU7
  76              		.loc 5 110 5 is_stmt 0 view .LVU8
  77              	.LBE325:
  78              	.LBB326:
  79              	.LBI326:
  80              		.file 6 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 8


  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 9


  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  81              		.loc 6 96 5 is_stmt 1 view .LVU9
  82              		.loc 6 96 5 is_stmt 0 view .LVU10
  83              	.LBE326:
  84              		.loc 2 22 19 view .LVU11
  85 0000 7047     		bx	lr
  86              		.cfi_endproc
  87              	.LFE2555:
  89              		.weak	_ZN5daisy9DaisySeedD1Ev
  90              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  91 0002 00BF     		.section	.text._ZN7daisysp5AdEnvD2Ev,"axG",%progbits,_ZN7daisysp5AdEnvD5Ev,comdat
  92              		.align	1
  93              		.p2align 2,,3
  94              		.weak	_ZN7daisysp5AdEnvD2Ev
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu fpv5-d16
 100              	_ZN7daisysp5AdEnvD2Ev:
 101              	.LVL2:
 102              	.LFB2564:
 103              		.file 7 "../../DaisySP//Source/Control/adenv.h"
   1:../../DaisySP//Source/Control/adenv.h **** /*
   2:../../DaisySP//Source/Control/adenv.h **** Copyright (c) 2020 Electrosmith, Corp
   3:../../DaisySP//Source/Control/adenv.h **** 
   4:../../DaisySP//Source/Control/adenv.h **** Use of this source code is governed by an MIT-style
   5:../../DaisySP//Source/Control/adenv.h **** license that can be found in the LICENSE file or at
   6:../../DaisySP//Source/Control/adenv.h **** https://opensource.org/licenses/MIT.
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 10


   7:../../DaisySP//Source/Control/adenv.h **** */
   8:../../DaisySP//Source/Control/adenv.h **** 
   9:../../DaisySP//Source/Control/adenv.h **** #pragma once
  10:../../DaisySP//Source/Control/adenv.h **** #ifndef ADENV_H
  11:../../DaisySP//Source/Control/adenv.h **** #define ADENV_H
  12:../../DaisySP//Source/Control/adenv.h **** #include <stdint.h>
  13:../../DaisySP//Source/Control/adenv.h **** #ifdef __cplusplus
  14:../../DaisySP//Source/Control/adenv.h **** 
  15:../../DaisySP//Source/Control/adenv.h **** namespace daisysp
  16:../../DaisySP//Source/Control/adenv.h **** {
  17:../../DaisySP//Source/Control/adenv.h **** /** Distinct stages that the phase of the envelope can be located in.
  18:../../DaisySP//Source/Control/adenv.h ****     @see AdEnv
  19:../../DaisySP//Source/Control/adenv.h **** */
  20:../../DaisySP//Source/Control/adenv.h **** enum AdEnvSegment
  21:../../DaisySP//Source/Control/adenv.h **** {
  22:../../DaisySP//Source/Control/adenv.h ****     /** located at phase location 0, and not currently running */
  23:../../DaisySP//Source/Control/adenv.h ****     ADENV_SEG_IDLE,
  24:../../DaisySP//Source/Control/adenv.h ****     /** First segment of envelope where phase moves from MIN value to MAX value */
  25:../../DaisySP//Source/Control/adenv.h ****     ADENV_SEG_ATTACK,
  26:../../DaisySP//Source/Control/adenv.h ****     /** Second segment of envelope where phase moves from MAX to MIN value */
  27:../../DaisySP//Source/Control/adenv.h ****     ADENV_SEG_DECAY,
  28:../../DaisySP//Source/Control/adenv.h ****     /** The final segment of the envelope (currently decay) */
  29:../../DaisySP//Source/Control/adenv.h ****     ADENV_SEG_LAST,
  30:../../DaisySP//Source/Control/adenv.h **** };
  31:../../DaisySP//Source/Control/adenv.h **** 
  32:../../DaisySP//Source/Control/adenv.h **** /** Trigger-able envelope with adjustable min/max, and independent per-segment time control.
  33:../../DaisySP//Source/Control/adenv.h **** 
  34:../../DaisySP//Source/Control/adenv.h ****     \author shensley
  35:../../DaisySP//Source/Control/adenv.h ****     \todo - Add Cycling
  36:../../DaisySP//Source/Control/adenv.h ****     \todo - Implement Curve (its only linear for now).
  37:../../DaisySP//Source/Control/adenv.h ****     \todo - Maybe make this an ADsr_ that has AD/AR/Asr_ modes.
  38:../../DaisySP//Source/Control/adenv.h ****  */
  39:../../DaisySP//Source/Control/adenv.h **** class AdEnv
  40:../../DaisySP//Source/Control/adenv.h **** {
  41:../../DaisySP//Source/Control/adenv.h ****   public:
  42:../../DaisySP//Source/Control/adenv.h ****     AdEnv() {}
  43:../../DaisySP//Source/Control/adenv.h ****     ~AdEnv() {}
 104              		.loc 7 43 5 is_stmt 1 view -0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 0
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              		@ link register save eliminated.
 109              		.loc 7 43 15 is_stmt 0 view .LVU13
 110 0000 7047     		bx	lr
 111              		.cfi_endproc
 112              	.LFE2564:
 114              		.weak	_ZN7daisysp5AdEnvD1Ev
 115              		.thumb_set _ZN7daisysp5AdEnvD1Ev,_ZN7daisysp5AdEnvD2Ev
 116              		.section	.text._ZN7daisysp10OscillatorD2Ev,"axG",%progbits,_ZN7daisysp10OscillatorD5Ev,comdat
 117              		.align	1
 118              		.p2align 2,,3
 119              		.weak	_ZN7daisysp10OscillatorD2Ev
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv5-d16
 125              	_ZN7daisysp10OscillatorD2Ev:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 11


 126              	.LVL3:
 127              	.LFB4240:
 128              		.file 8 "../../DaisySP//Source/Synthesis/oscillator.h"
   1:../../DaisySP//Source/Synthesis/oscillator.h **** /*
   2:../../DaisySP//Source/Synthesis/oscillator.h **** Copyright (c) 2020 Electrosmith, Corp
   3:../../DaisySP//Source/Synthesis/oscillator.h **** 
   4:../../DaisySP//Source/Synthesis/oscillator.h **** Use of this source code is governed by an MIT-style
   5:../../DaisySP//Source/Synthesis/oscillator.h **** license that can be found in the LICENSE file or at
   6:../../DaisySP//Source/Synthesis/oscillator.h **** https://opensource.org/licenses/MIT.
   7:../../DaisySP//Source/Synthesis/oscillator.h **** */
   8:../../DaisySP//Source/Synthesis/oscillator.h **** 
   9:../../DaisySP//Source/Synthesis/oscillator.h **** #pragma once
  10:../../DaisySP//Source/Synthesis/oscillator.h **** #ifndef DSY_OSCILLATOR_H
  11:../../DaisySP//Source/Synthesis/oscillator.h **** #define DSY_OSCILLATOR_H
  12:../../DaisySP//Source/Synthesis/oscillator.h **** #include <stdint.h>
  13:../../DaisySP//Source/Synthesis/oscillator.h **** #include "Utility/dsp.h"
  14:../../DaisySP//Source/Synthesis/oscillator.h **** #ifdef __cplusplus
  15:../../DaisySP//Source/Synthesis/oscillator.h **** 
  16:../../DaisySP//Source/Synthesis/oscillator.h **** namespace daisysp
  17:../../DaisySP//Source/Synthesis/oscillator.h **** {
  18:../../DaisySP//Source/Synthesis/oscillator.h **** /** Synthesis of several waveforms, including polyBLEP bandlimited waveforms.
  19:../../DaisySP//Source/Synthesis/oscillator.h **** */
  20:../../DaisySP//Source/Synthesis/oscillator.h **** class Oscillator
  21:../../DaisySP//Source/Synthesis/oscillator.h **** {
  22:../../DaisySP//Source/Synthesis/oscillator.h ****   public:
  23:../../DaisySP//Source/Synthesis/oscillator.h ****     Oscillator() {}
  24:../../DaisySP//Source/Synthesis/oscillator.h ****     ~Oscillator() {}
 129              		.loc 8 24 5 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		@ link register save eliminated.
 134              		.loc 8 24 20 is_stmt 0 view .LVU15
 135 0000 7047     		bx	lr
 136              		.cfi_endproc
 137              	.LFE4240:
 139              		.weak	_ZN7daisysp10OscillatorD1Ev
 140              		.thumb_set _ZN7daisysp10OscillatorD1Ev,_ZN7daisysp10OscillatorD2Ev
 141              		.section	.text._ZN7daisysp3SvfD2Ev,"axG",%progbits,_ZN7daisysp3SvfD5Ev,comdat
 142              		.align	1
 143              		.p2align 2,,3
 144              		.weak	_ZN7daisysp3SvfD2Ev
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 148              		.fpu fpv5-d16
 150              	_ZN7daisysp3SvfD2Ev:
 151              	.LVL4:
 152              	.LFB4257:
 153              		.file 9 "../../DaisySP//Source/Filters/svf.h"
   1:../../DaisySP//Source/Filters/svf.h **** /*
   2:../../DaisySP//Source/Filters/svf.h **** Copyright (c) 2020 Electrosmith, Corp
   3:../../DaisySP//Source/Filters/svf.h **** 
   4:../../DaisySP//Source/Filters/svf.h **** Use of this source code is governed by an MIT-style
   5:../../DaisySP//Source/Filters/svf.h **** license that can be found in the LICENSE file or at
   6:../../DaisySP//Source/Filters/svf.h **** https://opensource.org/licenses/MIT.
   7:../../DaisySP//Source/Filters/svf.h **** */
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 12


   8:../../DaisySP//Source/Filters/svf.h **** 
   9:../../DaisySP//Source/Filters/svf.h **** #pragma once
  10:../../DaisySP//Source/Filters/svf.h **** #ifndef DSY_SVF_H
  11:../../DaisySP//Source/Filters/svf.h **** #define DSY_SVF_H
  12:../../DaisySP//Source/Filters/svf.h **** 
  13:../../DaisySP//Source/Filters/svf.h **** namespace daisysp
  14:../../DaisySP//Source/Filters/svf.h **** {
  15:../../DaisySP//Source/Filters/svf.h **** /**      Double Sampled, Stable State Variable Filter
  16:../../DaisySP//Source/Filters/svf.h **** 
  17:../../DaisySP//Source/Filters/svf.h **** Credit to Andrew Simper from musicdsp.org
  18:../../DaisySP//Source/Filters/svf.h **** 
  19:../../DaisySP//Source/Filters/svf.h **** This is his "State Variable Filter (Double Sampled, Stable)"
  20:../../DaisySP//Source/Filters/svf.h **** 
  21:../../DaisySP//Source/Filters/svf.h **** Additional thanks to Laurent de Soras for stability limit, and 
  22:../../DaisySP//Source/Filters/svf.h **** Stefan Diedrichsen for the correct notch output
  23:../../DaisySP//Source/Filters/svf.h **** 
  24:../../DaisySP//Source/Filters/svf.h **** Ported by: Stephen Hensley
  25:../../DaisySP//Source/Filters/svf.h **** */
  26:../../DaisySP//Source/Filters/svf.h **** class Svf
  27:../../DaisySP//Source/Filters/svf.h **** {
  28:../../DaisySP//Source/Filters/svf.h ****   public:
  29:../../DaisySP//Source/Filters/svf.h ****     Svf() {}
  30:../../DaisySP//Source/Filters/svf.h ****     ~Svf() {}
 154              		.loc 9 30 5 is_stmt 1 view -0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158              		@ link register save eliminated.
 159              		.loc 9 30 13 is_stmt 0 view .LVU17
 160 0000 7047     		bx	lr
 161              		.cfi_endproc
 162              	.LFE4257:
 164              		.weak	_ZN7daisysp3SvfD1Ev
 165              		.thumb_set _ZN7daisysp3SvfD1Ev,_ZN7daisysp3SvfD2Ev
 166              		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev,"axG",%progbits,_ZN5daisy11MidiH
 167              		.align	1
 168              		.p2align 2,,3
 169              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
 170              		.syntax unified
 171              		.thumb
 172              		.thumb_func
 173              		.fpu fpv5-d16
 175              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:
 176              	.LVL5:
 177              	.LFB5276:
 178              		.file 10 "../../libDaisy//src/hid/midi.h"
   1:../../libDaisy//src/hid/midi.h **** #pragma once
   2:../../libDaisy//src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../libDaisy//src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libDaisy//src/hid/midi.h **** 
   5:../../libDaisy//src/hid/midi.h **** #include <stdint.h>
   6:../../libDaisy//src/hid/midi.h **** #include <stdlib.h>
   7:../../libDaisy//src/hid/midi.h **** #include <algorithm>
   8:../../libDaisy//src/hid/midi.h **** #include "per/uart.h"
   9:../../libDaisy//src/hid/midi.h **** #include "util/ringbuffer.h"
  10:../../libDaisy//src/hid/midi.h **** #include "util/FIFO.h"
  11:../../libDaisy//src/hid/midi.h **** #include "hid/midi_parser.h"
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 13


  12:../../libDaisy//src/hid/midi.h **** #include "hid/usb_midi.h"
  13:../../libDaisy//src/hid/midi.h **** #include "sys/dma.h"
  14:../../libDaisy//src/hid/midi.h **** #include "sys/system.h"
  15:../../libDaisy//src/hid/midi.h **** 
  16:../../libDaisy//src/hid/midi.h **** namespace daisy
  17:../../libDaisy//src/hid/midi.h **** {
  18:../../libDaisy//src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART
  19:../../libDaisy//src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../libDaisy//src/hid/midi.h ****  *           There is an additional 2kB of RAM data used within this class
  21:../../libDaisy//src/hid/midi.h ****  *           for processing bulk data from the UART peripheral
  22:../../libDaisy//src/hid/midi.h ****  *  @ingroup midi
  23:../../libDaisy//src/hid/midi.h **** */
  24:../../libDaisy//src/hid/midi.h **** class MidiUartTransport
  25:../../libDaisy//src/hid/midi.h **** {
  26:../../libDaisy//src/hid/midi.h ****   public:
  27:../../libDaisy//src/hid/midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  28:../../libDaisy//src/hid/midi.h ****                                         size_t   size,
  29:../../libDaisy//src/hid/midi.h ****                                         void*    context);
  30:../../libDaisy//src/hid/midi.h **** 
  31:../../libDaisy//src/hid/midi.h ****     MidiUartTransport() {}
  32:../../libDaisy//src/hid/midi.h ****     ~MidiUartTransport() {}
  33:../../libDaisy//src/hid/midi.h **** 
  34:../../libDaisy//src/hid/midi.h ****     /** @brief Configuration structure for UART MIDI */
  35:../../libDaisy//src/hid/midi.h ****     struct Config
  36:../../libDaisy//src/hid/midi.h ****     {
  37:../../libDaisy//src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  38:../../libDaisy//src/hid/midi.h ****         dsy_gpio_pin                    rx;
  39:../../libDaisy//src/hid/midi.h ****         dsy_gpio_pin                    tx;
  40:../../libDaisy//src/hid/midi.h **** 
  41:../../libDaisy//src/hid/midi.h ****         /** Pointer to buffer for DMA UART rx byte transfer in background.
  42:../../libDaisy//src/hid/midi.h ****          *
  43:../../libDaisy//src/hid/midi.h ****          *  @details By default this uses a shared buffer in DMA_BUFFER_MEM_SECTION,
  44:../../libDaisy//src/hid/midi.h ****          *           which can only be utilized for a single UART peripheral. To
  45:../../libDaisy//src/hid/midi.h ****          *           use MIDI with multiple UART peripherals, you must provide your own
  46:../../libDaisy//src/hid/midi.h ****          *           buffer, allocated to a DMA-capable memory section.
  47:../../libDaisy//src/hid/midi.h ****          */
  48:../../libDaisy//src/hid/midi.h ****         uint8_t* rx_buffer;
  49:../../libDaisy//src/hid/midi.h **** 
  50:../../libDaisy//src/hid/midi.h ****         /** Size in bytes of rx_buffer.
  51:../../libDaisy//src/hid/midi.h ****          *
  52:../../libDaisy//src/hid/midi.h ****          *  @details This size determines the maximum Rx bytes readable by the UART in the backgrou
  53:../../libDaisy//src/hid/midi.h ****          *           By default it's set to the size of the default shared rx_buffer (256 bytes).
  54:../../libDaisy//src/hid/midi.h ****          *           While much smaller sizes can be used, data can get missed if the buffer is too
  55:../../libDaisy//src/hid/midi.h ****          */
  56:../../libDaisy//src/hid/midi.h ****         size_t rx_buffer_size;
  57:../../libDaisy//src/hid/midi.h **** 
  58:../../libDaisy//src/hid/midi.h ****         Config();
  59:../../libDaisy//src/hid/midi.h ****     };
  60:../../libDaisy//src/hid/midi.h **** 
  61:../../libDaisy//src/hid/midi.h ****     /** @brief Initialization of UART using config struct */
  62:../../libDaisy//src/hid/midi.h ****     inline void Init(Config config)
  63:../../libDaisy//src/hid/midi.h ****     {
  64:../../libDaisy//src/hid/midi.h ****         UartHandler::Config uart_config;
  65:../../libDaisy//src/hid/midi.h **** 
  66:../../libDaisy//src/hid/midi.h ****         //defaults
  67:../../libDaisy//src/hid/midi.h ****         uart_config.baudrate   = 31250;
  68:../../libDaisy//src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 14


  69:../../libDaisy//src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  70:../../libDaisy//src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  71:../../libDaisy//src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  72:../../libDaisy//src/hid/midi.h **** 
  73:../../libDaisy//src/hid/midi.h ****         //user settings
  74:../../libDaisy//src/hid/midi.h ****         uart_config.periph        = config.periph;
  75:../../libDaisy//src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  76:../../libDaisy//src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  77:../../libDaisy//src/hid/midi.h **** 
  78:../../libDaisy//src/hid/midi.h ****         rx_buffer      = config.rx_buffer;
  79:../../libDaisy//src/hid/midi.h ****         rx_buffer_size = config.rx_buffer_size;
  80:../../libDaisy//src/hid/midi.h **** 
  81:../../libDaisy//src/hid/midi.h ****         /** zero the buffer to ensure emptiness regardless of source memory */
  82:../../libDaisy//src/hid/midi.h ****         std::fill(rx_buffer, rx_buffer + rx_buffer_size, 0);
  83:../../libDaisy//src/hid/midi.h **** 
  84:../../libDaisy//src/hid/midi.h ****         uart_.Init(uart_config);
  85:../../libDaisy//src/hid/midi.h ****     }
  86:../../libDaisy//src/hid/midi.h **** 
  87:../../libDaisy//src/hid/midi.h ****     /** @brief Start the UART peripheral in listening mode.
  88:../../libDaisy//src/hid/midi.h ****      *  This will fill an internal data structure in the background */
  89:../../libDaisy//src/hid/midi.h ****     inline void StartRx(MidiRxParseCallback parse_callback, void* context)
  90:../../libDaisy//src/hid/midi.h ****     {
  91:../../libDaisy//src/hid/midi.h ****         parse_context_  = context;
  92:../../libDaisy//src/hid/midi.h ****         parse_callback_ = parse_callback;
  93:../../libDaisy//src/hid/midi.h ****         dsy_dma_clear_cache_for_buffer((uint8_t*)this,
  94:../../libDaisy//src/hid/midi.h ****                                        sizeof(MidiUartTransport));
  95:../../libDaisy//src/hid/midi.h ****         uart_.DmaListenStart(
  96:../../libDaisy//src/hid/midi.h ****             rx_buffer, rx_buffer_size, MidiUartTransport::rxCallback, this);
  97:../../libDaisy//src/hid/midi.h ****     }
  98:../../libDaisy//src/hid/midi.h **** 
  99:../../libDaisy//src/hid/midi.h ****     /** @brief returns whether the UART peripheral is actively listening in the background or not *
 100:../../libDaisy//src/hid/midi.h ****     inline bool RxActive() { return uart_.IsListening(); }
 101:../../libDaisy//src/hid/midi.h **** 
 102:../../libDaisy//src/hid/midi.h ****     /** @brief This is a no-op for UART transport - Rx is via DMA callback with circular buffer */
 103:../../libDaisy//src/hid/midi.h ****     inline void FlushRx() {}
 104:../../libDaisy//src/hid/midi.h **** 
 105:../../libDaisy//src/hid/midi.h ****     /** @brief sends the buffer of bytes out of the UART peripheral */
 106:../../libDaisy//src/hid/midi.h ****     inline void Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
 107:../../libDaisy//src/hid/midi.h **** 
 108:../../libDaisy//src/hid/midi.h ****   private:
 109:../../libDaisy//src/hid/midi.h ****     UartHandler         uart_;
 110:../../libDaisy//src/hid/midi.h ****     uint8_t*            rx_buffer;
 111:../../libDaisy//src/hid/midi.h ****     size_t              rx_buffer_size;
 112:../../libDaisy//src/hid/midi.h ****     void*               parse_context_;
 113:../../libDaisy//src/hid/midi.h ****     MidiRxParseCallback parse_callback_;
 114:../../libDaisy//src/hid/midi.h **** 
 115:../../libDaisy//src/hid/midi.h ****     /** Static callback for Uart MIDI that occurs when
 116:../../libDaisy//src/hid/midi.h ****          *  new data is available from the peripheral.
 117:../../libDaisy//src/hid/midi.h ****          *  The new data is transferred from the peripheral to the
 118:../../libDaisy//src/hid/midi.h ****          *  MIDI instance's byte FIFO that feeds the MIDI parser.
 119:../../libDaisy//src/hid/midi.h ****          *
 120:../../libDaisy//src/hid/midi.h ****          *  TODO: Handle UartHandler errors better/at all.
 121:../../libDaisy//src/hid/midi.h ****          *  (If there is a UART error, there's not really any recovery
 122:../../libDaisy//src/hid/midi.h ****          *  option at the moment)
 123:../../libDaisy//src/hid/midi.h ****          */
 124:../../libDaisy//src/hid/midi.h ****     static void rxCallback(uint8_t*            data,
 125:../../libDaisy//src/hid/midi.h ****                            size_t              size,
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 15


 126:../../libDaisy//src/hid/midi.h ****                            void*               context,
 127:../../libDaisy//src/hid/midi.h ****                            UartHandler::Result res)
 128:../../libDaisy//src/hid/midi.h ****     {
 129:../../libDaisy//src/hid/midi.h ****         /** Read context as transport type */
 130:../../libDaisy//src/hid/midi.h ****         MidiUartTransport* transport
 131:../../libDaisy//src/hid/midi.h ****             = reinterpret_cast<MidiUartTransport*>(context);
 132:../../libDaisy//src/hid/midi.h ****         if(res == UartHandler::Result::OK)
 133:../../libDaisy//src/hid/midi.h ****         {
 134:../../libDaisy//src/hid/midi.h ****             if(transport->parse_callback_)
 135:../../libDaisy//src/hid/midi.h ****             {
 136:../../libDaisy//src/hid/midi.h ****                 transport->parse_callback_(
 137:../../libDaisy//src/hid/midi.h ****                     data, size, transport->parse_context_);
 138:../../libDaisy//src/hid/midi.h ****             }
 139:../../libDaisy//src/hid/midi.h ****         }
 140:../../libDaisy//src/hid/midi.h ****     }
 141:../../libDaisy//src/hid/midi.h **** };
 142:../../libDaisy//src/hid/midi.h **** 
 143:../../libDaisy//src/hid/midi.h **** /**
 144:../../libDaisy//src/hid/midi.h ****     @brief Simple MIDI Handler \n
 145:../../libDaisy//src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n
 146:../../libDaisy//src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
 147:../../libDaisy//src/hid/midi.h ****     @author shensley
 148:../../libDaisy//src/hid/midi.h ****     @date March 2020
 149:../../libDaisy//src/hid/midi.h ****     @ingroup midi
 150:../../libDaisy//src/hid/midi.h **** */
 151:../../libDaisy//src/hid/midi.h **** template <typename Transport>
 152:../../libDaisy//src/hid/midi.h **** class MidiHandler
 153:../../libDaisy//src/hid/midi.h **** {
 154:../../libDaisy//src/hid/midi.h ****   public:
 155:../../libDaisy//src/hid/midi.h ****     MidiHandler() {}
 156:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 179              		.loc 10 156 5 is_stmt 1 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183              		@ link register save eliminated.
 184              	.LBB327:
 185              	.LBI327:
 186              		.file 11 "../../libDaisy//src/util/FIFO.h"
   1:../../libDaisy//src/util/FIFO.h **** #pragma once
   2:../../libDaisy//src/util/FIFO.h **** 
   3:../../libDaisy//src/util/FIFO.h **** #include <stdint.h>
   4:../../libDaisy//src/util/FIFO.h **** #include <stddef.h>
   5:../../libDaisy//src/util/FIFO.h **** #include <initializer_list>
   6:../../libDaisy//src/util/FIFO.h **** 
   7:../../libDaisy//src/util/FIFO.h **** namespace daisy
   8:../../libDaisy//src/util/FIFO.h **** {
   9:../../libDaisy//src/util/FIFO.h **** /** Capacity-independent base class for FIFO. Use FIFO instead. */
  10:../../libDaisy//src/util/FIFO.h **** template <typename T>
  11:../../libDaisy//src/util/FIFO.h **** class FIFOBase
  12:../../libDaisy//src/util/FIFO.h **** {
  13:../../libDaisy//src/util/FIFO.h ****   protected:
  14:../../libDaisy//src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize)
  15:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  16:../../libDaisy//src/util/FIFO.h ****     {
  17:../../libDaisy//src/util/FIFO.h ****     }
  18:../../libDaisy//src/util/FIFO.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 16


  19:../../libDaisy//src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize, std::initializer_list<T> valuesToAdd)
  20:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  21:../../libDaisy//src/util/FIFO.h ****     {
  22:../../libDaisy//src/util/FIFO.h ****         PushBack(valuesToAdd);
  23:../../libDaisy//src/util/FIFO.h ****     }
  24:../../libDaisy//src/util/FIFO.h **** 
  25:../../libDaisy//src/util/FIFO.h ****   public:
  26:../../libDaisy//src/util/FIFO.h ****     /** Copies all elements from another FIFO */
  27:../../libDaisy//src/util/FIFO.h ****     FIFOBase<T>& operator=(const FIFOBase<T>& other)
  28:../../libDaisy//src/util/FIFO.h ****     {
  29:../../libDaisy//src/util/FIFO.h ****         bufferIn_ = bufferOut_ = 0;
  30:../../libDaisy//src/util/FIFO.h ****         if(!other.IsEmpty())
  31:../../libDaisy//src/util/FIFO.h ****         {
  32:../../libDaisy//src/util/FIFO.h ****             int readPtr = other.bufferOut_;
  33:../../libDaisy//src/util/FIFO.h ****             while((readPtr != other.bufferIn_) && (bufferIn_ < bufferSize_))
  34:../../libDaisy//src/util/FIFO.h ****             {
  35:../../libDaisy//src/util/FIFO.h ****                 buffer_[bufferIn_++] = other.buffer_[readPtr++];
  36:../../libDaisy//src/util/FIFO.h ****                 if(readPtr >= other.bufferSize_)
  37:../../libDaisy//src/util/FIFO.h ****                     readPtr -= other.bufferSize_;
  38:../../libDaisy//src/util/FIFO.h ****             }
  39:../../libDaisy//src/util/FIFO.h ****         }
  40:../../libDaisy//src/util/FIFO.h ****         return *this;
  41:../../libDaisy//src/util/FIFO.h ****     }
  42:../../libDaisy//src/util/FIFO.h ****     ~FIFOBase() {}
  43:../../libDaisy//src/util/FIFO.h **** 
  44:../../libDaisy//src/util/FIFO.h ****     /** Removes all elements from the FIFO */
  45:../../libDaisy//src/util/FIFO.h ****     void Clear() { bufferIn_ = bufferOut_ = 0; }
  46:../../libDaisy//src/util/FIFO.h **** 
  47:../../libDaisy//src/util/FIFO.h ****     /** Adds an element to the back of the buffer, returning true on
  48:../../libDaisy//src/util/FIFO.h ****         success */
  49:../../libDaisy//src/util/FIFO.h ****     bool PushBack(const T& elementToAdd)
  50:../../libDaisy//src/util/FIFO.h ****     {
  51:../../libDaisy//src/util/FIFO.h ****         if(!IsFull())
  52:../../libDaisy//src/util/FIFO.h ****         {
  53:../../libDaisy//src/util/FIFO.h ****             buffer_[bufferIn_++] = elementToAdd;
  54:../../libDaisy//src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
  55:../../libDaisy//src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
  56:../../libDaisy//src/util/FIFO.h ****             return true;
  57:../../libDaisy//src/util/FIFO.h ****         }
  58:../../libDaisy//src/util/FIFO.h ****         return false;
  59:../../libDaisy//src/util/FIFO.h ****     }
  60:../../libDaisy//src/util/FIFO.h **** 
  61:../../libDaisy//src/util/FIFO.h ****     /** Adds multiple elements and returns the number of elements that were added */
  62:../../libDaisy//src/util/FIFO.h ****     int PushBack(std::initializer_list<T> valuesToAdd)
  63:../../libDaisy//src/util/FIFO.h ****     {
  64:../../libDaisy//src/util/FIFO.h ****         int numAdded = 0;
  65:../../libDaisy//src/util/FIFO.h ****         for(const auto& v : valuesToAdd)
  66:../../libDaisy//src/util/FIFO.h ****         {
  67:../../libDaisy//src/util/FIFO.h ****             if(IsFull())
  68:../../libDaisy//src/util/FIFO.h ****                 return numAdded;
  69:../../libDaisy//src/util/FIFO.h **** 
  70:../../libDaisy//src/util/FIFO.h ****             PushBack(v);
  71:../../libDaisy//src/util/FIFO.h ****             numAdded++;
  72:../../libDaisy//src/util/FIFO.h ****         }
  73:../../libDaisy//src/util/FIFO.h ****         return numAdded;
  74:../../libDaisy//src/util/FIFO.h ****     }
  75:../../libDaisy//src/util/FIFO.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 17


  76:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the last element */
  77:../../libDaisy//src/util/FIFO.h ****     T& Back()
  78:../../libDaisy//src/util/FIFO.h ****     {
  79:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
  80:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  81:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
  82:../../libDaisy//src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  83:../../libDaisy//src/util/FIFO.h ****         if(idx < 0)
  84:../../libDaisy//src/util/FIFO.h ****             idx += bufferSize_;
  85:../../libDaisy//src/util/FIFO.h ****         return buffer_[idx];
  86:../../libDaisy//src/util/FIFO.h ****     }
  87:../../libDaisy//src/util/FIFO.h **** 
  88:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the last element */
  89:../../libDaisy//src/util/FIFO.h ****     const T& Back() const
  90:../../libDaisy//src/util/FIFO.h ****     {
  91:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
  92:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  93:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
  94:../../libDaisy//src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  95:../../libDaisy//src/util/FIFO.h ****         if(idx < 0)
  96:../../libDaisy//src/util/FIFO.h ****             idx += bufferSize_;
  97:../../libDaisy//src/util/FIFO.h ****         return buffer_[idx];
  98:../../libDaisy//src/util/FIFO.h ****     }
  99:../../libDaisy//src/util/FIFO.h **** 
 100:../../libDaisy//src/util/FIFO.h ****     /** removes and returns an element from the front of the buffer */
 101:../../libDaisy//src/util/FIFO.h ****     T PopFront()
 102:../../libDaisy//src/util/FIFO.h ****     {
 103:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 104:../../libDaisy//src/util/FIFO.h ****             return T();
 105:../../libDaisy//src/util/FIFO.h ****         else
 106:../../libDaisy//src/util/FIFO.h ****         {
 107:../../libDaisy//src/util/FIFO.h ****             const auto result = buffer_[bufferOut_];
 108:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 109:../../libDaisy//src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 110:../../libDaisy//src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 111:../../libDaisy//src/util/FIFO.h ****             return result;
 112:../../libDaisy//src/util/FIFO.h ****         }
 113:../../libDaisy//src/util/FIFO.h ****     }
 114:../../libDaisy//src/util/FIFO.h **** 
 115:../../libDaisy//src/util/FIFO.h ****     /** returns a copy of the first element */
 116:../../libDaisy//src/util/FIFO.h ****     T& Front()
 117:../../libDaisy//src/util/FIFO.h ****     {
 118:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 119:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 120:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 121:../../libDaisy//src/util/FIFO.h ****         return buffer_[bufferOut_];
 122:../../libDaisy//src/util/FIFO.h ****     }
 123:../../libDaisy//src/util/FIFO.h **** 
 124:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the first element */
 125:../../libDaisy//src/util/FIFO.h ****     const T& Front() const
 126:../../libDaisy//src/util/FIFO.h ****     {
 127:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 128:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 129:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 130:../../libDaisy//src/util/FIFO.h ****         return buffer_[bufferOut_];
 131:../../libDaisy//src/util/FIFO.h ****     }
 132:../../libDaisy//src/util/FIFO.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 18


 133:../../libDaisy//src/util/FIFO.h ****     /** Returns true if the buffer contains an element equal to the provided value */
 134:../../libDaisy//src/util/FIFO.h ****     bool Contains(const T& element)
 135:../../libDaisy//src/util/FIFO.h ****     {
 136:../../libDaisy//src/util/FIFO.h ****         auto idx = bufferOut_;
 137:../../libDaisy//src/util/FIFO.h ****         while(idx != bufferIn_)
 138:../../libDaisy//src/util/FIFO.h ****         {
 139:../../libDaisy//src/util/FIFO.h ****             if(buffer_[idx] == element)
 140:../../libDaisy//src/util/FIFO.h ****                 return true;
 141:../../libDaisy//src/util/FIFO.h ****             idx++;
 142:../../libDaisy//src/util/FIFO.h ****             if(idx >= bufferSize_)
 143:../../libDaisy//src/util/FIFO.h ****                 idx -= bufferSize_;
 144:../../libDaisy//src/util/FIFO.h ****         }
 145:../../libDaisy//src/util/FIFO.h ****         return false;
 146:../../libDaisy//src/util/FIFO.h ****     }
 147:../../libDaisy//src/util/FIFO.h **** 
 148:../../libDaisy//src/util/FIFO.h ****     /** Returns the number of elements in the buffer that are equal to the provided value */
 149:../../libDaisy//src/util/FIFO.h ****     size_t CountEqualTo(const T& element)
 150:../../libDaisy//src/util/FIFO.h ****     {
 151:../../libDaisy//src/util/FIFO.h ****         size_t result = 0;
 152:../../libDaisy//src/util/FIFO.h ****         size_t idx    = bufferOut_;
 153:../../libDaisy//src/util/FIFO.h ****         while(idx != bufferIn_)
 154:../../libDaisy//src/util/FIFO.h ****         {
 155:../../libDaisy//src/util/FIFO.h ****             if(buffer_[idx] == element)
 156:../../libDaisy//src/util/FIFO.h ****                 result++;
 157:../../libDaisy//src/util/FIFO.h ****             idx++;
 158:../../libDaisy//src/util/FIFO.h ****             if(idx >= bufferSize_)
 159:../../libDaisy//src/util/FIFO.h ****                 idx -= bufferSize_;
 160:../../libDaisy//src/util/FIFO.h ****         }
 161:../../libDaisy//src/util/FIFO.h ****         return result;
 162:../../libDaisy//src/util/FIFO.h ****     }
 163:../../libDaisy//src/util/FIFO.h **** 
 164:../../libDaisy//src/util/FIFO.h ****     /** returns true, if the buffer is empty */
 165:../../libDaisy//src/util/FIFO.h ****     bool IsEmpty() const { return bufferIn_ == bufferOut_; }
 166:../../libDaisy//src/util/FIFO.h **** 
 167:../../libDaisy//src/util/FIFO.h ****     /** returns true, if the buffer is Full */
 168:../../libDaisy//src/util/FIFO.h ****     bool IsFull() const { return GetNumElements() == bufferSize_ - 1; }
 169:../../libDaisy//src/util/FIFO.h **** 
 170:../../libDaisy//src/util/FIFO.h ****     /** returns the number of elements in the buffer */
 171:../../libDaisy//src/util/FIFO.h ****     size_t GetNumElements() const
 172:../../libDaisy//src/util/FIFO.h ****     {
 173:../../libDaisy//src/util/FIFO.h ****         int32_t numElements = bufferIn_ - bufferOut_;
 174:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 175:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 176:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 177:../../libDaisy//src/util/FIFO.h ****     }
 178:../../libDaisy//src/util/FIFO.h **** 
 179:../../libDaisy//src/util/FIFO.h ****     /** inserts an element "idx" positions behind the first element and returns true if successful 
 180:../../libDaisy//src/util/FIFO.h ****     bool Insert(size_t idx, const T& element)
 181:../../libDaisy//src/util/FIFO.h ****     {
 182:../../libDaisy//src/util/FIFO.h ****         if(idx > GetNumElements())
 183:../../libDaisy//src/util/FIFO.h ****             return false;
 184:../../libDaisy//src/util/FIFO.h ****         if(IsFull())
 185:../../libDaisy//src/util/FIFO.h ****             return false;
 186:../../libDaisy//src/util/FIFO.h ****         if(idx == GetNumElements())
 187:../../libDaisy//src/util/FIFO.h ****         {
 188:../../libDaisy//src/util/FIFO.h ****             PushBack(element);
 189:../../libDaisy//src/util/FIFO.h ****             return true;
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 19


 190:../../libDaisy//src/util/FIFO.h ****         }
 191:../../libDaisy//src/util/FIFO.h ****         // copy last element
 192:../../libDaisy//src/util/FIFO.h ****         PushBack(Back());
 193:../../libDaisy//src/util/FIFO.h ****         // move remaining elements: n => n+1
 194:../../libDaisy//src/util/FIFO.h ****         for(int i = GetNumElements() - 2; i > int(idx); i--)
 195:../../libDaisy//src/util/FIFO.h ****             (*this)[i] = (*this)[i - 1];
 196:../../libDaisy//src/util/FIFO.h ****         // insert element
 197:../../libDaisy//src/util/FIFO.h ****         (*this)[idx] = element;
 198:../../libDaisy//src/util/FIFO.h ****         return true;
 199:../../libDaisy//src/util/FIFO.h ****     }
 200:../../libDaisy//src/util/FIFO.h **** 
 201:../../libDaisy//src/util/FIFO.h ****     /** removes the element "idx" positions behind the first element 
 202:../../libDaisy//src/util/FIFO.h ****      *  and returns true if successful */
 203:../../libDaisy//src/util/FIFO.h ****     bool Remove(size_t idx)
 204:../../libDaisy//src/util/FIFO.h ****     {
 205:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 206:../../libDaisy//src/util/FIFO.h ****             return false;
 207:../../libDaisy//src/util/FIFO.h **** 
 208:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 209:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 210:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 211:../../libDaisy//src/util/FIFO.h ****         size_t nextIndex = index + 1;
 212:../../libDaisy//src/util/FIFO.h ****         if(nextIndex >= bufferSize_)
 213:../../libDaisy//src/util/FIFO.h ****             nextIndex -= bufferSize_;
 214:../../libDaisy//src/util/FIFO.h **** 
 215:../../libDaisy//src/util/FIFO.h ****         while(nextIndex != bufferIn_)
 216:../../libDaisy//src/util/FIFO.h ****         {
 217:../../libDaisy//src/util/FIFO.h ****             buffer_[index] = buffer_[nextIndex];
 218:../../libDaisy//src/util/FIFO.h ****             index++;
 219:../../libDaisy//src/util/FIFO.h ****             nextIndex++;
 220:../../libDaisy//src/util/FIFO.h ****             if(index >= bufferSize_)
 221:../../libDaisy//src/util/FIFO.h ****                 index -= bufferSize_;
 222:../../libDaisy//src/util/FIFO.h ****             if(nextIndex >= bufferSize_)
 223:../../libDaisy//src/util/FIFO.h ****                 nextIndex -= bufferSize_;
 224:../../libDaisy//src/util/FIFO.h ****         }
 225:../../libDaisy//src/util/FIFO.h **** 
 226:../../libDaisy//src/util/FIFO.h ****         int32_t nextBufferIn = int32_t(bufferIn_) - 1;
 227:../../libDaisy//src/util/FIFO.h ****         if(nextBufferIn < 0)
 228:../../libDaisy//src/util/FIFO.h ****             nextBufferIn += bufferSize_;
 229:../../libDaisy//src/util/FIFO.h ****         bufferIn_ = size_t(nextBufferIn);
 230:../../libDaisy//src/util/FIFO.h **** 
 231:../../libDaisy//src/util/FIFO.h ****         return true;
 232:../../libDaisy//src/util/FIFO.h ****     }
 233:../../libDaisy//src/util/FIFO.h **** 
 234:../../libDaisy//src/util/FIFO.h ****     /** removes all elements from the buffer for which
 235:../../libDaisy//src/util/FIFO.h ****         (buffer(index) == element) returns true and returns the number of
 236:../../libDaisy//src/util/FIFO.h ****         elements that were removed. */
 237:../../libDaisy//src/util/FIFO.h ****     size_t RemoveAllEqualTo(const T& element)
 238:../../libDaisy//src/util/FIFO.h ****     {
 239:../../libDaisy//src/util/FIFO.h ****         size_t numRemoved = 0;
 240:../../libDaisy//src/util/FIFO.h ****         int    idx        = GetNumElements() - 1;
 241:../../libDaisy//src/util/FIFO.h ****         while(idx >= 0)
 242:../../libDaisy//src/util/FIFO.h ****         {
 243:../../libDaisy//src/util/FIFO.h ****             if((*this)[idx] == element)
 244:../../libDaisy//src/util/FIFO.h ****             {
 245:../../libDaisy//src/util/FIFO.h ****                 numRemoved++;
 246:../../libDaisy//src/util/FIFO.h ****                 Remove(idx);
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 20


 247:../../libDaisy//src/util/FIFO.h ****                 // was that the last element?
 248:../../libDaisy//src/util/FIFO.h ****                 if(idx == int(GetNumElements()) - 1)
 249:../../libDaisy//src/util/FIFO.h ****                     idx--;
 250:../../libDaisy//src/util/FIFO.h ****             }
 251:../../libDaisy//src/util/FIFO.h ****             else
 252:../../libDaisy//src/util/FIFO.h ****                 idx--;
 253:../../libDaisy//src/util/FIFO.h ****         }
 254:../../libDaisy//src/util/FIFO.h ****         return numRemoved;
 255:../../libDaisy//src/util/FIFO.h ****     }
 256:../../libDaisy//src/util/FIFO.h **** 
 257:../../libDaisy//src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 258:../../libDaisy//src/util/FIFO.h ****     T& operator[](size_t idx)
 259:../../libDaisy//src/util/FIFO.h ****     {
 260:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 261:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 262:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 263:../../libDaisy//src/util/FIFO.h **** 
 264:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 265:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 266:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 267:../../libDaisy//src/util/FIFO.h ****         return buffer_[index];
 268:../../libDaisy//src/util/FIFO.h ****     }
 269:../../libDaisy//src/util/FIFO.h **** 
 270:../../libDaisy//src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 271:../../libDaisy//src/util/FIFO.h ****     const T& operator[](size_t idx) const
 272:../../libDaisy//src/util/FIFO.h ****     {
 273:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 274:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 275:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 276:../../libDaisy//src/util/FIFO.h **** 
 277:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 278:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 279:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 280:../../libDaisy//src/util/FIFO.h ****         return buffer_[index];
 281:../../libDaisy//src/util/FIFO.h ****     }
 282:../../libDaisy//src/util/FIFO.h **** 
 283:../../libDaisy//src/util/FIFO.h ****     /** returns the total capacity */
 284:../../libDaisy//src/util/FIFO.h ****     size_t GetCapacity() const { return bufferSize_ - 1; }
 285:../../libDaisy//src/util/FIFO.h **** 
 286:../../libDaisy//src/util/FIFO.h ****   private:
 287:../../libDaisy//src/util/FIFO.h ****     FIFOBase(const FIFOBase<T>&) {} // non copyable
 288:../../libDaisy//src/util/FIFO.h **** 
 289:../../libDaisy//src/util/FIFO.h ****   private:
 290:../../libDaisy//src/util/FIFO.h ****     T*           buffer_;
 291:../../libDaisy//src/util/FIFO.h ****     const size_t bufferSize_;
 292:../../libDaisy//src/util/FIFO.h ****     size_t       bufferIn_;
 293:../../libDaisy//src/util/FIFO.h ****     size_t       bufferOut_;
 294:../../libDaisy//src/util/FIFO.h **** };
 295:../../libDaisy//src/util/FIFO.h **** 
 296:../../libDaisy//src/util/FIFO.h **** /** A simple FIFO ring buffer with a fixed size. */
 297:../../libDaisy//src/util/FIFO.h **** template <typename T, size_t capacity>
 298:../../libDaisy//src/util/FIFO.h **** class FIFO : public FIFOBase<T>
 187              		.loc 11 298 7 view .LVU19
 188              	.LBB328:
 189              	.LBI328:
  42:../../libDaisy//src/util/FIFO.h **** 
 190              		.loc 11 42 5 view .LVU20
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 21


  42:../../libDaisy//src/util/FIFO.h **** 
 191              		.loc 11 42 5 is_stmt 0 view .LVU21
 192              	.LBE328:
 193              	.LBE327:
 194              	.LBB329:
 195              	.LBI329:
 196              		.file 12 "../../libDaisy//src/hid/midi_parser.h"
   1:../../libDaisy//src/hid/midi_parser.h **** #pragma once
   2:../../libDaisy//src/hid/midi_parser.h **** #ifndef DSY_MIDI_PARSER_H
   3:../../libDaisy//src/hid/midi_parser.h **** #define DSY_MIDI_PARSER_H
   4:../../libDaisy//src/hid/midi_parser.h **** 
   5:../../libDaisy//src/hid/midi_parser.h **** #include <stdint.h>
   6:../../libDaisy//src/hid/midi_parser.h **** #include <stdlib.h>
   7:../../libDaisy//src/hid/midi_parser.h **** #include "hid/MidiEvent.h"
   8:../../libDaisy//src/hid/midi_parser.h **** 
   9:../../libDaisy//src/hid/midi_parser.h **** namespace daisy
  10:../../libDaisy//src/hid/midi_parser.h **** {
  11:../../libDaisy//src/hid/midi_parser.h **** /** @brief   Utility class for parsing raw byte streams into MIDI messages
  12:../../libDaisy//src/hid/midi_parser.h ****  *  @details Implemented as a state machine designed to parse one byte at a time
  13:../../libDaisy//src/hid/midi_parser.h ****  *  @ingroup midi
  14:../../libDaisy//src/hid/midi_parser.h ****  */
  15:../../libDaisy//src/hid/midi_parser.h **** class MidiParser
  16:../../libDaisy//src/hid/midi_parser.h **** {
  17:../../libDaisy//src/hid/midi_parser.h ****   public:
  18:../../libDaisy//src/hid/midi_parser.h ****     MidiParser(){};
  19:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 197              		.loc 12 19 5 is_stmt 1 view .LVU22
 198              		.loc 12 19 5 is_stmt 0 view .LVU23
 199              	.LBE329:
 200              	.LBB330:
 201              	.LBI330:
 202              		.file 13 "../../libDaisy//src/hid/usb_midi.h"
   1:../../libDaisy//src/hid/usb_midi.h **** #pragma once
   2:../../libDaisy//src/hid/usb_midi.h **** #ifndef __DSY_MIDIUSBTRANSPORT_H__
   3:../../libDaisy//src/hid/usb_midi.h **** #define __DSY_MIDIUSBTRANSPORT_H__
   4:../../libDaisy//src/hid/usb_midi.h **** 
   5:../../libDaisy//src/hid/usb_midi.h **** #include "hid/usb.h"
   6:../../libDaisy//src/hid/usb_midi.h **** #include "sys/system.h"
   7:../../libDaisy//src/hid/usb_midi.h **** #include "util/ringbuffer.h"
   8:../../libDaisy//src/hid/usb_midi.h **** 
   9:../../libDaisy//src/hid/usb_midi.h **** namespace daisy
  10:../../libDaisy//src/hid/usb_midi.h **** {
  11:../../libDaisy//src/hid/usb_midi.h **** /** @brief USB Transport for MIDI
  12:../../libDaisy//src/hid/usb_midi.h ****  *  @ingroup midi
  13:../../libDaisy//src/hid/usb_midi.h ****  */
  14:../../libDaisy//src/hid/usb_midi.h **** class MidiUsbTransport
  15:../../libDaisy//src/hid/usb_midi.h **** {
  16:../../libDaisy//src/hid/usb_midi.h ****   public:
  17:../../libDaisy//src/hid/usb_midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  18:../../libDaisy//src/hid/usb_midi.h ****                                         size_t   size,
  19:../../libDaisy//src/hid/usb_midi.h ****                                         void*    context);
  20:../../libDaisy//src/hid/usb_midi.h **** 
  21:../../libDaisy//src/hid/usb_midi.h ****     struct Config
  22:../../libDaisy//src/hid/usb_midi.h ****     {
  23:../../libDaisy//src/hid/usb_midi.h ****         enum Periph
  24:../../libDaisy//src/hid/usb_midi.h ****         {
  25:../../libDaisy//src/hid/usb_midi.h ****             INTERNAL = 0,
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 22


  26:../../libDaisy//src/hid/usb_midi.h ****             EXTERNAL
  27:../../libDaisy//src/hid/usb_midi.h ****         };
  28:../../libDaisy//src/hid/usb_midi.h **** 
  29:../../libDaisy//src/hid/usb_midi.h ****         Periph periph;
  30:../../libDaisy//src/hid/usb_midi.h **** 
  31:../../libDaisy//src/hid/usb_midi.h ****         /**
  32:../../libDaisy//src/hid/usb_midi.h ****          * When sending MIDI messages immediately back-to-back in user code,
  33:../../libDaisy//src/hid/usb_midi.h ****          * sometimes the USB CDC driver is still "busy".
  34:../../libDaisy//src/hid/usb_midi.h ****          *
  35:../../libDaisy//src/hid/usb_midi.h ****          * This option configures the number of times to retry a Tx after
  36:../../libDaisy//src/hid/usb_midi.h ****          * delaying for 100 microseconds (default = 3 retries).
  37:../../libDaisy//src/hid/usb_midi.h ****          *
  38:../../libDaisy//src/hid/usb_midi.h ****          * If you set this to zero, Tx will not retry so the attempt will block
  39:../../libDaisy//src/hid/usb_midi.h ****          * for slightly less time, but transmit can fail if the Tx state is busy.
  40:../../libDaisy//src/hid/usb_midi.h ****          */
  41:../../libDaisy//src/hid/usb_midi.h ****         uint8_t tx_retry_count;
  42:../../libDaisy//src/hid/usb_midi.h **** 
  43:../../libDaisy//src/hid/usb_midi.h ****         Config() : periph(INTERNAL), tx_retry_count(3) {}
  44:../../libDaisy//src/hid/usb_midi.h ****     };
  45:../../libDaisy//src/hid/usb_midi.h **** 
  46:../../libDaisy//src/hid/usb_midi.h ****     void Init(Config config);
  47:../../libDaisy//src/hid/usb_midi.h **** 
  48:../../libDaisy//src/hid/usb_midi.h ****     void StartRx(MidiRxParseCallback callback, void* context);
  49:../../libDaisy//src/hid/usb_midi.h ****     bool RxActive();
  50:../../libDaisy//src/hid/usb_midi.h ****     void FlushRx();
  51:../../libDaisy//src/hid/usb_midi.h ****     void Tx(uint8_t* buffer, size_t size);
  52:../../libDaisy//src/hid/usb_midi.h **** 
  53:../../libDaisy//src/hid/usb_midi.h ****     class Impl;
  54:../../libDaisy//src/hid/usb_midi.h **** 
  55:../../libDaisy//src/hid/usb_midi.h ****     MidiUsbTransport() : pimpl_(nullptr) {}
  56:../../libDaisy//src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 203              		.loc 13 56 5 is_stmt 1 view .LVU24
 204              		.loc 13 56 5 is_stmt 0 view .LVU25
 205              	.LBE330:
 206              		.loc 10 156 21 view .LVU26
 207 0000 7047     		bx	lr
 208              		.cfi_endproc
 209              	.LFE5276:
 211              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 212              		.thumb_set _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev,_ZN5daisy11MidiHandlerINS_16MidiUsbT
 213 0002 00BF     		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv,"axG",%progbits
 214              		.align	1
 215              		.p2align 2,,3
 216              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 220              		.fpu fpv5-d16
 222              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:
 223              	.LVL6:
 224              	.LFB5169:
 157:../../libDaisy//src/hid/midi.h **** 
 158:../../libDaisy//src/hid/midi.h ****     struct Config
 159:../../libDaisy//src/hid/midi.h ****     {
 160:../../libDaisy//src/hid/midi.h ****         typename Transport::Config transport_config;
 161:../../libDaisy//src/hid/midi.h ****     };
 162:../../libDaisy//src/hid/midi.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 23


 163:../../libDaisy//src/hid/midi.h ****     /** Initializes the MidiHandler
 164:../../libDaisy//src/hid/midi.h ****      *  \param config Configuration structure used to define specifics to the MIDI Handler.
 165:../../libDaisy//src/hid/midi.h ****      */
 166:../../libDaisy//src/hid/midi.h ****     void Init(Config config)
 167:../../libDaisy//src/hid/midi.h ****     {
 168:../../libDaisy//src/hid/midi.h ****         config_ = config;
 169:../../libDaisy//src/hid/midi.h ****         transport_.Init(config_.transport_config);
 170:../../libDaisy//src/hid/midi.h ****         parser_.Init();
 171:../../libDaisy//src/hid/midi.h ****     }
 172:../../libDaisy//src/hid/midi.h **** 
 173:../../libDaisy//src/hid/midi.h ****     /** Starts listening on the selected input mode(s).
 174:../../libDaisy//src/hid/midi.h ****      * MidiEvent Queue will begin to fill, and can be checked with HasEvents() */
 175:../../libDaisy//src/hid/midi.h ****     void StartReceive()
 176:../../libDaisy//src/hid/midi.h ****     {
 177:../../libDaisy//src/hid/midi.h ****         transport_.StartRx(MidiHandler::ParseCallback, this);
 178:../../libDaisy//src/hid/midi.h ****     }
 179:../../libDaisy//src/hid/midi.h **** 
 180:../../libDaisy//src/hid/midi.h ****     /** Start listening */
 181:../../libDaisy//src/hid/midi.h ****     void Listen()
 182:../../libDaisy//src/hid/midi.h ****     {
 183:../../libDaisy//src/hid/midi.h ****         // In case of UART Error, (particularly
 184:../../libDaisy//src/hid/midi.h ****         //  overrun error), UART disables itself.
 185:../../libDaisy//src/hid/midi.h ****         // Flush the buff, and restart.
 186:../../libDaisy//src/hid/midi.h ****         if(!transport_.RxActive())
 187:../../libDaisy//src/hid/midi.h ****         {
 188:../../libDaisy//src/hid/midi.h ****             parser_.Reset();
 189:../../libDaisy//src/hid/midi.h ****             transport_.FlushRx();
 190:../../libDaisy//src/hid/midi.h ****             StartReceive();
 191:../../libDaisy//src/hid/midi.h ****         }
 192:../../libDaisy//src/hid/midi.h ****     }
 193:../../libDaisy//src/hid/midi.h **** 
 194:../../libDaisy//src/hid/midi.h ****     /** Checks if there are unhandled messages in the queue
 195:../../libDaisy//src/hid/midi.h ****     \return True if there are events to be handled, else false.
 196:../../libDaisy//src/hid/midi.h ****      */
 197:../../libDaisy//src/hid/midi.h ****     bool HasEvents() const { return event_q_.GetNumElements() > 0; }
 198:../../libDaisy//src/hid/midi.h **** 
 199:../../libDaisy//src/hid/midi.h **** 
 200:../../libDaisy//src/hid/midi.h ****     /** Pops the oldest unhandled MidiEvent from the internal queue
 201:../../libDaisy//src/hid/midi.h ****     \return The event to be handled
 202:../../libDaisy//src/hid/midi.h ****      */
 203:../../libDaisy//src/hid/midi.h ****     MidiEvent PopEvent() { return event_q_.PopFront(); }
 204:../../libDaisy//src/hid/midi.h **** 
 205:../../libDaisy//src/hid/midi.h ****     /** SendMessage
 206:../../libDaisy//src/hid/midi.h ****     Send raw bytes as message
 207:../../libDaisy//src/hid/midi.h ****     */
 208:../../libDaisy//src/hid/midi.h ****     void SendMessage(uint8_t* bytes, size_t size)
 209:../../libDaisy//src/hid/midi.h ****     {
 210:../../libDaisy//src/hid/midi.h ****         transport_.Tx(bytes, size);
 211:../../libDaisy//src/hid/midi.h ****     }
 212:../../libDaisy//src/hid/midi.h **** 
 213:../../libDaisy//src/hid/midi.h ****     /** Feed in bytes to parser state machine from an external source.
 214:../../libDaisy//src/hid/midi.h ****         Populates internal FIFO queue with MIDI Messages.
 215:../../libDaisy//src/hid/midi.h **** 
 216:../../libDaisy//src/hid/midi.h ****         \note  Normally application code won't need to use this method directly.
 217:../../libDaisy//src/hid/midi.h ****         \param byte MIDI byte to be parsed
 218:../../libDaisy//src/hid/midi.h ****     */
 219:../../libDaisy//src/hid/midi.h ****     void Parse(uint8_t byte)
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 24


 220:../../libDaisy//src/hid/midi.h ****     {
 221:../../libDaisy//src/hid/midi.h ****         MidiEvent event;
 222:../../libDaisy//src/hid/midi.h ****         if(parser_.Parse(byte, &event))
 223:../../libDaisy//src/hid/midi.h ****         {
 224:../../libDaisy//src/hid/midi.h ****             event_q_.PushBack(event);
 225:../../libDaisy//src/hid/midi.h ****         }
 226:../../libDaisy//src/hid/midi.h ****     }
 227:../../libDaisy//src/hid/midi.h **** 
 228:../../libDaisy//src/hid/midi.h ****   private:
 229:../../libDaisy//src/hid/midi.h ****     Config               config_;
 230:../../libDaisy//src/hid/midi.h ****     Transport            transport_;
 231:../../libDaisy//src/hid/midi.h ****     MidiParser           parser_;
 232:../../libDaisy//src/hid/midi.h ****     FIFO<MidiEvent, 256> event_q_;
 233:../../libDaisy//src/hid/midi.h **** 
 234:../../libDaisy//src/hid/midi.h ****     static void ParseCallback(uint8_t* data, size_t size, void* context)
 225              		.loc 10 234 17 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 144
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              	.LBB340:
 235:../../libDaisy//src/hid/midi.h ****     {
 236:../../libDaisy//src/hid/midi.h ****         MidiHandler* handler = reinterpret_cast<MidiHandler*>(context);
 237:../../libDaisy//src/hid/midi.h ****         for(size_t i = 0; i < size; i++)
 230              		.loc 10 237 29 view .LVU28
 231 0000 B9B3     		cbz	r1, .L18
 232 0002 0144     		add	r1, r1, r0
 233              	.LVL7:
 234              		.loc 10 237 29 is_stmt 0 view .LVU29
 235              	.LBE340:
 234:../../libDaisy//src/hid/midi.h ****     {
 236              		.loc 10 234 17 view .LVU30
 237 0004 F0B5     		push	{r4, r5, r6, r7, lr}
 238              		.cfi_def_cfa_offset 20
 239              		.cfi_offset 4, -20
 240              		.cfi_offset 5, -16
 241              		.cfi_offset 6, -12
 242              		.cfi_offset 7, -8
 243              		.cfi_offset 14, -4
 244 0006 1546     		mov	r5, r2
 245 0008 A5B0     		sub	sp, sp, #148
 246              		.cfi_def_cfa_offset 168
 247              	.LBB359:
 248              	.LBB341:
 249              	.LBB342:
 222:../../libDaisy//src/hid/midi.h ****         {
 250              		.loc 10 222 25 view .LVU31
 251 000a 02F10807 		add	r7, r2, #8
 252 000e 441E     		subs	r4, r0, #1
 253 0010 4E1E     		subs	r6, r1, #1
 254 0012 01E0     		b	.L16
 255              	.LVL8:
 256              	.L11:
 222:../../libDaisy//src/hid/midi.h ****         {
 257              		.loc 10 222 25 view .LVU32
 258              	.LBE342:
 259              	.LBE341:
 260              		.loc 10 237 9 is_stmt 1 view .LVU33
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 25


 261              		.loc 10 237 29 view .LVU34
 262 0014 A642     		cmp	r6, r4
 263 0016 2AD0     		beq	.L21
 264              	.LVL9:
 265              	.L16:
 266              	.LBB358:
 267              	.LBI341:
 219:../../libDaisy//src/hid/midi.h ****     {
 268              		.loc 10 219 10 discriminator 2 view .LVU35
 269              	.LBB357:
 222:../../libDaisy//src/hid/midi.h ****         {
 270              		.loc 10 222 25 is_stmt 0 discriminator 2 view .LVU36
 271 0018 14F8011F 		ldrb	r1, [r4, #1]!	@ zero_extendqisi2
 272              	.LVL10:
 222:../../libDaisy//src/hid/midi.h ****         {
 273              		.loc 10 222 25 discriminator 2 view .LVU37
 274 001c 6A46     		mov	r2, sp
 275 001e 3846     		mov	r0, r7
 276 0020 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ParseEhPNS_9MidiEventE
 277              	.LVL11:
 222:../../libDaisy//src/hid/midi.h ****         {
 278              		.loc 10 222 9 discriminator 2 view .LVU38
 279 0024 0028     		cmp	r0, #0
 280 0026 F5D0     		beq	.L11
 281              	.LVL12:
 282              	.LBB343:
 283              	.LBI343:
  49:../../libDaisy//src/util/FIFO.h ****     {
 284              		.loc 11 49 10 is_stmt 1 view .LVU39
 285              	.LBB344:
 286              	.LBB345:
 287              	.LBI345:
 168:../../libDaisy//src/util/FIFO.h **** 
 288              		.loc 11 168 10 view .LVU40
 289              	.LBB346:
 290              	.LBB347:
 291              	.LBI347:
 171:../../libDaisy//src/util/FIFO.h ****     {
 292              		.loc 11 171 12 view .LVU41
 293              	.LBB348:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 294              		.loc 11 175 28 is_stmt 0 view .LVU42
 295 0028 D5F8A8C0 		ldr	ip, [r5, #168]
 296              	.LBE348:
 297              	.LBE347:
 298              	.LBE346:
 299              	.LBE345:
  53:../../libDaisy//src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 300              		.loc 11 53 13 view .LVU43
 301 002c 9022     		movs	r2, #144
 302 002e 6946     		mov	r1, sp
 303              	.LBB355:
 304              	.LBB353:
 305              	.LBB351:
 306              	.LBB349:
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 307              		.loc 11 173 41 view .LVU44
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 26


 308 0030 D5E92B03 		ldrd	r0, r3, [r5, #172]
 309              	.LVL13:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 310              		.loc 11 174 9 view .LVU45
 311 0034 C31A     		subs	r3, r0, r3
 312              	.LVL14:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 313              		.loc 11 174 9 view .LVU46
 314              	.LBE349:
 315              	.LBE351:
 316              	.LBE353:
 317              	.LBE355:
  53:../../libDaisy//src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 318              		.loc 11 53 13 view .LVU47
 319 0036 00F1010E 		add	lr, r0, #1
 320 003a 00EBC000 		add	r0, r0, r0, lsl #3
 321              	.LBB356:
 322              	.LBB354:
 323              	.LBB352:
 324              	.LBB350:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 325              		.loc 11 175 25 view .LVU48
 326 003e 48BF     		it	mi
 327 0040 6344     		addmi	r3, r3, ip
 328              	.LVL15:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 329              		.loc 11 175 25 view .LVU49
 330              	.LBE350:
 331              	.LBE352:
 168:../../libDaisy//src/util/FIFO.h **** 
 332              		.loc 11 168 66 view .LVU50
 333 0042 0CF1FF3C 		add	ip, ip, #-1
 334              	.LBE354:
 335              	.LBE356:
  51:../../libDaisy//src/util/FIFO.h ****         {
 336              		.loc 11 51 9 view .LVU51
 337 0046 9C45     		cmp	ip, r3
 338 0048 E4D0     		beq	.L11
  53:../../libDaisy//src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 339              		.loc 11 53 13 view .LVU52
 340 004a D5F8A430 		ldr	r3, [r5, #164]
 341 004e C5F8ACE0 		str	lr, [r5, #172]
 342 0052 03EB0010 		add	r0, r3, r0, lsl #4
 343 0056 FFF7FEFF 		bl	memcpy
 344              	.LVL16:
  54:../../libDaisy//src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 345              		.loc 11 54 29 view .LVU53
 346 005a D5E92A23 		ldrd	r2, r3, [r5, #168]
  54:../../libDaisy//src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 347              		.loc 11 54 13 view .LVU54
 348 005e 9342     		cmp	r3, r2
  55:../../libDaisy//src/util/FIFO.h ****             return true;
 349              		.loc 11 55 27 view .LVU55
 350 0060 A3EB0203 		sub	r3, r3, r2
 351 0064 28BF     		it	cs
 352 0066 C5F8AC30 		strcs	r3, [r5, #172]
 353              	.LVL17:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 27


  55:../../libDaisy//src/util/FIFO.h ****             return true;
 354              		.loc 11 55 27 view .LVU56
 355              	.LBE344:
 356              	.LBE343:
 357              	.LBE357:
 358              	.LBE358:
 359              		.loc 10 237 9 is_stmt 1 view .LVU57
 360              		.loc 10 237 29 view .LVU58
 361 006a A642     		cmp	r6, r4
 362 006c D4D1     		bne	.L16
 363              	.LVL18:
 364              	.L21:
 365              		.loc 10 237 29 is_stmt 0 view .LVU59
 366              	.LBE359:
 238:../../libDaisy//src/hid/midi.h ****         {
 239:../../libDaisy//src/hid/midi.h ****             handler->Parse(data[i]);
 240:../../libDaisy//src/hid/midi.h ****         }
 241:../../libDaisy//src/hid/midi.h ****     }
 367              		.loc 10 241 5 view .LVU60
 368 006e 25B0     		add	sp, sp, #148
 369              		.cfi_def_cfa_offset 20
 370              		@ sp needed
 371 0070 F0BD     		pop	{r4, r5, r6, r7, pc}
 372              	.LVL19:
 373              	.L18:
 374              		.cfi_def_cfa_offset 0
 375              		.cfi_restore 4
 376              		.cfi_restore 5
 377              		.cfi_restore 6
 378              		.cfi_restore 7
 379              		.cfi_restore 14
 380              		.loc 10 241 5 view .LVU61
 381 0072 7047     		bx	lr
 382              		.cfi_endproc
 383              	.LFE5169:
 385              		.section	.text._Z13AudioCallbackPKfPfj,"ax",%progbits
 386              		.align	1
 387              		.p2align 2,,3
 388              		.global	_Z13AudioCallbackPKfPfj
 389              		.syntax unified
 390              		.thumb
 391              		.thumb_func
 392              		.fpu fpv5-d16
 394              	_Z13AudioCallbackPKfPfj:
 395              	.LVL20:
 396              	.LFB4681:
 397              		.file 14 "MiniSynth.cpp"
   1:MiniSynth.cpp **** #include "daisy_seed.h"
   2:MiniSynth.cpp **** #include "daisysp.h"
   3:MiniSynth.cpp **** 
   4:MiniSynth.cpp **** using namespace daisy;
   5:MiniSynth.cpp **** using namespace daisysp;
   6:MiniSynth.cpp **** 
   7:MiniSynth.cpp **** // Global objects
   8:MiniSynth.cpp **** DaisySeed hw;
   9:MiniSynth.cpp **** MidiUsbHandler midi;
  10:MiniSynth.cpp **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 28


  11:MiniSynth.cpp **** Oscillator osc;
  12:MiniSynth.cpp **** Svf       filter;
  13:MiniSynth.cpp **** AdEnv     env;
  14:MiniSynth.cpp **** Switch    button1;
  15:MiniSynth.cpp **** 
  16:MiniSynth.cpp **** // Envelope Stages
  17:MiniSynth.cpp **** enum EnvStage { ENV_IDLE, ENV_ATTACK, ENV_HOLD, ENV_DECAY };
  18:MiniSynth.cpp **** EnvStage current_stage = ENV_IDLE;
  19:MiniSynth.cpp **** float env_out = 0.0f;
  20:MiniSynth.cpp **** 
  21:MiniSynth.cpp **** // Note handling
  22:MiniSynth.cpp **** int current_note = -1;
  23:MiniSynth.cpp **** 
  24:MiniSynth.cpp **** void AudioCallback(AudioHandle::InterleavingInputBuffer in,
  25:MiniSynth.cpp ****                    AudioHandle::InterleavingOutputBuffer out,
  26:MiniSynth.cpp ****                    size_t size)
  27:MiniSynth.cpp **** {
 398              		.loc 14 27 1 is_stmt 1 view -0
 399              		.cfi_startproc
 400              		@ args = 0, pretend = 0, frame = 0
 401              		@ frame_needed = 0, uses_anonymous_args = 0
  28:MiniSynth.cpp ****     float osc_out, filtered;
 402              		.loc 14 28 5 view .LVU63
  29:MiniSynth.cpp **** 
  30:MiniSynth.cpp ****     // Read knobs
  31:MiniSynth.cpp ****     float cutoff_pot 	= hw.adc.GetFloat(0); // A0
 403              		.loc 14 31 5 view .LVU64
  27:MiniSynth.cpp ****     float osc_out, filtered;
 404              		.loc 14 27 1 is_stmt 0 view .LVU65
 405 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 406              		.cfi_def_cfa_offset 32
 407              		.cfi_offset 3, -32
 408              		.cfi_offset 4, -28
 409              		.cfi_offset 5, -24
 410              		.cfi_offset 6, -20
 411              		.cfi_offset 7, -16
 412              		.cfi_offset 8, -12
 413              		.cfi_offset 9, -8
 414              		.cfi_offset 14, -4
 415              		.loc 14 31 40 view .LVU66
 416 0004 6648     		ldr	r0, .L45
 417              	.LVL21:
  27:MiniSynth.cpp ****     float osc_out, filtered;
 418              		.loc 14 27 1 view .LVU67
 419 0006 0C46     		mov	r4, r1
 420              		.loc 14 31 40 view .LVU68
 421 0008 0021     		movs	r1, #0
 422              	.LVL22:
  27:MiniSynth.cpp ****     float osc_out, filtered;
 423              		.loc 14 27 1 view .LVU69
 424 000a 1546     		mov	r5, r2
  32:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
  33:MiniSynth.cpp **** 	float env_amt 		= hw.adc.GetFloat(2); // A3
  34:MiniSynth.cpp ****     
  35:MiniSynth.cpp **** 	// Map
  36:MiniSynth.cpp **** 	float base_cutoff    = fmap(cutoff_pot, 20.f, 10000.f);
  37:MiniSynth.cpp ****     float q      	= fmap(q_pot, 0.1f, 1.5f);
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 29


  38:MiniSynth.cpp **** 	float depth 	= fmap(env_amt, 0.f, 4000.f); // max mod depth (Hz)
  39:MiniSynth.cpp **** 
  40:MiniSynth.cpp **** 	// Compute final cutoff
  41:MiniSynth.cpp **** 	float mod_cutoff = base_cutoff + (env_out * depth);
  42:MiniSynth.cpp **** 	mod_cutoff = fclamp(mod_cutoff, 20.f, 18000.f); // clamp
  43:MiniSynth.cpp **** 	
  44:MiniSynth.cpp **** 	float midi_base  = 36.0f;
  45:MiniSynth.cpp **** 
  46:MiniSynth.cpp ****     if (current_note >= 0)
 425              		.loc 14 46 22 view .LVU70
 426 000c DFF8D491 		ldr	r9, .L45+68
  41:MiniSynth.cpp **** 	mod_cutoff = fclamp(mod_cutoff, 20.f, 18000.f); // clamp
 427              		.loc 14 41 44 view .LVU71
 428 0010 644F     		ldr	r7, .L45+4
  27:MiniSynth.cpp ****     float osc_out, filtered;
 429              		.loc 14 27 1 view .LVU72
 430 0012 2DED048B 		vpush.64	{d8, d9}
 431              		.cfi_def_cfa_offset 48
 432              		.cfi_offset 80, -48
 433              		.cfi_offset 81, -44
 434              		.cfi_offset 82, -40
 435              		.cfi_offset 83, -36
  31:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
 436              		.loc 14 31 40 view .LVU73
 437 0016 FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 438              	.LVL23:
  32:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
 439              		.loc 14 32 37 view .LVU74
 440 001a 0121     		movs	r1, #1
 441 001c 6048     		ldr	r0, .L45
  31:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
 442              		.loc 14 31 40 view .LVU75
 443 001e B0EE409A 		vmov.f32	s18, s0
 444              	.LVL24:
  32:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
 445              		.loc 14 32 5 is_stmt 1 view .LVU76
  32:MiniSynth.cpp ****     float q_pot  		= hw.adc.GetFloat(1); // A1
 446              		.loc 14 32 37 is_stmt 0 view .LVU77
 447 0022 FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 448              	.LVL25:
  33:MiniSynth.cpp ****     
 449              		.loc 14 33 35 view .LVU78
 450 0026 0221     		movs	r1, #2
 451 0028 5D48     		ldr	r0, .L45
  32:MiniSynth.cpp **** 	float env_amt 		= hw.adc.GetFloat(2); // A3
 452              		.loc 14 32 37 view .LVU79
 453 002a F0EE408A 		vmov.f32	s17, s0
 454              	.LVL26:
  33:MiniSynth.cpp ****     
 455              		.loc 14 33 2 is_stmt 1 view .LVU80
  33:MiniSynth.cpp ****     
 456              		.loc 14 33 35 is_stmt 0 view .LVU81
 457 002e FFF7FEFF 		bl	_ZNK5daisy9AdcHandle8GetFloatEh
 458              	.LVL27:
  36:MiniSynth.cpp ****     float q      	= fmap(q_pot, 0.1f, 1.5f);
 459              		.loc 14 36 2 is_stmt 1 view .LVU82
 460              	.LBB399:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 30


 461              	.LBI399:
 462              		.file 15 "../../DaisySP//Source/Utility/dsp.h"
   1:../../DaisySP//Source/Utility/dsp.h **** /*
   2:../../DaisySP//Source/Utility/dsp.h **** Copyright (c) 2020 Electrosmith, Corp, Emilie Gillet
   3:../../DaisySP//Source/Utility/dsp.h **** 
   4:../../DaisySP//Source/Utility/dsp.h **** Use of this source code is governed by an MIT-style
   5:../../DaisySP//Source/Utility/dsp.h **** license that can be found in the LICENSE file or at
   6:../../DaisySP//Source/Utility/dsp.h **** https://opensource.org/licenses/MIT.
   7:../../DaisySP//Source/Utility/dsp.h **** */
   8:../../DaisySP//Source/Utility/dsp.h **** 
   9:../../DaisySP//Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
  10:../../DaisySP//Source/Utility/dsp.h **** */
  11:../../DaisySP//Source/Utility/dsp.h **** #pragma once
  12:../../DaisySP//Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
  13:../../DaisySP//Source/Utility/dsp.h **** #define DSY_CORE_DSP
  14:../../DaisySP//Source/Utility/dsp.h **** #include <cassert>
  15:../../DaisySP//Source/Utility/dsp.h **** #include <cstdint>
  16:../../DaisySP//Source/Utility/dsp.h **** #include <random>
  17:../../DaisySP//Source/Utility/dsp.h **** #include <cmath>
  18:../../DaisySP//Source/Utility/dsp.h **** 
  19:../../DaisySP//Source/Utility/dsp.h **** /** PIs
  20:../../DaisySP//Source/Utility/dsp.h **** */
  21:../../DaisySP//Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  22:../../DaisySP//Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  23:../../DaisySP//Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  24:../../DaisySP//Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  25:../../DaisySP//Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  26:../../DaisySP//Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  27:../../DaisySP//Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  28:../../DaisySP//Source/Utility/dsp.h **** 
  29:../../DaisySP//Source/Utility/dsp.h **** namespace daisysp
  30:../../DaisySP//Source/Utility/dsp.h **** {
  31:../../DaisySP//Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  32:../../DaisySP//Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  33:../../DaisySP//Source/Utility/dsp.h **** 
  34:../../DaisySP//Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  35:../../DaisySP//Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  36:../../DaisySP//Source/Utility/dsp.h **** 
  37:../../DaisySP//Source/Utility/dsp.h **** /** efficient floating point min/max
  38:../../DaisySP//Source/Utility/dsp.h **** c/o stephen mccaul
  39:../../DaisySP//Source/Utility/dsp.h **** */
  40:../../DaisySP//Source/Utility/dsp.h **** inline float fmax(float a, float b)
  41:../../DaisySP//Source/Utility/dsp.h **** {
  42:../../DaisySP//Source/Utility/dsp.h ****     float r;
  43:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
  44:../../DaisySP//Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  45:../../DaisySP//Source/Utility/dsp.h **** #else
  46:../../DaisySP//Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  47:../../DaisySP//Source/Utility/dsp.h **** #endif // __arm__
  48:../../DaisySP//Source/Utility/dsp.h ****     return r;
  49:../../DaisySP//Source/Utility/dsp.h **** }
  50:../../DaisySP//Source/Utility/dsp.h **** 
  51:../../DaisySP//Source/Utility/dsp.h **** inline float fmin(float a, float b)
  52:../../DaisySP//Source/Utility/dsp.h **** {
  53:../../DaisySP//Source/Utility/dsp.h ****     float r;
  54:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
  55:../../DaisySP//Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 31


  56:../../DaisySP//Source/Utility/dsp.h **** #else
  57:../../DaisySP//Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  58:../../DaisySP//Source/Utility/dsp.h **** #endif // __arm__
  59:../../DaisySP//Source/Utility/dsp.h ****     return r;
  60:../../DaisySP//Source/Utility/dsp.h **** }
  61:../../DaisySP//Source/Utility/dsp.h **** 
  62:../../DaisySP//Source/Utility/dsp.h **** /** quick fp clamp
  63:../../DaisySP//Source/Utility/dsp.h **** */
  64:../../DaisySP//Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  65:../../DaisySP//Source/Utility/dsp.h **** {
  66:../../DaisySP//Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  67:../../DaisySP//Source/Utility/dsp.h **** }
  68:../../DaisySP//Source/Utility/dsp.h **** 
  69:../../DaisySP//Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  70:../../DaisySP//Source/Utility/dsp.h **** Original code by Stefan Stenzel
  71:../../DaisySP//Source/Utility/dsp.h **** These are approximations
  72:../../DaisySP//Source/Utility/dsp.h **** */
  73:../../DaisySP//Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  74:../../DaisySP//Source/Utility/dsp.h **** {
  75:../../DaisySP//Source/Utility/dsp.h ****     long *lp, l;
  76:../../DaisySP//Source/Utility/dsp.h ****     lp = (long *)(&f);
  77:../../DaisySP//Source/Utility/dsp.h ****     l  = *lp;
  78:../../DaisySP//Source/Utility/dsp.h ****     l -= 0x3F800000;
  79:../../DaisySP//Source/Utility/dsp.h ****     l <<= (n - 1);
  80:../../DaisySP//Source/Utility/dsp.h ****     l += 0x3F800000;
  81:../../DaisySP//Source/Utility/dsp.h ****     *lp = l;
  82:../../DaisySP//Source/Utility/dsp.h ****     return f;
  83:../../DaisySP//Source/Utility/dsp.h **** }
  84:../../DaisySP//Source/Utility/dsp.h **** 
  85:../../DaisySP//Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  86:../../DaisySP//Source/Utility/dsp.h **** {
  87:../../DaisySP//Source/Utility/dsp.h ****     long *lp, l;
  88:../../DaisySP//Source/Utility/dsp.h ****     lp = (long *)(&f);
  89:../../DaisySP//Source/Utility/dsp.h ****     l  = *lp;
  90:../../DaisySP//Source/Utility/dsp.h ****     l -= 0x3F800000;
  91:../../DaisySP//Source/Utility/dsp.h ****     l >>= (n - 1);
  92:../../DaisySP//Source/Utility/dsp.h ****     l += 0x3F800000;
  93:../../DaisySP//Source/Utility/dsp.h ****     *lp = l;
  94:../../DaisySP//Source/Utility/dsp.h ****     return f;
  95:../../DaisySP//Source/Utility/dsp.h **** }
  96:../../DaisySP//Source/Utility/dsp.h **** 
  97:../../DaisySP//Source/Utility/dsp.h **** /** Significantly more efficient than fmodf(x, 1.0f) for calculating
  98:../../DaisySP//Source/Utility/dsp.h ****  *  the decimal part of a floating point value.
  99:../../DaisySP//Source/Utility/dsp.h ****  */
 100:../../DaisySP//Source/Utility/dsp.h **** inline float fastmod1f(float x)
 101:../../DaisySP//Source/Utility/dsp.h **** {
 102:../../DaisySP//Source/Utility/dsp.h ****     return x - static_cast<int>(x);
 103:../../DaisySP//Source/Utility/dsp.h **** }
 104:../../DaisySP//Source/Utility/dsp.h **** 
 105:../../DaisySP//Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
 106:../../DaisySP//Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
 107:../../DaisySP//Source/Utility/dsp.h **** */
 108:../../DaisySP//Source/Utility/dsp.h **** inline float pow10f(float f)
 109:../../DaisySP//Source/Utility/dsp.h **** {
 110:../../DaisySP//Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
 111:../../DaisySP//Source/Utility/dsp.h **** }
 112:../../DaisySP//Source/Utility/dsp.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 32


 113:../../DaisySP//Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
 114:../../DaisySP//Source/Utility/dsp.h **** About 25% performance increase over std::log10f
 115:../../DaisySP//Source/Utility/dsp.h **** */
 116:../../DaisySP//Source/Utility/dsp.h **** inline float fastlog2f(float f)
 117:../../DaisySP//Source/Utility/dsp.h **** {
 118:../../DaisySP//Source/Utility/dsp.h ****     float frac;
 119:../../DaisySP//Source/Utility/dsp.h ****     int   exp;
 120:../../DaisySP//Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
 121:../../DaisySP//Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 122:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 123:../../DaisySP//Source/Utility/dsp.h ****     f += -4.11852516267426f;
 124:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 125:../../DaisySP//Source/Utility/dsp.h ****     f += 6.02197014179219f;
 126:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 127:../../DaisySP//Source/Utility/dsp.h ****     f += -3.13396450166353f;
 128:../../DaisySP//Source/Utility/dsp.h ****     f += exp;
 129:../../DaisySP//Source/Utility/dsp.h ****     return (f);
 130:../../DaisySP//Source/Utility/dsp.h **** }
 131:../../DaisySP//Source/Utility/dsp.h **** 
 132:../../DaisySP//Source/Utility/dsp.h **** inline float fastlog10f(float f)
 133:../../DaisySP//Source/Utility/dsp.h **** {
 134:../../DaisySP//Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 135:../../DaisySP//Source/Utility/dsp.h **** }
 136:../../DaisySP//Source/Utility/dsp.h **** 
 137:../../DaisySP//Source/Utility/dsp.h **** /** Midi to frequency helper
 138:../../DaisySP//Source/Utility/dsp.h **** */
 139:../../DaisySP//Source/Utility/dsp.h **** inline float mtof(float m)
 140:../../DaisySP//Source/Utility/dsp.h **** {
 141:../../DaisySP//Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 142:../../DaisySP//Source/Utility/dsp.h **** }
 143:../../DaisySP//Source/Utility/dsp.h **** 
 144:../../DaisySP//Source/Utility/dsp.h **** 
 145:../../DaisySP//Source/Utility/dsp.h **** /** one pole lpf
 146:../../DaisySP//Source/Utility/dsp.h **** out is passed by reference, and must be retained between
 147:../../DaisySP//Source/Utility/dsp.h **** calls to properly filter the signal
 148:../../DaisySP//Source/Utility/dsp.h **** coeff can be calculated:
 149:../../DaisySP//Source/Utility/dsp.h **** coeff = 1.0 / (time * sample_rate) ; where time is in seconds
 150:../../DaisySP//Source/Utility/dsp.h **** */
 151:../../DaisySP//Source/Utility/dsp.h **** inline void fonepole(float &out, float in, float coeff)
 152:../../DaisySP//Source/Utility/dsp.h **** {
 153:../../DaisySP//Source/Utility/dsp.h ****     out += coeff * (in - out);
 154:../../DaisySP//Source/Utility/dsp.h **** }
 155:../../DaisySP//Source/Utility/dsp.h **** 
 156:../../DaisySP//Source/Utility/dsp.h **** /** Curves to use with the fmap function */
 157:../../DaisySP//Source/Utility/dsp.h **** enum class Mapping
 158:../../DaisySP//Source/Utility/dsp.h **** {
 159:../../DaisySP//Source/Utility/dsp.h ****     LINEAR,
 160:../../DaisySP//Source/Utility/dsp.h ****     EXP,
 161:../../DaisySP//Source/Utility/dsp.h ****     LOG,
 162:../../DaisySP//Source/Utility/dsp.h **** };
 163:../../DaisySP//Source/Utility/dsp.h **** 
 164:../../DaisySP//Source/Utility/dsp.h **** /** Maps a float between a specified range, using a specified curve.
 165:../../DaisySP//Source/Utility/dsp.h ****  *
 166:../../DaisySP//Source/Utility/dsp.h ****  *  \param in a value between 0 to 1 that will be mapped to the new range.
 167:../../DaisySP//Source/Utility/dsp.h ****  *  \param min the new minimum value
 168:../../DaisySP//Source/Utility/dsp.h ****  *  \param max the new maxmimum value
 169:../../DaisySP//Source/Utility/dsp.h ****  *  \param curve a Mapping Value to adjust the response curve of the transformation
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 33


 170:../../DaisySP//Source/Utility/dsp.h ****  *               defaults to Linear. @see Mapping
 171:../../DaisySP//Source/Utility/dsp.h ****  *
 172:../../DaisySP//Source/Utility/dsp.h ****  *  When using the log curve min and max, must be greater than zero.
 173:../../DaisySP//Source/Utility/dsp.h ****  *
 174:../../DaisySP//Source/Utility/dsp.h ****  *  \retval returns the transformed float within the new range.
 175:../../DaisySP//Source/Utility/dsp.h **** */
 176:../../DaisySP//Source/Utility/dsp.h **** inline float
 177:../../DaisySP//Source/Utility/dsp.h **** fmap(float in, float min, float max, Mapping curve = Mapping::LINEAR)
 463              		.loc 15 177 1 view .LVU83
 464              	.LBE399:
 178:../../DaisySP//Source/Utility/dsp.h **** {
 179:../../DaisySP//Source/Utility/dsp.h ****     switch(curve)
 465              		.loc 15 179 5 view .LVU84
 466              	.LBB422:
 467              	.LBB400:
 180:../../DaisySP//Source/Utility/dsp.h ****     {
 181:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::EXP:
 182:../../DaisySP//Source/Utility/dsp.h ****             return fclamp(min + (in * in) * (max - min), min, max);
 183:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::LOG:
 184:../../DaisySP//Source/Utility/dsp.h ****         {
 185:../../DaisySP//Source/Utility/dsp.h ****             const float a = 1.f / log10f(max / min);
 186:../../DaisySP//Source/Utility/dsp.h ****             return fclamp(min * powf(10, in / a), min, max);
 187:../../DaisySP//Source/Utility/dsp.h ****         }
 188:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::LINEAR:
 468              		.loc 15 188 9 view .LVU85
 189:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 469              		.loc 15 189 9 view .LVU86
 470              		.loc 15 189 18 view .LVU87
 471              		.loc 15 189 31 is_stmt 0 view .LVU88
 472 0032 B3EE047A 		vmov.f32	s14, #2.0e+1
 473              	.LBE400:
 474              	.LBE422:
 475              	.LBB423:
 476              	.LBB424:
 477 0036 9FED5C5A 		vldr.32	s10, .L45+8
 478              	.LBE424:
 479              	.LBE423:
 480              	.LBB446:
 481              	.LBB447:
 482 003a DFED5C5A 		vldr.32	s11, .L45+12
 483              	.LBE447:
 484              	.LBE446:
 485              	.LBB462:
 486              	.LBB416:
 487 003e B0EE478A 		vmov.f32	s16, s14
 488 0042 DFED5B6A 		vldr.32	s13, .L45+16
 489              	.LBE416:
 490              	.LBE462:
 491              		.loc 14 46 22 view .LVU89
 492 0046 D9F80030 		ldr	r3, [r9]
 493              	.LBB463:
 494              	.LBB457:
 495              		.loc 15 189 31 view .LVU90
 496 004a F0EE657A 		vmov.f32	s15, s11
 497 004e 9FED596A 		vldr.32	s12, .L45+20
 498              	.LBE457:
 499              	.LBE463:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 34


 500              	.LBB464:
 501              	.LBB417:
 502 0052 A9EE268A 		vfma.f32	s16, s18, s13
 503              	.LVL28:
 504              	.LBB401:
 505              	.LBI401:
  64:../../DaisySP//Source/Utility/dsp.h **** {
 506              		.loc 15 64 14 is_stmt 1 view .LVU91
 507              	.LBE401:
 508              	.LBE417:
 509              	.LBE464:
  66:../../DaisySP//Source/Utility/dsp.h **** }
 510              		.loc 15 66 5 view .LVU92
 511              	.LBB465:
 512              	.LBB418:
 513              	.LBB412:
 514              	.LBB402:
 515              	.LBI402:
  40:../../DaisySP//Source/Utility/dsp.h **** {
 516              		.loc 15 40 14 view .LVU93
 517              	.LBB403:
  42:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 518              		.loc 15 42 5 view .LVU94
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 519              		.loc 15 44 5 view .LVU95
 520              	.LBE403:
 521              	.LBE402:
 522              	.LBE412:
 523              	.LBE418:
 524              	.LBE465:
 525              	.LBB466:
 526              	.LBB440:
 527              		.loc 15 189 31 is_stmt 0 view .LVU96
 528 0056 DFED584A 		vldr.32	s9, .L45+24
 529 005a F0EE456A 		vmov.f32	s13, s10
 530              	.LBE440:
 531              	.LBE466:
  41:MiniSynth.cpp **** 	mod_cutoff = fclamp(mod_cutoff, 20.f, 18000.f); // clamp
 532              		.loc 14 41 8 view .LVU97
 533 005e 97ED004A 		vldr.32	s8, [r7]
 534              		.loc 14 46 5 view .LVU98
 535 0062 002B     		cmp	r3, #0
 536              	.LBB467:
 537              	.LBB458:
 538              		.loc 15 189 31 view .LVU99
 539 0064 E0EE067A 		vfma.f32	s15, s0, s12
 540              	.LBE458:
 541              	.LBE467:
 542              	.LBB468:
 543              	.LBB419:
 544              	.LBB413:
 545              	.LBB405:
 546              	.LBB406:
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 547              		.loc 15 55 5 view .LVU100
 548 0068 DFED543A 		vldr.32	s7, .L45+28
 549              	.LBE406:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 35


 550              	.LBE405:
 551              	.LBE413:
 552              	.LBE419:
 553              	.LBE468:
 554              	.LBB469:
 555              	.LBB441:
 556              	.LBB425:
 557              	.LBB426:
 558              	.LBB427:
 559 006c B7EE080A 		vmov.f32	s0, #1.5e+0
 560              	.LVL29:
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 561              		.loc 15 55 5 view .LVU101
 562              	.LBE427:
 563              	.LBE426:
 564              	.LBE425:
 565              		.loc 15 189 31 view .LVU102
 566 0070 E8EEA46A 		vfma.f32	s13, s17, s9
 567              	.LBE441:
 568              	.LBE469:
 569              	.LBB470:
 570              	.LBB471:
 571              	.LBB472:
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 572              		.loc 15 55 5 view .LVU103
 573 0074 DFED524A 		vldr.32	s9, .L45+32
 574              	.LBE472:
 575              	.LBE471:
 576              	.LBE470:
 577              	.LBB477:
 578              	.LBB420:
 579              	.LBB414:
 580              	.LBB409:
 581              	.LBB404:
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 582              		.loc 15 44 5 view .LVU104
 583              		.syntax unified
 584              	@ 44 "../../DaisySP//Source/Utility/dsp.h" 1
 585 0078 88FE078A 		vmaxnm.f32 s16, s16, s14
 586              	@ 0 "" 2
 587              	.LVL30:
  48:../../DaisySP//Source/Utility/dsp.h **** }
 588              		.loc 15 48 5 is_stmt 1 view .LVU105
  48:../../DaisySP//Source/Utility/dsp.h **** }
 589              		.loc 15 48 5 is_stmt 0 view .LVU106
 590              		.thumb
 591              		.syntax unified
 592              	.LBE404:
 593              	.LBE409:
 594              	.LBB410:
 595              	.LBI405:
  51:../../DaisySP//Source/Utility/dsp.h **** {
 596              		.loc 15 51 14 is_stmt 1 view .LVU107
 597              	.LBB407:
  53:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 598              		.loc 15 53 5 view .LVU108
  55:../../DaisySP//Source/Utility/dsp.h **** #else
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 36


 599              		.loc 15 55 5 view .LVU109
 600              	.LBE407:
 601              	.LBE410:
 602              	.LBE414:
 603              	.LBE420:
 604              	.LBE477:
 605              	.LBB478:
 606              	.LBB442:
 607              	.LBB436:
 608              	.LBB430:
 609              	.LBB431:
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 610              		.loc 15 44 5 is_stmt 0 view .LVU110
 611              		.syntax unified
 612              	@ 44 "../../DaisySP//Source/Utility/dsp.h" 1
 613 007c C6FE856A 		vmaxnm.f32 s13, s13, s10
 614              	@ 0 "" 2
 615              		.thumb
 616              		.syntax unified
 617              	.LBE431:
 618              	.LBE430:
 619              	.LBE436:
 620              	.LBE442:
 621              	.LBE478:
 622              	.LBB479:
 623              	.LBB421:
 624              	.LBB415:
 625              	.LBB411:
 626              	.LBB408:
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 627              		.loc 15 55 5 view .LVU111
 628              		.syntax unified
 629              	@ 55 "../../DaisySP//Source/Utility/dsp.h" 1
 630 0080 88FE638A 		vminnm.f32 s16, s16, s7
 631              	@ 0 "" 2
 632              	.LVL31:
  59:../../DaisySP//Source/Utility/dsp.h **** }
 633              		.loc 15 59 5 is_stmt 1 view .LVU112
  59:../../DaisySP//Source/Utility/dsp.h **** }
 634              		.loc 15 59 5 is_stmt 0 view .LVU113
 635              		.thumb
 636              		.syntax unified
 637              	.LBE408:
 638              	.LBE411:
 639              	.LBE415:
 640              	.LBE421:
 641              	.LBE479:
  37:MiniSynth.cpp **** 	float depth 	= fmap(env_amt, 0.f, 4000.f); // max mod depth (Hz)
 642              		.loc 14 37 5 is_stmt 1 view .LVU114
 643              	.LBB480:
 644              	.LBI423:
 177:../../DaisySP//Source/Utility/dsp.h **** {
 645              		.loc 15 177 1 view .LVU115
 646              	.LBE480:
 179:../../DaisySP//Source/Utility/dsp.h ****     {
 647              		.loc 15 179 5 view .LVU116
 648              	.LBB481:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 37


 649              	.LBB443:
 188:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 650              		.loc 15 188 9 view .LVU117
 651              		.loc 15 189 9 view .LVU118
 652              		.loc 15 189 18 view .LVU119
 653              	.LBB437:
 654              	.LBI425:
  64:../../DaisySP//Source/Utility/dsp.h **** {
 655              		.loc 15 64 14 view .LVU120
 656              	.LBE437:
 657              	.LBE443:
 658              	.LBE481:
  66:../../DaisySP//Source/Utility/dsp.h **** }
 659              		.loc 15 66 5 view .LVU121
 660              	.LBB482:
 661              	.LBB444:
 662              	.LBB438:
 663              	.LBB433:
 664              	.LBI430:
  40:../../DaisySP//Source/Utility/dsp.h **** {
 665              		.loc 15 40 14 view .LVU122
 666              	.LBB432:
  42:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 667              		.loc 15 42 5 view .LVU123
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 668              		.loc 15 44 5 view .LVU124
  48:../../DaisySP//Source/Utility/dsp.h **** }
 669              		.loc 15 48 5 view .LVU125
  48:../../DaisySP//Source/Utility/dsp.h **** }
 670              		.loc 15 48 5 is_stmt 0 view .LVU126
 671              	.LBE432:
 672              	.LBE433:
 673              	.LBB434:
 674              	.LBI426:
  51:../../DaisySP//Source/Utility/dsp.h **** {
 675              		.loc 15 51 14 is_stmt 1 view .LVU127
 676              	.LBB428:
  53:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 677              		.loc 15 53 5 view .LVU128
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 678              		.loc 15 55 5 view .LVU129
 679              	.LBE428:
 680              	.LBE434:
 681              	.LBE438:
 682              	.LBE444:
 683              	.LBE482:
 684              	.LBB483:
 685              	.LBB459:
 686              	.LBB448:
 687              	.LBB449:
 688              	.LBB450:
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 689              		.loc 15 44 5 is_stmt 0 view .LVU130
 690              		.syntax unified
 691              	@ 44 "../../DaisySP//Source/Utility/dsp.h" 1
 692 0084 C7FEA57A 		vmaxnm.f32 s15, s15, s11
 693              	@ 0 "" 2
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 38


 694              		.thumb
 695              		.syntax unified
 696              	.LBE450:
 697              	.LBE449:
 698              	.LBE448:
 699              	.LBE459:
 700              	.LBE483:
 701              	.LBB484:
 702              	.LBB445:
 703              	.LBB439:
 704              	.LBB435:
 705              	.LBB429:
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 706              		.loc 15 55 5 view .LVU131
 707              		.syntax unified
 708              	@ 55 "../../DaisySP//Source/Utility/dsp.h" 1
 709 0088 C6FEC08A 		vminnm.f32 s17, s13, s0
 710              	@ 0 "" 2
 711              	.LVL32:
  59:../../DaisySP//Source/Utility/dsp.h **** }
 712              		.loc 15 59 5 is_stmt 1 view .LVU132
  59:../../DaisySP//Source/Utility/dsp.h **** }
 713              		.loc 15 59 5 is_stmt 0 view .LVU133
 714              		.thumb
 715              		.syntax unified
 716              	.LBE429:
 717              	.LBE435:
 718              	.LBE439:
 719              	.LBE445:
 720              	.LBE484:
  38:MiniSynth.cpp **** 
 721              		.loc 14 38 2 is_stmt 1 view .LVU134
 722              	.LBB485:
 723              	.LBI446:
 177:../../DaisySP//Source/Utility/dsp.h **** {
 724              		.loc 15 177 1 view .LVU135
 725              	.LBE485:
 179:../../DaisySP//Source/Utility/dsp.h ****     {
 726              		.loc 15 179 5 view .LVU136
 727              	.LBB486:
 728              	.LBB460:
 188:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 729              		.loc 15 188 9 view .LVU137
 730              		.loc 15 189 9 view .LVU138
 731              		.loc 15 189 18 view .LVU139
 732              	.LBB455:
 733              	.LBI448:
  64:../../DaisySP//Source/Utility/dsp.h **** {
 734              		.loc 15 64 14 view .LVU140
 735              	.LBE455:
 736              	.LBE460:
 737              	.LBE486:
  66:../../DaisySP//Source/Utility/dsp.h **** }
 738              		.loc 15 66 5 view .LVU141
 739              	.LBB487:
 740              	.LBB461:
 741              	.LBB456:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 39


 742              	.LBB452:
 743              	.LBI449:
  40:../../DaisySP//Source/Utility/dsp.h **** {
 744              		.loc 15 40 14 view .LVU142
 745              	.LBB451:
  42:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 746              		.loc 15 42 5 view .LVU143
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 747              		.loc 15 44 5 view .LVU144
  48:../../DaisySP//Source/Utility/dsp.h **** }
 748              		.loc 15 48 5 view .LVU145
  48:../../DaisySP//Source/Utility/dsp.h **** }
 749              		.loc 15 48 5 is_stmt 0 view .LVU146
 750              	.LBE451:
 751              	.LBE452:
 752              	.LBB453:
 753              	.LBI453:
  51:../../DaisySP//Source/Utility/dsp.h **** {
 754              		.loc 15 51 14 is_stmt 1 view .LVU147
 755              	.LBB454:
  53:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 756              		.loc 15 53 5 view .LVU148
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 757              		.loc 15 55 5 view .LVU149
 758              		.syntax unified
 759              	@ 55 "../../DaisySP//Source/Utility/dsp.h" 1
 760 008c C7FEC67A 		vminnm.f32 s15, s15, s12
 761              	@ 0 "" 2
 762              	.LVL33:
  59:../../DaisySP//Source/Utility/dsp.h **** }
 763              		.loc 15 59 5 view .LVU150
  59:../../DaisySP//Source/Utility/dsp.h **** }
 764              		.loc 15 59 5 is_stmt 0 view .LVU151
 765              		.thumb
 766              		.syntax unified
 767              	.LBE454:
 768              	.LBE453:
 769              	.LBE456:
 770              	.LBE461:
 771              	.LBE487:
  41:MiniSynth.cpp **** 	mod_cutoff = fclamp(mod_cutoff, 20.f, 18000.f); // clamp
 772              		.loc 14 41 2 is_stmt 1 view .LVU152
  41:MiniSynth.cpp **** 	mod_cutoff = fclamp(mod_cutoff, 20.f, 18000.f); // clamp
 773              		.loc 14 41 8 is_stmt 0 view .LVU153
 774 0090 A4EE278A 		vfma.f32	s16, s8, s15
 775              	.LVL34:
  42:MiniSynth.cpp **** 	
 776              		.loc 14 42 2 is_stmt 1 view .LVU154
 777              	.LBB488:
 778              	.LBI470:
  64:../../DaisySP//Source/Utility/dsp.h **** {
 779              		.loc 15 64 14 view .LVU155
 780              	.LBE488:
  66:../../DaisySP//Source/Utility/dsp.h **** }
 781              		.loc 15 66 5 view .LVU156
 782              	.LBB489:
 783              	.LBB474:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 40


 784              	.LBI474:
  40:../../DaisySP//Source/Utility/dsp.h **** {
 785              		.loc 15 40 14 view .LVU157
 786              	.LBB475:
  42:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 787              		.loc 15 42 5 view .LVU158
  44:../../DaisySP//Source/Utility/dsp.h **** #else
 788              		.loc 15 44 5 view .LVU159
 789              		.syntax unified
 790              	@ 44 "../../DaisySP//Source/Utility/dsp.h" 1
 791 0094 88FE078A 		vmaxnm.f32 s16, s16, s14
 792              	@ 0 "" 2
 793              	.LVL35:
  48:../../DaisySP//Source/Utility/dsp.h **** }
 794              		.loc 15 48 5 view .LVU160
  48:../../DaisySP//Source/Utility/dsp.h **** }
 795              		.loc 15 48 5 is_stmt 0 view .LVU161
 796              		.thumb
 797              		.syntax unified
 798              	.LBE475:
 799              	.LBE474:
 800              	.LBB476:
 801              	.LBI471:
  51:../../DaisySP//Source/Utility/dsp.h **** {
 802              		.loc 15 51 14 is_stmt 1 view .LVU162
 803              	.LBB473:
  53:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 804              		.loc 15 53 5 view .LVU163
  55:../../DaisySP//Source/Utility/dsp.h **** #else
 805              		.loc 15 55 5 view .LVU164
 806              		.syntax unified
 807              	@ 55 "../../DaisySP//Source/Utility/dsp.h" 1
 808 0098 88FE648A 		vminnm.f32 s16, s16, s9
 809              	@ 0 "" 2
 810              	.LVL36:
  59:../../DaisySP//Source/Utility/dsp.h **** }
 811              		.loc 15 59 5 view .LVU165
  59:../../DaisySP//Source/Utility/dsp.h **** }
 812              		.loc 15 59 5 is_stmt 0 view .LVU166
 813              		.thumb
 814              		.syntax unified
 815              	.LBE473:
 816              	.LBE476:
 817              	.LBE489:
  44:MiniSynth.cpp **** 
 818              		.loc 14 44 2 is_stmt 1 view .LVU167
 819              		.loc 14 46 5 view .LVU168
 820 009c 7CDB     		blt	.L23
  47:MiniSynth.cpp ****         osc.SetFreq(mtof(current_note));
 821              		.loc 14 47 9 view .LVU169
 822              	.LVL37:
 823              	.LBB490:
 824              	.LBI490:
 139:../../DaisySP//Source/Utility/dsp.h **** {
 825              		.loc 15 139 14 view .LVU170
 826              	.LBB491:
 141:../../DaisySP//Source/Utility/dsp.h **** }
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 41


 827              		.loc 15 141 5 view .LVU171
 828              	.LBE491:
 829              	.LBE490:
 830              		.loc 14 47 20 is_stmt 0 view .LVU172
 831 009e 07EE903A 		vmov	s15, r3	@ int
 832              	.LVL38:
 833              	.LBB494:
 834              	.LBB492:
 141:../../DaisySP//Source/Utility/dsp.h **** }
 835              		.loc 15 141 23 view .LVU173
 836 00a2 9FED487A 		vldr.32	s14, .L45+36
 141:../../DaisySP//Source/Utility/dsp.h **** }
 837              		.loc 15 141 16 view .LVU174
 838 00a6 F2EE080A 		vmov.f32	s1, #1.2e+1
 839              	.LBE492:
 840              	.LBE494:
 841              		.loc 14 47 20 view .LVU175
 842 00aa F8EEE77A 		vcvt.f32.s32	s15, s15
 843              	.LVL39:
 844              	.LBB495:
 845              	.LBB493:
 141:../../DaisySP//Source/Utility/dsp.h **** }
 846              		.loc 15 141 16 view .LVU176
 847 00ae B0EE000A 		vmov.f32	s0, #2.0e+0
 141:../../DaisySP//Source/Utility/dsp.h **** }
 848              		.loc 15 141 23 view .LVU177
 849 00b2 77EEC77A 		vsub.f32	s15, s15, s14
 850              	.LVL40:
 141:../../DaisySP//Source/Utility/dsp.h **** }
 851              		.loc 15 141 16 view .LVU178
 852 00b6 C7EEA00A 		vdiv.f32	s1, s15, s1
 853 00ba FFF7FEFF 		bl	powf
 854              	.LVL41:
 141:../../DaisySP//Source/Utility/dsp.h **** }
 855              		.loc 15 141 43 view .LVU179
 856 00be DFED427A 		vldr.32	s15, .L45+40
 857 00c2 20EE270A 		vmul.f32	s0, s0, s15
 858              	.LVL42:
 141:../../DaisySP//Source/Utility/dsp.h **** }
 859              		.loc 15 141 43 view .LVU180
 860              	.LBE493:
 861              	.LBE495:
 862              	.LBB496:
 863              	.LBI496:
  25:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Choices for output waveforms, POLYBLEP are appropriately labeled. Others are naive forms.
  26:../../DaisySP//Source/Synthesis/oscillator.h ****     */
  27:../../DaisySP//Source/Synthesis/oscillator.h ****     enum
  28:../../DaisySP//Source/Synthesis/oscillator.h ****     {
  29:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_SIN,
  30:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_TRI,
  31:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_SAW,
  32:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_RAMP,
  33:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_SQUARE,
  34:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_TRI,
  35:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SAW,
  36:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_POLYBLEP_SQUARE,
  37:../../DaisySP//Source/Synthesis/oscillator.h ****         WAVE_LAST,
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 42


  38:../../DaisySP//Source/Synthesis/oscillator.h ****     };
  39:../../DaisySP//Source/Synthesis/oscillator.h **** 
  40:../../DaisySP//Source/Synthesis/oscillator.h **** 
  41:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Initializes the Oscillator
  42:../../DaisySP//Source/Synthesis/oscillator.h **** 
  43:../../DaisySP//Source/Synthesis/oscillator.h ****         \param sample_rate - sample rate of the audio engine being run, and the frequency that the 
  44:../../DaisySP//Source/Synthesis/oscillator.h **** 
  45:../../DaisySP//Source/Synthesis/oscillator.h ****         Defaults:
  46:../../DaisySP//Source/Synthesis/oscillator.h ****         - freq_ = 100 Hz
  47:../../DaisySP//Source/Synthesis/oscillator.h ****         - amp_ = 0.5
  48:../../DaisySP//Source/Synthesis/oscillator.h ****         - waveform_ = sine wave.
  49:../../DaisySP//Source/Synthesis/oscillator.h ****     */
  50:../../DaisySP//Source/Synthesis/oscillator.h ****     void Init(float sample_rate)
  51:../../DaisySP//Source/Synthesis/oscillator.h ****     {
  52:../../DaisySP//Source/Synthesis/oscillator.h ****         sr_        = sample_rate;
  53:../../DaisySP//Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
  54:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
  55:../../DaisySP//Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
  56:../../DaisySP//Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
  57:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
  59:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
  60:../../DaisySP//Source/Synthesis/oscillator.h ****         eoc_       = true;
  61:../../DaisySP//Source/Synthesis/oscillator.h ****         eor_       = true;
  62:../../DaisySP//Source/Synthesis/oscillator.h ****     }
  63:../../DaisySP//Source/Synthesis/oscillator.h **** 
  64:../../DaisySP//Source/Synthesis/oscillator.h **** 
  65:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Changes the frequency of the Oscillator, and recalculates phase increment.
  66:../../DaisySP//Source/Synthesis/oscillator.h ****     */
  67:../../DaisySP//Source/Synthesis/oscillator.h ****     inline void SetFreq(const float f)
 864              		.loc 8 67 17 is_stmt 1 view .LVU181
 865              	.LBB497:
  68:../../DaisySP//Source/Synthesis/oscillator.h ****     {
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = f;
 866              		.loc 8 69 9 view .LVU182
 867              	.L43:
 868              		.loc 8 69 9 is_stmt 0 view .LVU183
 869              	.LBE497:
 870              	.LBE496:
 871              	.LBB498:
 872              	.LBB499:
 873              		.loc 8 69 20 view .LVU184
 874 00c6 414E     		ldr	r6, .L45+44
 875              	.LBE499:
 876              	.LBE498:
  48:MiniSynth.cpp ****     else
  49:MiniSynth.cpp ****         osc.SetFreq(mtof(midi_base)); // fallback
  50:MiniSynth.cpp **** 
  51:MiniSynth.cpp ****     filter.SetFreq(mod_cutoff);
  52:MiniSynth.cpp **** 	filter.SetRes(q);
  53:MiniSynth.cpp **** 
  54:MiniSynth.cpp ****     // A-H-D envelope
  55:MiniSynth.cpp ****     switch (current_stage)
 877              		.loc 14 55 13 view .LVU185
 878 00c8 DFF81C81 		ldr	r8, .L45+72
 879              	.LBB503:
 880              	.LBB500:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 43


  70:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 881              		.loc 8 70 34 view .LVU186
 882 00cc 3046     		mov	r0, r6
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 883              		.loc 8 69 20 view .LVU187
 884 00ce 86ED020A 		vstr.32	s0, [r6, #8]
 885              		.loc 8 70 9 is_stmt 1 view .LVU188
 886              		.loc 8 70 34 is_stmt 0 view .LVU189
 887 00d2 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 888              	.LVL43:
 889              	.LBE500:
 890              	.LBE503:
  51:MiniSynth.cpp **** 	filter.SetRes(q);
 891              		.loc 14 51 19 view .LVU190
 892 00d6 3E48     		ldr	r0, .L45+48
 893              	.LBB504:
 894              	.LBB501:
 895              		.loc 8 70 20 view .LVU191
 896 00d8 86ED070A 		vstr.32	s0, [r6, #28]
 897              	.LBE501:
 898              	.LBE504:
  51:MiniSynth.cpp **** 	filter.SetRes(q);
 899              		.loc 14 51 5 is_stmt 1 view .LVU192
  51:MiniSynth.cpp **** 	filter.SetRes(q);
 900              		.loc 14 51 19 is_stmt 0 view .LVU193
 901 00dc B0EE480A 		vmov.f32	s0, s16
 902 00e0 FFF7FEFF 		bl	_ZN7daisysp3Svf7SetFreqEf
 903              	.LVL44:
  52:MiniSynth.cpp **** 
 904              		.loc 14 52 2 is_stmt 1 view .LVU194
  52:MiniSynth.cpp **** 
 905              		.loc 14 52 15 is_stmt 0 view .LVU195
 906 00e4 B0EE680A 		vmov.f32	s0, s17
 907 00e8 3948     		ldr	r0, .L45+48
 908 00ea FFF7FEFF 		bl	_ZN7daisysp3Svf6SetResEf
 909              	.LVL45:
 910              		.loc 14 55 5 is_stmt 1 view .LVU196
 911 00ee 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 912 00f2 032B     		cmp	r3, #3
 913 00f4 05D8     		bhi	.L25
 914 00f6 DFE803F0 		tbb	[pc, r3]
 915              	.L27:
 916 00fa 02       		.byte	(.L30-.L27)/2
 917 00fb 3B       		.byte	(.L29-.L27)/2
 918 00fc 37       		.byte	(.L28-.L27)/2
 919 00fd 23       		.byte	(.L26-.L27)/2
 920              		.p2align 1
 921              	.L30:
  56:MiniSynth.cpp ****     {
  57:MiniSynth.cpp ****         case ENV_IDLE:
 922              		.loc 14 57 9 view .LVU197
  58:MiniSynth.cpp ****             env_out = 0.f;
 923              		.loc 14 58 13 view .LVU198
 924              		.loc 14 58 21 is_stmt 0 view .LVU199
 925 00fe 0023     		movs	r3, #0
 926 0100 3B60     		str	r3, [r7]	@ float
  59:MiniSynth.cpp ****             break;
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 44


 927              		.loc 14 59 13 is_stmt 1 view .LVU200
 928              	.L25:
 929              	.LVL46:
 930              	.LBB505:
  60:MiniSynth.cpp ****         case ENV_ATTACK:
  61:MiniSynth.cpp ****             env_out = env.Process();
  62:MiniSynth.cpp ****             if(env_out >= 0.99f)
  63:MiniSynth.cpp ****             {
  64:MiniSynth.cpp ****                 env_out = 1.f;
  65:MiniSynth.cpp ****                 current_stage = ENV_HOLD;
  66:MiniSynth.cpp ****             }
  67:MiniSynth.cpp ****             break;
  68:MiniSynth.cpp ****         case ENV_HOLD:
  69:MiniSynth.cpp ****             env_out = 1.f;
  70:MiniSynth.cpp ****             break;
  71:MiniSynth.cpp ****         case ENV_DECAY:
  72:MiniSynth.cpp ****             env_out = env.Process();
  73:MiniSynth.cpp ****             if(env_out <= 0.01f)
  74:MiniSynth.cpp ****             {
  75:MiniSynth.cpp ****                 env_out = 0.f;
  76:MiniSynth.cpp ****                 current_stage = ENV_IDLE;
  77:MiniSynth.cpp ****                 current_note = -1;
  78:MiniSynth.cpp ****             }
  79:MiniSynth.cpp ****             break;
  80:MiniSynth.cpp ****     }
  81:MiniSynth.cpp **** 
  82:MiniSynth.cpp ****     for(size_t i = 0; i < size; i += 2)
 931              		.loc 14 82 25 discriminator 3 view .LVU201
 932 0102 CDB1     		cbz	r5, .L22
 933 0104 05F1FF38 		add	r8, r5, #-1
 934 0108 DFF8C490 		ldr	r9, .L45+48
 935              		.loc 14 82 25 is_stmt 0 view .LVU202
 936 010c 0025     		movs	r5, #0
 937              	.LVL47:
 938              		.loc 14 82 25 view .LVU203
 939 010e 4FEA5808 		lsr	r8, r8, #1
 940              	.LVL48:
 941              	.L36:
  83:MiniSynth.cpp ****     {
  84:MiniSynth.cpp ****         osc.SetAmp(env_out);
 942              		.loc 14 84 9 is_stmt 1 discriminator 2 view .LVU204
 943              	.LBB506:
 944              	.LBI506:
  71:../../DaisySP//Source/Synthesis/oscillator.h ****     }
  72:../../DaisySP//Source/Synthesis/oscillator.h **** 
  73:../../DaisySP//Source/Synthesis/oscillator.h **** 
  74:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the amplitude of the waveform.
  75:../../DaisySP//Source/Synthesis/oscillator.h ****     */
  76:../../DaisySP//Source/Synthesis/oscillator.h ****     inline void SetAmp(const float a) { amp_ = a; }
 945              		.loc 8 76 17 discriminator 2 view .LVU205
 946              	.LBB507:
 947              		.loc 8 76 41 discriminator 2 view .LVU206
 948              		.loc 8 76 46 is_stmt 0 discriminator 2 view .LVU207
 949 0112 3B68     		ldr	r3, [r7]	@ float
 950              	.LBE507:
 951              	.LBE506:
  82:MiniSynth.cpp ****     {
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 45


 952              		.loc 14 82 25 discriminator 2 view .LVU208
 953 0114 0834     		adds	r4, r4, #8
  85:MiniSynth.cpp ****         osc_out = osc.Process();
 954              		.loc 14 85 30 discriminator 2 view .LVU209
 955 0116 2D48     		ldr	r0, .L45+44
 956              	.LBB509:
 957              	.LBB508:
 958              		.loc 8 76 46 discriminator 2 view .LVU210
 959 0118 7360     		str	r3, [r6, #4]	@ float
 960              	.LVL49:
 961              		.loc 8 76 46 discriminator 2 view .LVU211
 962              	.LBE508:
 963              	.LBE509:
 964              		.loc 14 85 9 is_stmt 1 discriminator 2 view .LVU212
 965              		.loc 14 85 30 is_stmt 0 discriminator 2 view .LVU213
 966 011a FFF7FEFF 		bl	_ZN7daisysp10Oscillator7ProcessEv
 967              	.LVL50:
  86:MiniSynth.cpp ****         filter.Process(osc_out);
 968              		.loc 14 86 9 is_stmt 1 discriminator 2 view .LVU214
 969              		.loc 14 86 23 is_stmt 0 discriminator 2 view .LVU215
 970 011e 2C48     		ldr	r0, .L45+48
 971 0120 FFF7FEFF 		bl	_ZN7daisysp3Svf7ProcessEf
 972              	.LVL51:
  87:MiniSynth.cpp ****         filtered = filter.Low();
 973              		.loc 14 87 9 is_stmt 1 discriminator 2 view .LVU216
 974              	.LBB510:
 975              	.LBI510:
  31:../../DaisySP//Source/Filters/svf.h ****     /** Initializes the filter
  32:../../DaisySP//Source/Filters/svf.h ****         float sample_rate - sample rate of the audio engine being run, and the frequency that the P
  33:../../DaisySP//Source/Filters/svf.h ****     */
  34:../../DaisySP//Source/Filters/svf.h ****     void Init(float sample_rate);
  35:../../DaisySP//Source/Filters/svf.h **** 
  36:../../DaisySP//Source/Filters/svf.h **** 
  37:../../DaisySP//Source/Filters/svf.h ****     /** 
  38:../../DaisySP//Source/Filters/svf.h ****         Process the input signal, updating all of the outputs.
  39:../../DaisySP//Source/Filters/svf.h ****     */
  40:../../DaisySP//Source/Filters/svf.h ****     void Process(float in);
  41:../../DaisySP//Source/Filters/svf.h **** 
  42:../../DaisySP//Source/Filters/svf.h **** 
  43:../../DaisySP//Source/Filters/svf.h ****     /** sets the frequency of the cutoff frequency. 
  44:../../DaisySP//Source/Filters/svf.h ****         f must be between 0.0 and sample_rate / 3
  45:../../DaisySP//Source/Filters/svf.h ****     */
  46:../../DaisySP//Source/Filters/svf.h ****     void SetFreq(float f);
  47:../../DaisySP//Source/Filters/svf.h **** 
  48:../../DaisySP//Source/Filters/svf.h ****     /** sets the resonance of the filter.
  49:../../DaisySP//Source/Filters/svf.h ****         Must be between 0.0 and 1.0 to ensure stability.
  50:../../DaisySP//Source/Filters/svf.h ****     */
  51:../../DaisySP//Source/Filters/svf.h ****     void SetRes(float r);
  52:../../DaisySP//Source/Filters/svf.h **** 
  53:../../DaisySP//Source/Filters/svf.h ****     /** sets the drive of the filter 
  54:../../DaisySP//Source/Filters/svf.h ****         affects the response of the resonance of the filter
  55:../../DaisySP//Source/Filters/svf.h ****     */
  56:../../DaisySP//Source/Filters/svf.h ****     void SetDrive(float d);
  57:../../DaisySP//Source/Filters/svf.h ****     /** lowpass output
  58:../../DaisySP//Source/Filters/svf.h ****         \return low pass output of the filter
  59:../../DaisySP//Source/Filters/svf.h ****     */
  60:../../DaisySP//Source/Filters/svf.h ****     inline float Low() { return out_low_; }
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 46


 976              		.loc 9 60 18 discriminator 2 view .LVU217
 977              	.LBB511:
 978              		.loc 9 60 26 discriminator 2 view .LVU218
 979              		.loc 9 60 33 is_stmt 0 discriminator 2 view .LVU219
 980 0124 D9F83020 		ldr	r2, [r9, #48]	@ float
 981              	.LVL52:
 982              		.loc 9 60 33 discriminator 2 view .LVU220
 983              	.LBE511:
 984              	.LBE510:
  88:MiniSynth.cpp ****         out[i]     = filtered;
 985              		.loc 14 88 9 is_stmt 1 discriminator 2 view .LVU221
  82:MiniSynth.cpp ****     {
 986              		.loc 14 82 25 is_stmt 0 discriminator 2 view .LVU222
 987 0128 4545     		cmp	r5, r8
 988 012a 05F10105 		add	r5, r5, #1
 989              	.LVL53:
 990              		.loc 14 88 20 discriminator 2 view .LVU223
 991 012e 44F8082C 		str	r2, [r4, #-8]	@ float
  89:MiniSynth.cpp ****         out[i + 1] = filtered;
 992              		.loc 14 89 9 is_stmt 1 discriminator 2 view .LVU224
 993              		.loc 14 89 20 is_stmt 0 discriminator 2 view .LVU225
 994 0132 44F8042C 		str	r2, [r4, #-4]	@ float
  82:MiniSynth.cpp ****     {
 995              		.loc 14 82 5 is_stmt 1 discriminator 2 view .LVU226
 996              	.LVL54:
  82:MiniSynth.cpp ****     {
 997              		.loc 14 82 25 discriminator 2 view .LVU227
 998 0136 ECD1     		bne	.L36
 999              	.LVL55:
 1000              	.L22:
  82:MiniSynth.cpp ****     {
 1001              		.loc 14 82 25 is_stmt 0 discriminator 2 view .LVU228
 1002              	.LBE505:
  90:MiniSynth.cpp ****     }
  91:MiniSynth.cpp **** }
 1003              		.loc 14 91 1 view .LVU229
 1004 0138 BDEC048B 		vldm	sp!, {d8-d9}
 1005              		.cfi_remember_state
 1006              		.cfi_restore 82
 1007              		.cfi_restore 83
 1008              		.cfi_restore 80
 1009              		.cfi_restore 81
 1010              		.cfi_def_cfa_offset 32
 1011              	.LVL56:
 1012              		.loc 14 91 1 view .LVU230
 1013 013c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1014              	.LVL57:
 1015              	.L26:
 1016              		.cfi_restore_state
  71:MiniSynth.cpp ****             env_out = env.Process();
 1017              		.loc 14 71 9 is_stmt 1 view .LVU231
  72:MiniSynth.cpp ****             if(env_out <= 0.01f)
 1018              		.loc 14 72 13 view .LVU232
  72:MiniSynth.cpp ****             if(env_out <= 0.01f)
 1019              		.loc 14 72 34 is_stmt 0 view .LVU233
 1020 0140 2448     		ldr	r0, .L45+52
 1021 0142 FFF7FEFF 		bl	_ZN7daisysp5AdEnv7ProcessEv
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 47


 1022              	.LVL58:
  73:MiniSynth.cpp ****             {
 1023              		.loc 14 73 13 is_stmt 1 view .LVU234
 1024 0146 DFED247A 		vldr.32	s15, .L45+56
 1025 014a B4EEE70A 		vcmpe.f32	s0, s15
 1026 014e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1027 0152 1ED8     		bhi	.L44
  75:MiniSynth.cpp ****                 current_stage = ENV_IDLE;
 1028              		.loc 14 75 17 view .LVU235
  75:MiniSynth.cpp ****                 current_stage = ENV_IDLE;
 1029              		.loc 14 75 25 is_stmt 0 view .LVU236
 1030 0154 0023     		movs	r3, #0
 1031 0156 3B60     		str	r3, [r7]	@ float
  76:MiniSynth.cpp ****                 current_note = -1;
 1032              		.loc 14 76 17 is_stmt 1 view .LVU237
  76:MiniSynth.cpp ****                 current_note = -1;
 1033              		.loc 14 76 31 is_stmt 0 view .LVU238
 1034 0158 0023     		movs	r3, #0
 1035 015a 88F80030 		strb	r3, [r8]
  77:MiniSynth.cpp ****             }
 1036              		.loc 14 77 17 is_stmt 1 view .LVU239
  77:MiniSynth.cpp ****             }
 1037              		.loc 14 77 30 is_stmt 0 view .LVU240
 1038 015e 4FF0FF33 		mov	r3, #-1
 1039 0162 C9F80030 		str	r3, [r9]
 1040 0166 CCE7     		b	.L25
 1041              	.L28:
  68:MiniSynth.cpp ****             env_out = 1.f;
 1042              		.loc 14 68 9 is_stmt 1 view .LVU241
  69:MiniSynth.cpp ****             break;
 1043              		.loc 14 69 13 view .LVU242
  69:MiniSynth.cpp ****             break;
 1044              		.loc 14 69 21 is_stmt 0 view .LVU243
 1045 0168 4FF07E53 		mov	r3, #1065353216
 1046 016c 3B60     		str	r3, [r7]	@ float
  70:MiniSynth.cpp ****         case ENV_DECAY:
 1047              		.loc 14 70 13 is_stmt 1 view .LVU244
 1048 016e C8E7     		b	.L25
 1049              	.L29:
  60:MiniSynth.cpp ****             env_out = env.Process();
 1050              		.loc 14 60 9 view .LVU245
  61:MiniSynth.cpp ****             if(env_out >= 0.99f)
 1051              		.loc 14 61 13 view .LVU246
  61:MiniSynth.cpp ****             if(env_out >= 0.99f)
 1052              		.loc 14 61 34 is_stmt 0 view .LVU247
 1053 0170 1848     		ldr	r0, .L45+52
 1054 0172 FFF7FEFF 		bl	_ZN7daisysp5AdEnv7ProcessEv
 1055              	.LVL59:
  62:MiniSynth.cpp ****             {
 1056              		.loc 14 62 13 is_stmt 1 view .LVU248
 1057 0176 DFED197A 		vldr.32	s15, .L45+60
 1058 017a B4EEE70A 		vcmpe.f32	s0, s15
 1059 017e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1060 0182 06DB     		blt	.L44
  64:MiniSynth.cpp ****                 current_stage = ENV_HOLD;
 1061              		.loc 14 64 17 view .LVU249
  64:MiniSynth.cpp ****                 current_stage = ENV_HOLD;
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 48


 1062              		.loc 14 64 25 is_stmt 0 view .LVU250
 1063 0184 4FF07E53 		mov	r3, #1065353216
 1064 0188 3B60     		str	r3, [r7]	@ float
  65:MiniSynth.cpp ****             }
 1065              		.loc 14 65 17 is_stmt 1 view .LVU251
  65:MiniSynth.cpp ****             }
 1066              		.loc 14 65 31 is_stmt 0 view .LVU252
 1067 018a 0223     		movs	r3, #2
 1068 018c 88F80030 		strb	r3, [r8]
 1069 0190 B7E7     		b	.L25
 1070              	.L44:
  72:MiniSynth.cpp ****             if(env_out <= 0.01f)
 1071              		.loc 14 72 21 view .LVU253
 1072 0192 87ED000A 		vstr.32	s0, [r7]
 1073 0196 B4E7     		b	.L25
 1074              	.LVL60:
 1075              	.L23:
  49:MiniSynth.cpp **** 
 1076              		.loc 14 49 9 is_stmt 1 view .LVU254
 141:../../DaisySP//Source/Utility/dsp.h **** }
 1077              		.loc 15 141 5 view .LVU255
 1078              	.LBB512:
 1079              	.LBI498:
  67:../../DaisySP//Source/Synthesis/oscillator.h ****     {
 1080              		.loc 8 67 17 view .LVU256
 1081              	.LBB502:
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1082              		.loc 8 69 9 view .LVU257
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1083              		.loc 8 69 20 is_stmt 0 view .LVU258
 1084 0198 9FED110A 		vldr.32	s0, .L45+64
 1085 019c 93E7     		b	.L43
 1086              	.L46:
 1087 019e 00BF     		.align	2
 1088              	.L45:
 1089 01a0 18000000 		.word	.LANCHOR0+24
 1090 01a4 00000000 		.word	.LANCHOR1
 1091 01a8 CDCCCC3D 		.word	1036831949
 1092 01ac 00000000 		.word	0
 1093 01b0 00F01B46 		.word	1176236032
 1094 01b4 00007A45 		.word	1165623296
 1095 01b8 3333B33F 		.word	1068708659
 1096 01bc 00401C46 		.word	1176256512
 1097 01c0 00A08C46 		.word	1183621120
 1098 01c4 00008A42 		.word	1116340224
 1099 01c8 0000DC43 		.word	1138491392
 1100 01cc 00000000 		.word	.LANCHOR3
 1101 01d0 00000000 		.word	.LANCHOR4
 1102 01d4 00000000 		.word	.LANCHOR6
 1103 01d8 0AD7233C 		.word	1008981770
 1104 01dc A4707D3F 		.word	1065185444
 1105 01e0 12D08242 		.word	1115869202
 1106 01e4 00000000 		.word	.LANCHOR2
 1107 01e8 00000000 		.word	.LANCHOR5
 1108              	.LBE502:
 1109              	.LBE512:
 1110              		.cfi_endproc
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 49


 1111              	.LFE4681:
 1113              		.section	.text.startup.main,"ax",%progbits
 1114              		.align	1
 1115              		.p2align 2,,3
 1116              		.global	main
 1117              		.syntax unified
 1118              		.thumb
 1119              		.thumb_func
 1120              		.fpu fpv5-d16
 1122              	main:
 1123              	.LFB4682:
  92:MiniSynth.cpp **** 
  93:MiniSynth.cpp **** 
  94:MiniSynth.cpp **** int main(void)
  95:MiniSynth.cpp **** {
 1124              		.loc 14 95 1 is_stmt 1 view -0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 48
 1127              		@ frame_needed = 0, uses_anonymous_args = 0
  96:MiniSynth.cpp ****     hw.Configure();
 1128              		.loc 14 96 5 view .LVU260
  95:MiniSynth.cpp ****     hw.Configure();
 1129              		.loc 14 95 1 is_stmt 0 view .LVU261
 1130 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1131              		.cfi_def_cfa_offset 24
 1132              		.cfi_offset 4, -24
 1133              		.cfi_offset 5, -20
 1134              		.cfi_offset 6, -16
 1135              		.cfi_offset 7, -12
 1136              		.cfi_offset 8, -8
 1137              		.cfi_offset 14, -4
 1138              		.loc 14 96 17 view .LVU262
 1139 0004 7448     		ldr	r0, .L68
 1140              	.LBB569:
 1141              	.LBB570:
  57:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 1142              		.loc 8 57 20 view .LVU263
 1143 0006 0027     		movs	r7, #0
 1144              	.LBE570:
 1145              	.LBE569:
 1146              	.LBB576:
 1147              	.LBB577:
 168:../../libDaisy//src/hid/midi.h ****         transport_.Init(config_.transport_config);
 1148              		.loc 10 168 9 view .LVU264
 1149 0008 744C     		ldr	r4, .L68+4
 1150              	.LBE577:
 1151              	.LBE576:
 1152              	.LBB581:
 1153              	.LBB571:
  52:../../DaisySP//Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 1154              		.loc 8 52 20 view .LVU265
 1155 000a 754E     		ldr	r6, .L68+8
 1156              	.LBE571:
 1157              	.LBE581:
  97:MiniSynth.cpp ****     hw.Init();
  98:MiniSynth.cpp ****     hw.SetAudioBlockSize(4);
  99:MiniSynth.cpp **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 50


 100:MiniSynth.cpp ****     // MIDI Init
 101:MiniSynth.cpp ****     MidiUsbHandler::Config midi_cfg;
 102:MiniSynth.cpp ****     midi_cfg.transport_config.periph = MidiUsbTransport::Config::INTERNAL;
 103:MiniSynth.cpp ****     midi.Init(midi_cfg);
 104:MiniSynth.cpp **** 
 105:MiniSynth.cpp ****     // ADC Setup
 106:MiniSynth.cpp ****     AdcChannelConfig adc_cfg[2];
 107:MiniSynth.cpp ****     adc_cfg[0].InitSingle(hw.GetPin(15)); // A0: cutoff
 108:MiniSynth.cpp ****     adc_cfg[1].InitSingle(hw.GetPin(16)); // A1: Q / reso
 109:MiniSynth.cpp **** 	adc_cfg[2].InitSingle(hw.GetPin(17)); // A2: Filter Env Depth
 110:MiniSynth.cpp **** 
 111:MiniSynth.cpp ****     hw.adc.Init(adc_cfg, 3);
 112:MiniSynth.cpp ****     hw.adc.Start();
 113:MiniSynth.cpp **** 
 114:MiniSynth.cpp ****     // Modules
 115:MiniSynth.cpp ****     float sr = hw.AudioSampleRate();
 116:MiniSynth.cpp ****     osc.Init(sr);
 117:MiniSynth.cpp ****     osc.SetWaveform(Oscillator::WAVE_SAW);
 118:MiniSynth.cpp ****     osc.SetAmp(1.f);
 119:MiniSynth.cpp ****     osc.SetFreq(220.f);
 120:MiniSynth.cpp **** 
 121:MiniSynth.cpp ****     filter.Init(sr);
 122:MiniSynth.cpp ****     filter.SetRes(0.5f);
 123:MiniSynth.cpp ****     filter.SetFreq(1000.f);
 124:MiniSynth.cpp **** 
 125:MiniSynth.cpp ****     env.Init(sr);
 1158              		.loc 14 125 13 view .LVU266
 1159 000c 754D     		ldr	r5, .L68+12
  95:MiniSynth.cpp ****     hw.Configure();
 1160              		.loc 14 95 1 view .LVU267
 1161 000e 2DED048B 		vpush.64	{d8, d9}
 1162              		.cfi_def_cfa_offset 40
 1163              		.cfi_offset 80, -40
 1164              		.cfi_offset 81, -36
 1165              		.cfi_offset 82, -32
 1166              		.cfi_offset 83, -28
 1167 0012 8CB0     		sub	sp, sp, #48
 1168              		.cfi_def_cfa_offset 88
 1169              	.LBB582:
 1170              	.LBB572:
  53:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1171              		.loc 8 53 27 view .LVU268
 1172 0014 F7EE008A 		vmov.f32	s17, #1.0e+0
 1173              	.LBE572:
 1174              	.LBE582:
  96:MiniSynth.cpp ****     hw.Init();
 1175              		.loc 14 96 17 view .LVU269
 1176 0018 FFF7FEFF 		bl	_ZN5daisy9DaisySeed9ConfigureEv
 1177              	.LVL61:
  97:MiniSynth.cpp ****     hw.SetAudioBlockSize(4);
 1178              		.loc 14 97 5 is_stmt 1 view .LVU270
  97:MiniSynth.cpp ****     hw.SetAudioBlockSize(4);
 1179              		.loc 14 97 12 is_stmt 0 view .LVU271
 1180 001c 0021     		movs	r1, #0
 1181 001e 6E48     		ldr	r0, .L68
 1182              	.LBB583:
 1183              	.LBB573:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 51


  55:../../DaisySP//Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 1184              		.loc 8 55 20 view .LVU272
 1185 0020 B6EE009A 		vmov.f32	s18, #5.0e-1
 1186              	.LBE573:
 1187              	.LBE583:
  97:MiniSynth.cpp ****     hw.SetAudioBlockSize(4);
 1188              		.loc 14 97 12 view .LVU273
 1189 0024 FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 1190              	.LVL62:
  98:MiniSynth.cpp **** 
 1191              		.loc 14 98 5 is_stmt 1 view .LVU274
  98:MiniSynth.cpp **** 
 1192              		.loc 14 98 25 is_stmt 0 view .LVU275
 1193 0028 0421     		movs	r1, #4
 1194 002a 6B48     		ldr	r0, .L68
 1195 002c FFF7FEFF 		bl	_ZN5daisy9DaisySeed17SetAudioBlockSizeEj
 1196              	.LVL63:
 101:MiniSynth.cpp ****     midi_cfg.transport_config.periph = MidiUsbTransport::Config::INTERNAL;
 1197              		.loc 14 101 5 is_stmt 1 view .LVU276
 1198              	.LBB584:
 1199              	.LBI584:
 158:../../libDaisy//src/hid/midi.h ****     {
 1200              		.loc 10 158 12 view .LVU277
 1201              	.LBB585:
 1202              	.LBI585:
  43:../../libDaisy//src/hid/usb_midi.h ****     };
 1203              		.loc 13 43 9 view .LVU278
  43:../../libDaisy//src/hid/usb_midi.h ****     };
 1204              		.loc 13 43 9 is_stmt 0 view .LVU279
 1205              	.LBE585:
 1206              	.LBE584:
 102:MiniSynth.cpp ****     midi.Init(midi_cfg);
 1207              		.loc 14 102 5 is_stmt 1 view .LVU280
 103:MiniSynth.cpp **** 
 1208              		.loc 14 103 5 view .LVU281
 1209              	.LBB586:
 1210              	.LBI576:
 166:../../libDaisy//src/hid/midi.h ****     {
 1211              		.loc 10 166 10 view .LVU282
 1212              	.LBB580:
 168:../../libDaisy//src/hid/midi.h ****         transport_.Init(config_.transport_config);
 1213              		.loc 10 168 9 is_stmt 0 view .LVU283
 1214 0030 4FF44073 		mov	r3, #768
 169:../../libDaisy//src/hid/midi.h ****         parser_.Init();
 1215              		.loc 10 169 24 view .LVU284
 1216 0034 2046     		mov	r0, r4
 168:../../libDaisy//src/hid/midi.h ****         transport_.Init(config_.transport_config);
 1217              		.loc 10 168 9 view .LVU285
 1218 0036 2380     		strh	r3, [r4]	@ movhi
 169:../../libDaisy//src/hid/midi.h ****         parser_.Init();
 1219              		.loc 10 169 24 view .LVU286
 1220 0038 50F8041B 		ldr	r1, [r0], #4
 1221 003c FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
 1222              	.LVL64:
 1223              	.LBB578:
 1224              	.LBI578:
  20:../../libDaisy//src/hid/midi_parser.h **** 
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 52


  21:../../libDaisy//src/hid/midi_parser.h ****     inline void Init() { Reset(); }
 1225              		.loc 12 21 17 is_stmt 1 view .LVU287
 1226              	.LBB579:
 1227              		.loc 12 21 26 view .LVU288
 1228              		.loc 12 21 31 is_stmt 0 view .LVU289
 1229 0040 04F10800 		add	r0, r4, #8
 1230 0044 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ResetEv
 1231              	.LVL65:
 1232              		.loc 12 21 31 view .LVU290
 1233              	.LBE579:
 1234              	.LBE578:
 1235              	.LBE580:
 1236              	.LBE586:
 106:MiniSynth.cpp ****     adc_cfg[0].InitSingle(hw.GetPin(15)); // A0: cutoff
 1237              		.loc 14 106 5 is_stmt 1 view .LVU291
 107:MiniSynth.cpp ****     adc_cfg[1].InitSingle(hw.GetPin(16)); // A1: Q / reso
 1238              		.loc 14 107 5 view .LVU292
 107:MiniSynth.cpp ****     adc_cfg[1].InitSingle(hw.GetPin(16)); // A1: Q / reso
 1239              		.loc 14 107 26 is_stmt 0 view .LVU293
 1240 0048 0F20     		movs	r0, #15
 1241 004a FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 1242              	.LVL66:
 1243 004e ADF80000 		strh	r0, [sp]	@ movhi
 1244 0052 0222     		movs	r2, #2
 1245 0054 0099     		ldr	r1, [sp]
 1246 0056 03A8     		add	r0, sp, #12
 1247 0058 FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleE12dsy_gpio_pinNS0_15ConversionSpeedE
 1248              	.LVL67:
 108:MiniSynth.cpp **** 	adc_cfg[2].InitSingle(hw.GetPin(17)); // A2: Filter Env Depth
 1249              		.loc 14 108 5 is_stmt 1 view .LVU294
 108:MiniSynth.cpp **** 	adc_cfg[2].InitSingle(hw.GetPin(17)); // A2: Filter Env Depth
 1250              		.loc 14 108 26 is_stmt 0 view .LVU295
 1251 005c 1020     		movs	r0, #16
 1252 005e FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 1253              	.LVL68:
 1254 0062 ADF80400 		strh	r0, [sp, #4]	@ movhi
 1255 0066 0222     		movs	r2, #2
 1256 0068 0199     		ldr	r1, [sp, #4]
 1257 006a 0DF11E00 		add	r0, sp, #30
 1258 006e FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleE12dsy_gpio_pinNS0_15ConversionSpeedE
 1259              	.LVL69:
 109:MiniSynth.cpp **** 
 1260              		.loc 14 109 2 is_stmt 1 view .LVU296
 109:MiniSynth.cpp **** 
 1261              		.loc 14 109 23 is_stmt 0 view .LVU297
 1262 0072 1120     		movs	r0, #17
 1263 0074 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6GetPinEh
 1264              	.LVL70:
 1265 0078 ADF80800 		strh	r0, [sp, #8]	@ movhi
 1266 007c 0222     		movs	r2, #2
 1267 007e 0CA8     		add	r0, sp, #48
 1268 0080 0299     		ldr	r1, [sp, #8]
 1269 0082 FFF7FEFF 		bl	_ZN5daisy16AdcChannelConfig10InitSingleE12dsy_gpio_pinNS0_15ConversionSpeedE
 1270              	.LVL71:
 111:MiniSynth.cpp ****     hw.adc.Start();
 1271              		.loc 14 111 5 is_stmt 1 view .LVU298
 111:MiniSynth.cpp ****     hw.adc.Start();
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 53


 1272              		.loc 14 111 16 is_stmt 0 view .LVU299
 1273 0086 0322     		movs	r2, #3
 1274 0088 03A9     		add	r1, sp, #12
 1275 008a 0423     		movs	r3, #4
 1276 008c 5648     		ldr	r0, .L68+16
 1277 008e FFF7FEFF 		bl	_ZN5daisy9AdcHandle4InitEPNS_16AdcChannelConfigEjNS0_12OverSamplingE
 1278              	.LVL72:
 112:MiniSynth.cpp **** 
 1279              		.loc 14 112 5 is_stmt 1 view .LVU300
 112:MiniSynth.cpp **** 
 1280              		.loc 14 112 17 is_stmt 0 view .LVU301
 1281 0092 5548     		ldr	r0, .L68+16
 1282 0094 FFF7FEFF 		bl	_ZN5daisy9AdcHandle5StartEv
 1283              	.LVL73:
 115:MiniSynth.cpp ****     osc.Init(sr);
 1284              		.loc 14 115 5 is_stmt 1 view .LVU302
 115:MiniSynth.cpp ****     osc.Init(sr);
 1285              		.loc 14 115 34 is_stmt 0 view .LVU303
 1286 0098 4F48     		ldr	r0, .L68
 1287 009a FFF7FEFF 		bl	_ZN5daisy9DaisySeed15AudioSampleRateEv
 1288              	.LVL74:
 1289 009e B0EE408A 		vmov.f32	s16, s0
 1290              	.LVL75:
 116:MiniSynth.cpp ****     osc.SetWaveform(Oscillator::WAVE_SAW);
 1291              		.loc 14 116 5 is_stmt 1 view .LVU304
 1292              	.LBB587:
 1293              	.LBI569:
  50:../../DaisySP//Source/Synthesis/oscillator.h ****     {
 1294              		.loc 8 50 10 view .LVU305
 1295              	.LBB574:
  52:../../DaisySP//Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 1296              		.loc 8 52 9 view .LVU306
  54:../../DaisySP//Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 1297              		.loc 8 54 20 is_stmt 0 view .LVU307
 1298 00a2 DFED527A 		vldr.32	s15, .L68+20
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1299              		.loc 8 58 34 view .LVU308
 1300 00a6 3046     		mov	r0, r6
  57:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 1301              		.loc 8 57 20 view .LVU309
 1302 00a8 B761     		str	r7, [r6, #24]	@ float
  53:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1303              		.loc 8 53 27 view .LVU310
 1304 00aa 88EE887A 		vdiv.f32	s14, s17, s16
  54:../../DaisySP//Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 1305              		.loc 8 54 20 view .LVU311
 1306 00ae C6ED027A 		vstr.32	s15, [r6, #8]
  52:../../DaisySP//Source/Synthesis/oscillator.h ****         sr_recip_  = 1.0f / sample_rate;
 1307              		.loc 8 52 20 view .LVU312
 1308 00b2 86ED048A 		vstr.32	s16, [r6, #16]
  53:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1309              		.loc 8 53 9 is_stmt 1 view .LVU313
  55:../../DaisySP//Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 1310              		.loc 8 55 20 is_stmt 0 view .LVU314
 1311 00b6 86ED019A 		vstr.32	s18, [r6, #4]
  56:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 1312              		.loc 8 56 20 view .LVU315
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 54


 1313 00ba 86ED039A 		vstr.32	s18, [r6, #12]
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1314              		.loc 8 58 34 view .LVU316
 1315 00be B0EE670A 		vmov.f32	s0, s15
 1316              	.LVL76:
  53:../../DaisySP//Source/Synthesis/oscillator.h ****         freq_      = 100.0f;
 1317              		.loc 8 53 20 view .LVU317
 1318 00c2 86ED057A 		vstr.32	s14, [r6, #20]
  54:../../DaisySP//Source/Synthesis/oscillator.h ****         amp_       = 0.5f;
 1319              		.loc 8 54 9 is_stmt 1 view .LVU318
  55:../../DaisySP//Source/Synthesis/oscillator.h ****         pw_        = 0.5f;
 1320              		.loc 8 55 9 view .LVU319
  56:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_     = 0.0f;
 1321              		.loc 8 56 9 view .LVU320
  57:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(freq_);
 1322              		.loc 8 57 9 view .LVU321
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1323              		.loc 8 58 9 view .LVU322
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1324              		.loc 8 58 34 is_stmt 0 view .LVU323
 1325 00c6 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1326              	.LVL77:
  59:../../DaisySP//Source/Synthesis/oscillator.h ****         eoc_       = true;
 1327              		.loc 8 59 9 is_stmt 1 view .LVU324
  60:../../DaisySP//Source/Synthesis/oscillator.h ****         eor_       = true;
 1328              		.loc 8 60 9 view .LVU325
  61:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1329              		.loc 8 61 9 view .LVU326
  61:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1330              		.loc 8 61 20 is_stmt 0 view .LVU327
 1331 00ca 40F20113 		movw	r3, #257
  58:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_  = WAVE_SIN;
 1332              		.loc 8 58 34 view .LVU328
 1333 00ce 86ED070A 		vstr.32	s0, [r6, #28]
 1334              	.LBE574:
 1335              	.LBE587:
 1336              	.LBB588:
 1337              	.LBB589:
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1338              		.loc 8 69 20 view .LVU329
 1339 00d2 9FED470A 		vldr.32	s0, .L68+24
  70:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1340              		.loc 8 70 34 view .LVU330
 1341 00d6 3046     		mov	r0, r6
 1342              	.LBE589:
 1343              	.LBE588:
 1344              	.LBB592:
 1345              	.LBB575:
  61:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1346              		.loc 8 61 20 view .LVU331
 1347 00d8 3385     		strh	r3, [r6, #40]	@ movhi
 1348              	.LVL78:
  61:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1349              		.loc 8 61 20 view .LVU332
 1350              	.LBE575:
 1351              	.LBE592:
 117:MiniSynth.cpp ****     osc.SetAmp(1.f);
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 55


 1352              		.loc 14 117 5 is_stmt 1 view .LVU333
 1353              	.LBB593:
 1354              	.LBI593:
  77:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
  78:../../DaisySP//Source/Synthesis/oscillator.h ****     */
  79:../../DaisySP//Source/Synthesis/oscillator.h ****     inline void SetWaveform(const uint8_t wf)
 1355              		.loc 8 79 17 view .LVU334
 1356              	.LBB594:
  80:../../DaisySP//Source/Synthesis/oscillator.h ****     {
  81:../../DaisySP//Source/Synthesis/oscillator.h ****         waveform_ = wf < WAVE_LAST ? wf : WAVE_SIN;
 1357              		.loc 8 81 9 view .LVU335
 1358              		.loc 8 81 19 is_stmt 0 view .LVU336
 1359 00da 0223     		movs	r3, #2
 1360              	.LBE594:
 1361              	.LBE593:
 1362              	.LBB596:
 1363              	.LBB597:
  76:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
 1364              		.loc 8 76 46 view .LVU337
 1365 00dc C6ED018A 		vstr.32	s17, [r6, #4]
 1366              	.LBE597:
 1367              	.LBE596:
 1368              	.LBB599:
 1369              	.LBB595:
 1370              		.loc 8 81 19 view .LVU338
 1371 00e0 3370     		strb	r3, [r6]
 1372              	.LVL79:
 1373              		.loc 8 81 19 view .LVU339
 1374              	.LBE595:
 1375              	.LBE599:
 118:MiniSynth.cpp ****     osc.SetFreq(220.f);
 1376              		.loc 14 118 5 is_stmt 1 view .LVU340
 1377              	.LBB600:
 1378              	.LBI596:
  76:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
 1379              		.loc 8 76 17 view .LVU341
 1380              	.LBB598:
  76:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
 1381              		.loc 8 76 41 view .LVU342
  76:../../DaisySP//Source/Synthesis/oscillator.h ****     /** Sets the waveform to be synthesized by the Process() function.
 1382              		.loc 8 76 41 is_stmt 0 view .LVU343
 1383              	.LBE598:
 1384              	.LBE600:
 119:MiniSynth.cpp **** 
 1385              		.loc 14 119 5 is_stmt 1 view .LVU344
 1386              	.LBB601:
 1387              	.LBI588:
  67:../../DaisySP//Source/Synthesis/oscillator.h ****     {
 1388              		.loc 8 67 17 view .LVU345
 1389              	.LBB590:
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1390              		.loc 8 69 9 view .LVU346
  70:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1391              		.loc 8 70 9 view .LVU347
  69:../../DaisySP//Source/Synthesis/oscillator.h ****         phase_inc_ = CalcPhaseInc(f);
 1392              		.loc 8 69 20 is_stmt 0 view .LVU348
 1393 00e2 86ED020A 		vstr.32	s0, [r6, #8]
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 56


  70:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1394              		.loc 8 70 34 view .LVU349
 1395 00e6 FFF7FEFF 		bl	_ZN7daisysp10Oscillator12CalcPhaseIncEf
 1396              	.LVL80:
 1397 00ea F0EE407A 		vmov.f32	s15, s0
 1398              	.LBE590:
 1399              	.LBE601:
 121:MiniSynth.cpp ****     filter.SetRes(0.5f);
 1400              		.loc 14 121 16 view .LVU350
 1401 00ee 4148     		ldr	r0, .L68+28
 1402 00f0 B0EE480A 		vmov.f32	s0, s16
 1403              	.LBB602:
 1404              	.LBB591:
  70:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1405              		.loc 8 70 20 view .LVU351
 1406 00f4 C6ED077A 		vstr.32	s15, [r6, #28]
 1407              	.LVL81:
  70:../../DaisySP//Source/Synthesis/oscillator.h ****     }
 1408              		.loc 8 70 20 view .LVU352
 1409              	.LBE591:
 1410              	.LBE602:
 121:MiniSynth.cpp ****     filter.SetRes(0.5f);
 1411              		.loc 14 121 5 is_stmt 1 view .LVU353
 121:MiniSynth.cpp ****     filter.SetRes(0.5f);
 1412              		.loc 14 121 16 is_stmt 0 view .LVU354
 1413 00f8 FFF7FEFF 		bl	_ZN7daisysp3Svf4InitEf
 1414              	.LVL82:
 122:MiniSynth.cpp ****     filter.SetFreq(1000.f);
 1415              		.loc 14 122 5 is_stmt 1 view .LVU355
 122:MiniSynth.cpp ****     filter.SetFreq(1000.f);
 1416              		.loc 14 122 18 is_stmt 0 view .LVU356
 1417 00fc B0EE490A 		vmov.f32	s0, s18
 1418 0100 3C48     		ldr	r0, .L68+28
 1419 0102 FFF7FEFF 		bl	_ZN7daisysp3Svf6SetResEf
 1420              	.LVL83:
 123:MiniSynth.cpp **** 
 1421              		.loc 14 123 5 is_stmt 1 view .LVU357
 123:MiniSynth.cpp **** 
 1422              		.loc 14 123 19 is_stmt 0 view .LVU358
 1423 0106 9FED3C0A 		vldr.32	s0, .L68+32
 1424 010a 3A48     		ldr	r0, .L68+28
 1425 010c FFF7FEFF 		bl	_ZN7daisysp3Svf7SetFreqEf
 1426              	.LVL84:
 1427              		.loc 14 125 5 is_stmt 1 view .LVU359
 1428              		.loc 14 125 13 is_stmt 0 view .LVU360
 1429 0110 2846     		mov	r0, r5
 1430 0112 B0EE480A 		vmov.f32	s0, s16
 1431 0116 394E     		ldr	r6, .L68+36
 1432 0118 FFF7FEFF 		bl	_ZN7daisysp5AdEnv4InitEf
 1433              	.LVL85:
 126:MiniSynth.cpp ****     env.SetTime(ADENV_SEG_ATTACK, 0.01f);
 1434              		.loc 14 126 5 is_stmt 1 view .LVU361
 1435              	.LBB603:
 1436              	.LBI603:
  44:../../DaisySP//Source/Control/adenv.h ****     /** Initializes the ad envelope.
  45:../../DaisySP//Source/Control/adenv.h **** 
  46:../../DaisySP//Source/Control/adenv.h ****         Defaults:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 57


  47:../../DaisySP//Source/Control/adenv.h ****             - current segment = idle
  48:../../DaisySP//Source/Control/adenv.h ****             - curve = linear
  49:../../DaisySP//Source/Control/adenv.h ****             - phase = 0
  50:../../DaisySP//Source/Control/adenv.h ****             - min = 0
  51:../../DaisySP//Source/Control/adenv.h ****             - max = 1
  52:../../DaisySP//Source/Control/adenv.h **** 
  53:../../DaisySP//Source/Control/adenv.h ****         \param sample_rate      sample rate of the audio engine being run
  54:../../DaisySP//Source/Control/adenv.h ****     */
  55:../../DaisySP//Source/Control/adenv.h ****     void Init(float sample_rate);
  56:../../DaisySP//Source/Control/adenv.h **** 
  57:../../DaisySP//Source/Control/adenv.h ****     /** Processes the current sample of the envelope. This should be called once
  58:../../DaisySP//Source/Control/adenv.h ****         per sample period.
  59:../../DaisySP//Source/Control/adenv.h ****         \return the current envelope value.
  60:../../DaisySP//Source/Control/adenv.h ****     */
  61:../../DaisySP//Source/Control/adenv.h ****     float Process();
  62:../../DaisySP//Source/Control/adenv.h **** 
  63:../../DaisySP//Source/Control/adenv.h ****     /** Starts or retriggers the envelope.*/
  64:../../DaisySP//Source/Control/adenv.h ****     inline void Trigger() { trigger_ = 1; }
  65:../../DaisySP//Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
  66:../../DaisySP//Source/Control/adenv.h ****     inline void SetTime(uint8_t seg, float time) { segment_time_[seg] = time; }
 1437              		.loc 7 66 17 view .LVU362
 1438              	.LBB604:
 1439              		.loc 7 66 52 view .LVU363
 1440              	.LBE604:
 1441              	.LBE603:
 1442              	.LBB607:
 1443              	.LBB608:
 1444              		.loc 7 66 71 is_stmt 0 view .LVU364
 1445 011c 4FF07A53 		mov	r3, #1048576000
 1446              	.LBE608:
 1447              	.LBE607:
 1448              	.LBB610:
 1449              	.LBB605:
 1450 0120 374A     		ldr	r2, .L68+40
 1451              	.LBE605:
 1452              	.LBE610:
 127:MiniSynth.cpp ****     env.SetTime(ADENV_SEG_DECAY, 0.25f);
 128:MiniSynth.cpp ****     env.SetMin(0.f);
 129:MiniSynth.cpp ****     env.SetMax(1.f);
 130:MiniSynth.cpp ****     env.SetCurve(0);
 131:MiniSynth.cpp **** 
 132:MiniSynth.cpp ****     hw.StartAudio(AudioCallback);
 1453              		.loc 14 132 18 view .LVU365
 1454 0122 3849     		ldr	r1, .L68+44
 1455 0124 2C48     		ldr	r0, .L68
 1456              	.LBB611:
 1457              	.LBB612:
  67:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
  68:../../DaisySP//Source/Control/adenv.h ****         curve. Input range: -100 to 100.  (or more)
  69:../../DaisySP//Source/Control/adenv.h ****     */
  70:../../DaisySP//Source/Control/adenv.h ****     inline void SetCurve(float scalar) { curve_scalar_ = scalar; }
  71:../../DaisySP//Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
  72:../../DaisySP//Source/Control/adenv.h ****         Input range: -FLTmax_, to FLTmax_
  73:../../DaisySP//Source/Control/adenv.h ****     */
  74:../../DaisySP//Source/Control/adenv.h ****     inline void SetMin(float min) { min_ = min; }
 1458              		.loc 7 74 42 view .LVU366
 1459 0126 6F61     		str	r7, [r5, #20]	@ float
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 58


 1460              	.LBE612:
 1461              	.LBE611:
 1462              	.LBB614:
 1463              	.LBB615:
  70:../../DaisySP//Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1464              		.loc 7 70 56 view .LVU367
 1465 0128 2F62     		str	r7, [r5, #32]	@ float
 1466              	.LBE615:
 1467              	.LBE614:
 1468              	.LBB617:
 1469              	.LBB618:
  75:../../DaisySP//Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
  76:../../DaisySP//Source/Control/adenv.h ****         Input range: -FLTmax_, to FLTmax_
  77:../../DaisySP//Source/Control/adenv.h ****     */
  78:../../DaisySP//Source/Control/adenv.h ****     inline void SetMax(float max) { max_ = max; }
 1470              		.loc 7 78 42 view .LVU368
 1471 012a C5ED068A 		vstr.32	s17, [r5, #24]
 1472 012e 364F     		ldr	r7, .L68+48
 1473              	.LBE618:
 1474              	.LBE617:
 1475              	.LBB620:
 1476              	.LBB606:
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1477              		.loc 7 66 71 view .LVU369
 1478 0130 AA60     		str	r2, [r5, #8]	@ float
 1479              	.LVL86:
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1480              		.loc 7 66 71 view .LVU370
 1481              	.LBE606:
 1482              	.LBE620:
 127:MiniSynth.cpp ****     env.SetMin(0.f);
 1483              		.loc 14 127 5 is_stmt 1 view .LVU371
 1484              	.LBB621:
 1485              	.LBI607:
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1486              		.loc 7 66 17 view .LVU372
 1487              	.LBB609:
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1488              		.loc 7 66 52 view .LVU373
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1489              		.loc 7 66 71 is_stmt 0 view .LVU374
 1490 0132 EB60     		str	r3, [r5, #12]	@ float
 1491              	.LVL87:
  66:../../DaisySP//Source/Control/adenv.h ****     /** Sets the amount of curve applied. A positve value will create a log
 1492              		.loc 7 66 71 view .LVU375
 1493              	.LBE609:
 1494              	.LBE621:
 128:MiniSynth.cpp ****     env.SetMax(1.f);
 1495              		.loc 14 128 5 is_stmt 1 view .LVU376
 1496              	.LBB622:
 1497              	.LBI611:
  74:../../DaisySP//Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 1498              		.loc 7 74 17 view .LVU377
 1499              	.LBB613:
  74:../../DaisySP//Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
 1500              		.loc 7 74 37 view .LVU378
  74:../../DaisySP//Source/Control/adenv.h ****     /** Sets the maximum value of the envelope output.
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 59


 1501              		.loc 7 74 37 is_stmt 0 view .LVU379
 1502              	.LBE613:
 1503              	.LBE622:
 129:MiniSynth.cpp ****     env.SetCurve(0);
 1504              		.loc 14 129 5 is_stmt 1 view .LVU380
 1505              	.LBB623:
 1506              	.LBI617:
 1507              		.loc 7 78 17 view .LVU381
 1508              	.LBB619:
 1509              		.loc 7 78 37 view .LVU382
 1510              		.loc 7 78 37 is_stmt 0 view .LVU383
 1511              	.LBE619:
 1512              	.LBE623:
 130:MiniSynth.cpp **** 
 1513              		.loc 14 130 5 is_stmt 1 view .LVU384
 1514              	.LBB624:
 1515              	.LBI614:
  70:../../DaisySP//Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1516              		.loc 7 70 17 view .LVU385
 1517              	.LBB616:
  70:../../DaisySP//Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1518              		.loc 7 70 42 view .LVU386
  70:../../DaisySP//Source/Control/adenv.h ****     /** Sets the minimum value of the envelope output.
 1519              		.loc 7 70 42 is_stmt 0 view .LVU387
 1520              	.LBE616:
 1521              	.LBE624:
 1522              		.loc 14 132 5 is_stmt 1 view .LVU388
 1523              		.loc 14 132 18 is_stmt 0 view .LVU389
 1524 0134 FFF7FEFF 		bl	_ZN5daisy9DaisySeed10StartAudioEPFvPKfPfjE
 1525              	.LVL88:
 1526              	.L50:
 133:MiniSynth.cpp **** 
 134:MiniSynth.cpp ****     while(1)
 1527              		.loc 14 134 5 is_stmt 1 view .LVU390
 1528              	.LBB625:
 135:MiniSynth.cpp ****     {
 136:MiniSynth.cpp ****         midi.Listen();
 1529              		.loc 14 136 9 view .LVU391
 1530              	.LBB626:
 1531              	.LBI626:
 181:../../libDaisy//src/hid/midi.h ****     {
 1532              		.loc 10 181 10 view .LVU392
 1533              	.LBB627:
 186:../../libDaisy//src/hid/midi.h ****         {
 1534              		.loc 10 186 32 is_stmt 0 view .LVU393
 1535 0138 3448     		ldr	r0, .L68+52
 1536 013a FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8RxActiveEv
 1537              	.LVL89:
 186:../../libDaisy//src/hid/midi.h ****         {
 1538              		.loc 10 186 9 view .LVU394
 1539 013e 0028     		cmp	r0, #0
 1540 0140 3DD0     		beq	.L65
 1541              	.L48:
 1542              	.LBE627:
 1543              	.LBE626:
 1544              	.LBB631:
 1545              	.LBB632:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 60


 1546              	.LBB633:
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 1547              		.loc 11 173 43 view .LVU395
 1548 0142 D4E92BC3 		ldrd	ip, r3, [r4, #172]
 1549              	.LVL90:
 1550              	.L64:
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 1551              		.loc 11 173 43 view .LVU396
 1552 0146 ACEB0301 		sub	r1, ip, r3
 1553              	.L55:
 1554              	.LBE633:
 1555              	.LBE632:
 1556              	.LBE631:
 137:MiniSynth.cpp ****         while(midi.HasEvents())
 1557              		.loc 14 137 9 is_stmt 1 view .LVU397
 1558              		.loc 14 137 29 view .LVU398
 1559              	.LVL91:
 1560              	.LBB640:
 1561              	.LBI631:
 197:../../libDaisy//src/hid/midi.h **** 
 1562              		.loc 10 197 10 view .LVU399
 1563              	.LBB637:
 1564              	.LBI632:
 171:../../libDaisy//src/util/FIFO.h ****     {
 1565              		.loc 11 171 12 view .LVU400
 1566              	.LBB634:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 1567              		.loc 11 174 9 is_stmt 0 view .LVU401
 1568 014a 0029     		cmp	r1, #0
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 1569              		.loc 11 173 41 view .LVU402
 1570 014c 0A46     		mov	r2, r1
 1571              	.LVL92:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 1572              		.loc 11 174 9 view .LVU403
 1573 014e 28DB     		blt	.L66
 1574              	.LVL93:
 1575              	.L49:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 1576              		.loc 11 174 9 view .LVU404
 1577              	.LBE634:
 1578              	.LBE637:
 1579              	.LBE640:
 1580              		.loc 14 137 29 view .LVU405
 1581 0150 002A     		cmp	r2, #0
 1582 0152 F1D0     		beq	.L50
 1583              	.LBB641:
 138:MiniSynth.cpp ****         {
 139:MiniSynth.cpp ****             auto msg = midi.PopEvent();
 1584              		.loc 14 139 13 is_stmt 1 view .LVU406
 1585              	.LVL94:
 1586              	.LBB642:
 1587              	.LBI642:
 203:../../libDaisy//src/hid/midi.h **** 
 1588              		.loc 10 203 15 view .LVU407
 1589              	.LBB643:
 1590              	.LBI643:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 61


 101:../../libDaisy//src/util/FIFO.h ****     {
 1591              		.loc 11 101 7 view .LVU408
 1592              	.LBB644:
 103:../../libDaisy//src/util/FIFO.h ****             return T();
 1593              		.loc 11 103 9 is_stmt 0 view .LVU409
 1594 0154 9C45     		cmp	ip, r3
 1595 0156 2AD0     		beq	.L51
 1596              	.LBB645:
 107:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 1597              		.loc 11 107 40 view .LVU410
 1598 0158 03EBC302 		add	r2, r3, r3, lsl #3
 1599 015c D4F8A400 		ldr	r0, [r4, #164]
 108:../../libDaisy//src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 1600              		.loc 11 108 13 view .LVU411
 1601 0160 0133     		adds	r3, r3, #1
 109:../../libDaisy//src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1602              		.loc 11 109 30 view .LVU412
 1603 0162 D4F8A8E0 		ldr	lr, [r4, #168]
 107:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 1604              		.loc 11 107 40 view .LVU413
 1605 0166 00EB0211 		add	r1, r0, r2, lsl #4
 109:../../libDaisy//src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1606              		.loc 11 109 13 view .LVU414
 1607 016a 7345     		cmp	r3, lr
 107:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 1608              		.loc 11 107 40 view .LVU415
 1609 016c 4FEA0212 		lsl	r2, r2, #4
 107:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 1610              		.loc 11 107 24 view .LVU416
 1611 0170 91F80880 		ldrb	r8, [r1, #8]	@ zero_extendqisi2
 1612 0174 825C     		ldrb	r2, [r0, r2]	@ zero_extendqisi2
 1613              	.LVL95:
 107:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 1614              		.loc 11 107 24 view .LVU417
 1615 0176 497A     		ldrb	r1, [r1, #9]	@ zero_extendqisi2
 1616              	.LVL96:
 108:../../libDaisy//src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 1617              		.loc 11 108 13 view .LVU418
 1618 0178 C4F8B030 		str	r3, [r4, #176]
 109:../../libDaisy//src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1619              		.loc 11 109 13 view .LVU419
 1620 017c 03D3     		bcc	.L52
 110:../../libDaisy//src/util/FIFO.h ****             return result;
 1621              		.loc 11 110 28 view .LVU420
 1622 017e A3EB0E03 		sub	r3, r3, lr
 1623 0182 C4F8B030 		str	r3, [r4, #176]
 1624              	.L52:
 1625              	.LVL97:
 110:../../libDaisy//src/util/FIFO.h ****             return result;
 1626              		.loc 11 110 28 view .LVU421
 1627              	.LBE645:
 1628              	.LBE644:
 1629              	.LBE643:
 1630              	.LBE642:
 140:MiniSynth.cpp ****             switch(msg.type)
 1631              		.loc 14 140 13 is_stmt 1 view .LVU422
 1632              	.LBB646:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 62


 1633 0186 82B1     		cbz	r2, .L67
 1634 0188 012A     		cmp	r2, #1
 1635 018a DCD1     		bne	.L64
 1636              	.LBB647:
 141:MiniSynth.cpp ****             {
 142:MiniSynth.cpp ****                 case NoteOn:
 1637              		.loc 14 142 17 view .LVU423
 143:MiniSynth.cpp ****                 {
 1638              		.loc 14 143 17 view .LVU424
 1639              	.LBB648:
 144:MiniSynth.cpp ****                     auto note_msg = msg.AsNoteOn();
 1640              		.loc 14 144 21 view .LVU425
 1641              	.LVL98:
 1642              	.LBB649:
 1643              	.LBI649:
 1644              		.file 16 "../../libDaisy//src/hid/MidiEvent.h"
   1:../../libDaisy//src/hid/MidiEvent.h **** // TODO: make this adjustable
   2:../../libDaisy//src/hid/MidiEvent.h **** #define SYSEX_BUFFER_LEN 128
   3:../../libDaisy//src/hid/MidiEvent.h **** 
   4:../../libDaisy//src/hid/MidiEvent.h **** namespace daisy
   5:../../libDaisy//src/hid/MidiEvent.h **** {
   6:../../libDaisy//src/hid/MidiEvent.h **** /** @addtogroup midi MIDI
   7:../../libDaisy//src/hid/MidiEvent.h ****  *  @ingroup human_interface
   8:../../libDaisy//src/hid/MidiEvent.h ****  *  @ingroup libdaisy
   9:../../libDaisy//src/hid/MidiEvent.h ****  *  @brief MIDI handlers, transports, and message types
  10:../../libDaisy//src/hid/MidiEvent.h ****  *  @{
  11:../../libDaisy//src/hid/MidiEvent.h ****  */
  12:../../libDaisy//src/hid/MidiEvent.h **** 
  13:../../libDaisy//src/hid/MidiEvent.h **** /** @defgroup midi_events MIDI_EVENTS
  14:../../libDaisy//src/hid/MidiEvent.h ****  *  @{
  15:../../libDaisy//src/hid/MidiEvent.h **** */
  16:../../libDaisy//src/hid/MidiEvent.h **** 
  17:../../libDaisy//src/hid/MidiEvent.h **** /** Parsed from the Status Byte, these are the common Midi Messages that can be handled. \n
  18:../../libDaisy//src/hid/MidiEvent.h **** At this time only 3-byte messages are correctly parsed into MidiEvents.
  19:../../libDaisy//src/hid/MidiEvent.h **** */
  20:../../libDaisy//src/hid/MidiEvent.h **** enum MidiMessageType
  21:../../libDaisy//src/hid/MidiEvent.h **** {
  22:../../libDaisy//src/hid/MidiEvent.h ****     NoteOff,               /**< & */
  23:../../libDaisy//src/hid/MidiEvent.h ****     NoteOn,                /**< & */
  24:../../libDaisy//src/hid/MidiEvent.h ****     PolyphonicKeyPressure, /**< & */
  25:../../libDaisy//src/hid/MidiEvent.h ****     ControlChange,         /**< & */
  26:../../libDaisy//src/hid/MidiEvent.h ****     ProgramChange,         /**< & */
  27:../../libDaisy//src/hid/MidiEvent.h ****     ChannelPressure,       /**< & */
  28:../../libDaisy//src/hid/MidiEvent.h ****     PitchBend,             /**< & */
  29:../../libDaisy//src/hid/MidiEvent.h ****     SystemCommon,          /**< & */
  30:../../libDaisy//src/hid/MidiEvent.h ****     SystemRealTime,        /**< & */
  31:../../libDaisy//src/hid/MidiEvent.h ****     ChannelMode,           /**< & */
  32:../../libDaisy//src/hid/MidiEvent.h ****     MessageLast,           /**< & */
  33:../../libDaisy//src/hid/MidiEvent.h **** };
  34:../../libDaisy//src/hid/MidiEvent.h **** 
  35:../../libDaisy//src/hid/MidiEvent.h **** enum SystemCommonType
  36:../../libDaisy//src/hid/MidiEvent.h **** {
  37:../../libDaisy//src/hid/MidiEvent.h ****     SystemExclusive,     /**< & */
  38:../../libDaisy//src/hid/MidiEvent.h ****     MTCQuarterFrame,     /**< & */
  39:../../libDaisy//src/hid/MidiEvent.h ****     SongPositionPointer, /**< & */
  40:../../libDaisy//src/hid/MidiEvent.h ****     SongSelect,          /**< & */
  41:../../libDaisy//src/hid/MidiEvent.h ****     SCUndefined0,        /**< & */
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 63


  42:../../libDaisy//src/hid/MidiEvent.h ****     SCUndefined1,        /**< & */
  43:../../libDaisy//src/hid/MidiEvent.h ****     TuneRequest,         /**< & */
  44:../../libDaisy//src/hid/MidiEvent.h ****     SysExEnd,            /**< & */
  45:../../libDaisy//src/hid/MidiEvent.h ****     SystemCommonLast,    /**< & */
  46:../../libDaisy//src/hid/MidiEvent.h **** };
  47:../../libDaisy//src/hid/MidiEvent.h **** 
  48:../../libDaisy//src/hid/MidiEvent.h **** enum SystemRealTimeType
  49:../../libDaisy//src/hid/MidiEvent.h **** {
  50:../../libDaisy//src/hid/MidiEvent.h ****     TimingClock,        /**< & */
  51:../../libDaisy//src/hid/MidiEvent.h ****     SRTUndefined0,      /**< & */
  52:../../libDaisy//src/hid/MidiEvent.h ****     Start,              /**< & */
  53:../../libDaisy//src/hid/MidiEvent.h ****     Continue,           /**< & */
  54:../../libDaisy//src/hid/MidiEvent.h ****     Stop,               /**< & */
  55:../../libDaisy//src/hid/MidiEvent.h ****     SRTUndefined1,      /**< & */
  56:../../libDaisy//src/hid/MidiEvent.h ****     ActiveSensing,      /**< & */
  57:../../libDaisy//src/hid/MidiEvent.h ****     Reset,              /**< & */
  58:../../libDaisy//src/hid/MidiEvent.h ****     SystemRealTimeLast, /**< & */
  59:../../libDaisy//src/hid/MidiEvent.h **** };
  60:../../libDaisy//src/hid/MidiEvent.h **** 
  61:../../libDaisy//src/hid/MidiEvent.h **** enum ChannelModeType
  62:../../libDaisy//src/hid/MidiEvent.h **** {
  63:../../libDaisy//src/hid/MidiEvent.h ****     AllSoundOff,         /**< & */
  64:../../libDaisy//src/hid/MidiEvent.h ****     ResetAllControllers, /**< & */
  65:../../libDaisy//src/hid/MidiEvent.h ****     LocalControl,        /**< & */
  66:../../libDaisy//src/hid/MidiEvent.h ****     AllNotesOff,         /**< & */
  67:../../libDaisy//src/hid/MidiEvent.h ****     OmniModeOff,         /**< & */
  68:../../libDaisy//src/hid/MidiEvent.h ****     OmniModeOn,          /**< & */
  69:../../libDaisy//src/hid/MidiEvent.h ****     MonoModeOn,          /**< & */
  70:../../libDaisy//src/hid/MidiEvent.h ****     PolyModeOn,          /**< & */
  71:../../libDaisy//src/hid/MidiEvent.h ****     ChannelModeLast,     /**< & */
  72:../../libDaisy//src/hid/MidiEvent.h **** };
  73:../../libDaisy//src/hid/MidiEvent.h **** 
  74:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  75:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
  76:../../libDaisy//src/hid/MidiEvent.h **** */
  77:../../libDaisy//src/hid/MidiEvent.h **** struct NoteOffEvent
  78:../../libDaisy//src/hid/MidiEvent.h **** {
  79:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;  /**< & */
  80:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  81:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  82:../../libDaisy//src/hid/MidiEvent.h **** };
  83:../../libDaisy//src/hid/MidiEvent.h **** 
  84:../../libDaisy//src/hid/MidiEvent.h **** 
  85:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  86:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
  87:../../libDaisy//src/hid/MidiEvent.h **** */
  88:../../libDaisy//src/hid/MidiEvent.h **** struct NoteOnEvent
  89:../../libDaisy//src/hid/MidiEvent.h **** {
  90:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;  /**< & */
  91:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  92:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  93:../../libDaisy//src/hid/MidiEvent.h **** };
  94:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing note, and pressure data for a given channel.
  95:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
  96:../../libDaisy//src/hid/MidiEvent.h **** */
  97:../../libDaisy//src/hid/MidiEvent.h **** struct PolyphonicKeyPressureEvent
  98:../../libDaisy//src/hid/MidiEvent.h **** {
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 64


  99:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;
 100:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t note;
 101:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t pressure;
 102:../../libDaisy//src/hid/MidiEvent.h **** };
 103:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing control number, and value for a given channel.
 104:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 105:../../libDaisy//src/hid/MidiEvent.h **** */
 106:../../libDaisy//src/hid/MidiEvent.h **** struct ControlChangeEvent
 107:../../libDaisy//src/hid/MidiEvent.h **** {
 108:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;        /**< & */
 109:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t control_number; /**< & */
 110:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t value;          /**< & */
 111:../../libDaisy//src/hid/MidiEvent.h **** };
 112:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing new program number, for a given channel.
 113:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 114:../../libDaisy//src/hid/MidiEvent.h **** */
 115:../../libDaisy//src/hid/MidiEvent.h **** struct ProgramChangeEvent
 116:../../libDaisy//src/hid/MidiEvent.h **** {
 117:../../libDaisy//src/hid/MidiEvent.h ****     int     channel; /**< & */
 118:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t program; /**< & */
 119:../../libDaisy//src/hid/MidiEvent.h **** };
 120:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing pressure (aftertouch), for a given channel.
 121:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 122:../../libDaisy//src/hid/MidiEvent.h **** */
 123:../../libDaisy//src/hid/MidiEvent.h **** struct ChannelPressureEvent
 124:../../libDaisy//src/hid/MidiEvent.h **** {
 125:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;  /**< & */
 126:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t pressure; /**< & */
 127:../../libDaisy//src/hid/MidiEvent.h **** };
 128:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing pitch bend value for a given channel.
 129:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 130:../../libDaisy//src/hid/MidiEvent.h **** */
 131:../../libDaisy//src/hid/MidiEvent.h **** struct PitchBendEvent
 132:../../libDaisy//src/hid/MidiEvent.h **** {
 133:../../libDaisy//src/hid/MidiEvent.h ****     int     channel; /**< & */
 134:../../libDaisy//src/hid/MidiEvent.h ****     int16_t value;   /**< & */
 135:../../libDaisy//src/hid/MidiEvent.h **** };
 136:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing channel mode event for a given channel.
 137:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 138:../../libDaisy//src/hid/MidiEvent.h **** */
 139:../../libDaisy//src/hid/MidiEvent.h **** struct ChannelModeEvent
 140:../../libDaisy//src/hid/MidiEvent.h **** {
 141:../../libDaisy//src/hid/MidiEvent.h ****     int             channel;    /**< & */
 142:../../libDaisy//src/hid/MidiEvent.h ****     ChannelModeType event_type; /**< & */
 143:../../libDaisy//src/hid/MidiEvent.h ****     int16_t         value;      /**< & */
 144:../../libDaisy//src/hid/MidiEvent.h **** };
 145:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing sysex data.
 146:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 147:../../libDaisy//src/hid/MidiEvent.h **** */
 148:../../libDaisy//src/hid/MidiEvent.h **** struct SystemExclusiveEvent
 149:../../libDaisy//src/hid/MidiEvent.h **** {
 150:../../libDaisy//src/hid/MidiEvent.h ****     int     length;
 151:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t data[SYSEX_BUFFER_LEN]; /**< & */
 152:../../libDaisy//src/hid/MidiEvent.h **** };
 153:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing QuarterFrame data.
 154:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 155:../../libDaisy//src/hid/MidiEvent.h **** */
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 65


 156:../../libDaisy//src/hid/MidiEvent.h **** struct MTCQuarterFrameEvent
 157:../../libDaisy//src/hid/MidiEvent.h **** {
 158:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t message_type; /**< & */
 159:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t value;        /**< & */
 160:../../libDaisy//src/hid/MidiEvent.h **** };
 161:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing song position data.
 162:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 163:../../libDaisy//src/hid/MidiEvent.h **** */
 164:../../libDaisy//src/hid/MidiEvent.h **** struct SongPositionPointerEvent
 165:../../libDaisy//src/hid/MidiEvent.h **** {
 166:../../libDaisy//src/hid/MidiEvent.h ****     uint16_t position; /**< & */
 167:../../libDaisy//src/hid/MidiEvent.h **** };
 168:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing song select data.
 169:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 170:../../libDaisy//src/hid/MidiEvent.h **** */
 171:../../libDaisy//src/hid/MidiEvent.h **** struct SongSelectEvent
 172:../../libDaisy//src/hid/MidiEvent.h **** {
 173:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t song; /**< & */
 174:../../libDaisy//src/hid/MidiEvent.h **** };
 175:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing sound off data.
 176:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 177:../../libDaisy//src/hid/MidiEvent.h **** */
 178:../../libDaisy//src/hid/MidiEvent.h **** struct AllSoundOffEvent
 179:../../libDaisy//src/hid/MidiEvent.h **** {
 180:../../libDaisy//src/hid/MidiEvent.h ****     int channel; /**< & */
 181:../../libDaisy//src/hid/MidiEvent.h **** };
 182:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing ResetAllControllersEvent data.
 183:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 184:../../libDaisy//src/hid/MidiEvent.h **** */
 185:../../libDaisy//src/hid/MidiEvent.h **** struct ResetAllControllersEvent
 186:../../libDaisy//src/hid/MidiEvent.h **** {
 187:../../libDaisy//src/hid/MidiEvent.h ****     int     channel; /**< & */
 188:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t value;   /**< & */
 189:../../libDaisy//src/hid/MidiEvent.h **** };
 190:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing LocalControlEvent data.
 191:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 192:../../libDaisy//src/hid/MidiEvent.h **** */
 193:../../libDaisy//src/hid/MidiEvent.h **** struct LocalControlEvent
 194:../../libDaisy//src/hid/MidiEvent.h **** {
 195:../../libDaisy//src/hid/MidiEvent.h ****     int  channel;           /**< & */
 196:../../libDaisy//src/hid/MidiEvent.h ****     bool local_control_off; /**< & */
 197:../../libDaisy//src/hid/MidiEvent.h ****     bool local_control_on;  /**< & */
 198:../../libDaisy//src/hid/MidiEvent.h **** };
 199:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing AllNotesOffEvent data.
 200:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 201:../../libDaisy//src/hid/MidiEvent.h **** */
 202:../../libDaisy//src/hid/MidiEvent.h **** struct AllNotesOffEvent
 203:../../libDaisy//src/hid/MidiEvent.h **** {
 204:../../libDaisy//src/hid/MidiEvent.h ****     int channel; /**< & */
 205:../../libDaisy//src/hid/MidiEvent.h **** };
 206:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing OmniModeOffEvent data.
 207:../../libDaisy//src/hid/MidiEvent.h ****  * Can be made from MidiEvent
 208:../../libDaisy//src/hid/MidiEvent.h **** */
 209:../../libDaisy//src/hid/MidiEvent.h **** struct OmniModeOffEvent
 210:../../libDaisy//src/hid/MidiEvent.h **** {
 211:../../libDaisy//src/hid/MidiEvent.h ****     int channel; /**< & */
 212:../../libDaisy//src/hid/MidiEvent.h **** };
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 66


 213:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing OmniModeOnEvent data.
 214:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 215:../../libDaisy//src/hid/MidiEvent.h **** */
 216:../../libDaisy//src/hid/MidiEvent.h **** struct OmniModeOnEvent
 217:../../libDaisy//src/hid/MidiEvent.h **** {
 218:../../libDaisy//src/hid/MidiEvent.h ****     int channel; /**< & */
 219:../../libDaisy//src/hid/MidiEvent.h **** };
 220:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing MonoModeOnEvent data.
 221:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 222:../../libDaisy//src/hid/MidiEvent.h **** */
 223:../../libDaisy//src/hid/MidiEvent.h **** struct MonoModeOnEvent
 224:../../libDaisy//src/hid/MidiEvent.h **** {
 225:../../libDaisy//src/hid/MidiEvent.h ****     int     channel;      /**< & */
 226:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t num_channels; /**< & */
 227:../../libDaisy//src/hid/MidiEvent.h **** };
 228:../../libDaisy//src/hid/MidiEvent.h **** /** Struct containing PolyModeOnEvent data.
 229:../../libDaisy//src/hid/MidiEvent.h **** Can be made from MidiEvent
 230:../../libDaisy//src/hid/MidiEvent.h **** */
 231:../../libDaisy//src/hid/MidiEvent.h **** struct PolyModeOnEvent
 232:../../libDaisy//src/hid/MidiEvent.h **** {
 233:../../libDaisy//src/hid/MidiEvent.h ****     int channel; /**< & */
 234:../../libDaisy//src/hid/MidiEvent.h **** };
 235:../../libDaisy//src/hid/MidiEvent.h **** 
 236:../../libDaisy//src/hid/MidiEvent.h **** 
 237:../../libDaisy//src/hid/MidiEvent.h **** /** Simple MidiEvent with message type, channel, and data[2] members.
 238:../../libDaisy//src/hid/MidiEvent.h **** */
 239:../../libDaisy//src/hid/MidiEvent.h **** struct MidiEvent
 240:../../libDaisy//src/hid/MidiEvent.h **** {
 241:../../libDaisy//src/hid/MidiEvent.h ****     // Newer ish.
 242:../../libDaisy//src/hid/MidiEvent.h ****     MidiMessageType    type;                         /**< & */
 243:../../libDaisy//src/hid/MidiEvent.h ****     int                channel;                      /**< & */
 244:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t            data[2];                      /**< & */
 245:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t            sysex_data[SYSEX_BUFFER_LEN]; /**< & */
 246:../../libDaisy//src/hid/MidiEvent.h ****     uint8_t            sysex_message_len;
 247:../../libDaisy//src/hid/MidiEvent.h ****     SystemCommonType   sc_type;
 248:../../libDaisy//src/hid/MidiEvent.h ****     SystemRealTimeType srt_type;
 249:../../libDaisy//src/hid/MidiEvent.h ****     ChannelModeType    cm_type;
 250:../../libDaisy//src/hid/MidiEvent.h **** 
 251:../../libDaisy//src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOffEvent struct */
 252:../../libDaisy//src/hid/MidiEvent.h ****     NoteOffEvent AsNoteOff()
 253:../../libDaisy//src/hid/MidiEvent.h ****     {
 254:../../libDaisy//src/hid/MidiEvent.h ****         NoteOffEvent m;
 255:../../libDaisy//src/hid/MidiEvent.h ****         m.channel  = channel;
 256:../../libDaisy//src/hid/MidiEvent.h ****         m.note     = data[0];
 257:../../libDaisy//src/hid/MidiEvent.h ****         m.velocity = data[1];
 258:../../libDaisy//src/hid/MidiEvent.h ****         return m;
 259:../../libDaisy//src/hid/MidiEvent.h ****     }
 260:../../libDaisy//src/hid/MidiEvent.h **** 
 261:../../libDaisy//src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOnEvent struct */
 262:../../libDaisy//src/hid/MidiEvent.h ****     NoteOnEvent AsNoteOn()
 1645              		.loc 16 262 17 view .LVU426
 1646              	.LBB650:
 263:../../libDaisy//src/hid/MidiEvent.h ****     {
 264:../../libDaisy//src/hid/MidiEvent.h ****         NoteOnEvent m;
 1647              		.loc 16 264 9 view .LVU427
 265:../../libDaisy//src/hid/MidiEvent.h ****         m.channel  = channel;
 1648              		.loc 16 265 9 view .LVU428
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 67


 266:../../libDaisy//src/hid/MidiEvent.h ****         m.note     = data[0];
 1649              		.loc 16 266 9 view .LVU429
 267:../../libDaisy//src/hid/MidiEvent.h ****         m.velocity = data[1];
 1650              		.loc 16 267 9 view .LVU430
 268:../../libDaisy//src/hid/MidiEvent.h ****         return m;
 1651              		.loc 16 268 9 view .LVU431
 1652              		.loc 16 268 9 is_stmt 0 view .LVU432
 1653              	.LBE650:
 1654              	.LBE649:
 145:MiniSynth.cpp ****                     if(note_msg.velocity != 0)
 1655              		.loc 14 145 21 is_stmt 1 view .LVU433
 1656 018c 91B1     		cbz	r1, .L54
 146:MiniSynth.cpp ****                     {
 147:MiniSynth.cpp ****                         current_note = note_msg.note;
 1657              		.loc 14 147 25 view .LVU434
 1658 018e ACEB0301 		sub	r1, ip, r3
 1659              	.LVL99:
 1660              	.LBB651:
 1661              	.LBB652:
  64:../../DaisySP//Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1662              		.loc 7 64 38 is_stmt 0 view .LVU435
 1663 0192 85F83420 		strb	r2, [r5, #52]
 1664              	.LBE652:
 1665              	.LBE651:
 148:MiniSynth.cpp ****                         env.Trigger();
 149:MiniSynth.cpp ****                         current_stage = ENV_ATTACK;
 1666              		.loc 14 149 39 view .LVU436
 1667 0196 3A70     		strb	r2, [r7]
 1668              	.LBE648:
 1669              	.LBE647:
 1670              	.LBE646:
 1671              	.LBE641:
 1672              	.LBB663:
 1673              	.LBB638:
 1674              	.LBB635:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 1675              		.loc 11 174 9 view .LVU437
 1676 0198 0029     		cmp	r1, #0
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 1677              		.loc 11 173 41 view .LVU438
 1678 019a 0A46     		mov	r2, r1
 1679              	.LVL100:
 173:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 1680              		.loc 11 173 41 view .LVU439
 1681              	.LBE635:
 1682              	.LBE638:
 1683              	.LBE663:
 1684              	.LBB664:
 1685              	.LBB660:
 1686              	.LBB657:
 1687              	.LBB655:
 147:MiniSynth.cpp ****                         env.Trigger();
 1688              		.loc 14 147 49 view .LVU440
 1689 019c C6F80080 		str	r8, [r6]
 148:MiniSynth.cpp ****                         current_stage = ENV_ATTACK;
 1690              		.loc 14 148 25 is_stmt 1 view .LVU441
 1691              	.LVL101:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 68


 1692              	.LBB654:
 1693              	.LBI651:
  64:../../DaisySP//Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1694              		.loc 7 64 17 view .LVU442
 1695              	.LBB653:
  64:../../DaisySP//Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1696              		.loc 7 64 29 view .LVU443
  64:../../DaisySP//Source/Control/adenv.h ****     /** Sets the length of time (in seconds) for a specific segment. */
 1697              		.loc 7 64 29 is_stmt 0 view .LVU444
 1698              	.LBE653:
 1699              	.LBE654:
 1700              		.loc 14 149 25 is_stmt 1 view .LVU445
 1701              	.LBE655:
 1702              	.LBE657:
 1703              	.LBE660:
 1704              	.LBE664:
 137:MiniSynth.cpp ****         {
 1705              		.loc 14 137 9 view .LVU446
 137:MiniSynth.cpp ****         {
 1706              		.loc 14 137 29 view .LVU447
 1707              	.LBB665:
 197:../../libDaisy//src/hid/midi.h **** 
 1708              		.loc 10 197 10 view .LVU448
 1709              	.LBB639:
 171:../../libDaisy//src/util/FIFO.h ****     {
 1710              		.loc 11 171 12 view .LVU449
 1711              	.LBB636:
 174:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 1712              		.loc 11 174 9 is_stmt 0 view .LVU450
 1713 01a0 D6DA     		bge	.L49
 1714              	.LVL102:
 1715              	.L66:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 1716              		.loc 11 175 25 view .LVU451
 1717 01a2 D4F8A820 		ldr	r2, [r4, #168]
 1718 01a6 0A44     		add	r2, r2, r1
 1719              	.LVL103:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 1720              		.loc 11 175 25 view .LVU452
 1721 01a8 D2E7     		b	.L49
 1722              	.LVL104:
 1723              	.L67:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 1724              		.loc 11 175 25 view .LVU453
 1725 01aa ACEB0301 		sub	r1, ip, r3
 1726              	.LVL105:
 1727              	.L51:
 175:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 1728              		.loc 11 175 25 view .LVU454
 1729              	.LBE636:
 1730              	.LBE639:
 1731              	.LBE665:
 1732              	.LBB666:
 1733              	.LBB661:
 1734              	.LBB658:
 150:MiniSynth.cpp ****                     }
 151:MiniSynth.cpp ****                     else
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 69


 152:MiniSynth.cpp ****                     {
 153:MiniSynth.cpp ****                         // Treat NoteOn with velocity 0 as NoteOff
 154:MiniSynth.cpp ****                         current_stage = ENV_DECAY;
 155:MiniSynth.cpp ****                     }
 156:MiniSynth.cpp ****                     break;
 157:MiniSynth.cpp ****                 }
 158:MiniSynth.cpp ****                 case NoteOff:
 1735              		.loc 14 158 17 is_stmt 1 view .LVU455
 159:MiniSynth.cpp ****                 {
 1736              		.loc 14 159 17 view .LVU456
 160:MiniSynth.cpp ****                     current_stage = ENV_DECAY;
 1737              		.loc 14 160 21 view .LVU457
 1738              		.loc 14 160 35 is_stmt 0 view .LVU458
 1739 01ae 0322     		movs	r2, #3
 1740 01b0 3A70     		strb	r2, [r7]
 161:MiniSynth.cpp ****                     break;
 1741              		.loc 14 161 21 is_stmt 1 view .LVU459
 1742              	.LVL106:
 1743              		.loc 14 161 21 is_stmt 0 view .LVU460
 1744              	.LBE658:
 1745              	.LBE661:
 1746              	.LBE666:
 137:MiniSynth.cpp ****         {
 1747              		.loc 14 137 9 view .LVU461
 1748 01b2 CAE7     		b	.L55
 1749              	.LVL107:
 1750              	.L54:
 1751              	.LBB667:
 1752              	.LBB662:
 1753              	.LBB659:
 1754              	.LBB656:
 154:MiniSynth.cpp ****                     }
 1755              		.loc 14 154 25 is_stmt 1 view .LVU462
 154:MiniSynth.cpp ****                     }
 1756              		.loc 14 154 39 is_stmt 0 view .LVU463
 1757 01b4 0322     		movs	r2, #3
 1758              	.LVL108:
 154:MiniSynth.cpp ****                     }
 1759              		.loc 14 154 39 view .LVU464
 1760 01b6 ACEB0301 		sub	r1, ip, r3
 1761              	.LVL109:
 154:MiniSynth.cpp ****                     }
 1762              		.loc 14 154 39 view .LVU465
 1763 01ba 3A70     		strb	r2, [r7]
 1764 01bc C5E7     		b	.L55
 1765              	.LVL110:
 1766              	.L65:
 154:MiniSynth.cpp ****                     }
 1767              		.loc 14 154 39 view .LVU466
 1768              	.LBE656:
 1769              	.LBE659:
 1770              	.LBE662:
 1771              	.LBE667:
 1772              	.LBB668:
 1773              	.LBB630:
 188:../../libDaisy//src/hid/midi.h ****             transport_.FlushRx();
 1774              		.loc 10 188 26 view .LVU467
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 70


 1775 01be 1448     		ldr	r0, .L68+56
 1776 01c0 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ResetEv
 1777              	.LVL111:
 189:../../libDaisy//src/hid/midi.h ****             StartReceive();
 1778              		.loc 10 189 31 view .LVU468
 1779 01c4 1148     		ldr	r0, .L68+52
 1780 01c6 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7FlushRxEv
 1781              	.LVL112:
 1782              	.LBB628:
 1783              	.LBI628:
 175:../../libDaisy//src/hid/midi.h ****     {
 1784              		.loc 10 175 10 is_stmt 1 view .LVU469
 1785              	.LBB629:
 177:../../libDaisy//src/hid/midi.h ****     }
 1786              		.loc 10 177 27 is_stmt 0 view .LVU470
 1787 01ca 044A     		ldr	r2, .L68+4
 1788 01cc 1149     		ldr	r1, .L68+60
 1789 01ce 101D     		adds	r0, r2, #4
 1790 01d0 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7StartRxEPFvPhjPvES2_
 1791              	.LVL113:
 178:../../libDaisy//src/hid/midi.h **** 
 1792              		.loc 10 178 5 view .LVU471
 1793 01d4 B5E7     		b	.L48
 1794              	.L69:
 1795 01d6 00BF     		.align	2
 1796              	.L68:
 1797 01d8 00000000 		.word	.LANCHOR0
 1798 01dc 00000000 		.word	midi
 1799 01e0 00000000 		.word	.LANCHOR3
 1800 01e4 00000000 		.word	.LANCHOR6
 1801 01e8 18000000 		.word	.LANCHOR0+24
 1802 01ec 0000C842 		.word	1120403456
 1803 01f0 00005C43 		.word	1130102784
 1804 01f4 00000000 		.word	.LANCHOR4
 1805 01f8 00007A44 		.word	1148846080
 1806 01fc 00000000 		.word	.LANCHOR2
 1807 0200 0AD7233C 		.word	1008981770
 1808 0204 00000000 		.word	_Z13AudioCallbackPKfPfj
 1809 0208 00000000 		.word	.LANCHOR5
 1810 020c 04000000 		.word	midi+4
 1811 0210 08000000 		.word	midi+8
 1812 0214 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
 1813              	.LBE629:
 1814              	.LBE628:
 1815              	.LBE630:
 1816              	.LBE668:
 1817              	.LBE625:
 1818              		.cfi_endproc
 1819              	.LFE4682:
 1821              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 1822              		.align	1
 1823              		.p2align 2,,3
 1824              		.syntax unified
 1825              		.thumb
 1826              		.thumb_func
 1827              		.fpu fpv5-d16
 1829              	_GLOBAL__sub_I_hw:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 71


 1830              	.LFB5278:
 162:MiniSynth.cpp ****                 }
 163:MiniSynth.cpp ****                 default: break;
 164:MiniSynth.cpp ****             }
 165:MiniSynth.cpp ****         }
 166:MiniSynth.cpp ****     }
 167:MiniSynth.cpp **** }
 1831              		.loc 14 167 1 is_stmt 1 view -0
 1832              		.cfi_startproc
 1833              		@ args = 0, pretend = 0, frame = 0
 1834              		@ frame_needed = 0, uses_anonymous_args = 0
 1835              	.LBB715:
 1836              	.LBI715:
 1837              		.loc 14 167 1 view .LVU473
 1838              	.LVL114:
 1839              	.LBB716:
 1840              	.LBB717:
 1841              	.LBI717:
  21:../../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
 1842              		.loc 2 21 5 view .LVU474
 1843              	.LBB718:
 1844              	.LBB719:
 1845              	.LBI719:
 1846              		.file 17 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 72


  34:../../libDaisy//src/per/qspi.h ****     {
  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 73


  91:../../libDaisy//src/per/qspi.h **** 
  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 74


 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 1847              		.loc 17 166 5 view .LVU475
 1848              	.LBE719:
 1849              	.LBE718:
 1850              	.LBE717:
 1851              	.LBE716:
 1852              	.LBE715:
 1853              		.loc 14 167 1 is_stmt 0 view .LVU476
 1854 0000 10B5     		push	{r4, lr}
 1855              		.cfi_def_cfa_offset 8
 1856              		.cfi_offset 4, -8
 1857              		.cfi_offset 14, -4
 1858              	.LBB777:
 1859              	.LBB775:
 1860              	.LBB740:
 1861              	.LBB738:
 1862              	.LBB724:
 1863              	.LBB720:
 1864              	.LBB721:
 1865              		.loc 17 166 34 view .LVU477
 1866 0002 1D48     		ldr	r0, .L72
 1867 0004 0024     		movs	r4, #0
 1868              	.LBE721:
 1869              	.LBE720:
 1870              	.LBE724:
 1871              	.LBE738:
 1872              	.LBE740:
   8:MiniSynth.cpp **** MidiUsbHandler midi;
 1873              		.loc 14 8 11 view .LVU478
 1874 0006 1D4A     		ldr	r2, .L72+4
 1875 0008 1D49     		ldr	r1, .L72+8
 1876              	.LBB741:
 1877              	.LBB739:
 1878              	.LBB725:
 1879              	.LBB723:
 1880              	.LBB722:
 1881              		.loc 17 166 34 view .LVU479
 1882 000a 0460     		str	r4, [r0]
 1883              	.LVL115:
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 75


 1884              		.loc 17 166 34 view .LVU480
 1885              	.LBE722:
 1886              	.LBE723:
 1887              	.LBE725:
 1888              	.LBB726:
 1889              	.LBI726:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 1890              		.loc 6 95 5 is_stmt 1 view .LVU481
 1891              	.LBB727:
 1892              	.LBB728:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 1893              		.loc 6 95 35 is_stmt 0 view .LVU482
 1894 000c 4461     		str	r4, [r0, #20]
 1895              	.LVL116:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 1896              		.loc 6 95 35 view .LVU483
 1897              	.LBE728:
 1898              	.LBE727:
 1899              	.LBE726:
 1900              	.LBB729:
 1901              	.LBI729:
 109:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 1902              		.loc 5 109 5 is_stmt 1 view .LVU484
 109:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 1903              		.loc 5 109 5 is_stmt 0 view .LVU485
 1904              	.LBE729:
 1905              	.LBB730:
 1906              	.LBI730:
 1907              		.file 18 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 76


  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 1908              		.loc 18 84 5 is_stmt 1 view .LVU486
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 77


 1909              	.LBB731:
 1910              	.LBB732:
 1911              		.loc 18 84 33 is_stmt 0 view .LVU487
 1912 000e 0462     		str	r4, [r0, #32]
 1913              	.LVL117:
 1914              		.loc 18 84 33 view .LVU488
 1915              	.LBE732:
 1916              	.LBE731:
 1917              	.LBE730:
 1918              	.LBB733:
 1919              	.LBI733:
  40:../../libDaisy//src/hid/usb.h **** 
 1920              		.loc 4 40 5 is_stmt 1 view .LVU489
  40:../../libDaisy//src/hid/usb.h **** 
 1921              		.loc 4 40 5 is_stmt 0 view .LVU490
 1922              	.LBE733:
 1923              	.LBB734:
 1924              	.LBI734:
  96:../../libDaisy//src/sys/system.h ****     ~System() {}
 1925              		.loc 3 96 5 is_stmt 1 view .LVU491
  96:../../libDaisy//src/sys/system.h ****     ~System() {}
 1926              		.loc 3 96 5 is_stmt 0 view .LVU492
 1927              	.LBE734:
 1928              	.LBB735:
 1929              	.LBI735:
 1930              		.file 19 "../../libDaisy//src/per/sai.h"
   1:../../libDaisy//src/per/sai.h **** #pragma once
   2:../../libDaisy//src/per/sai.h **** #ifndef DSY_SAI_H
   3:../../libDaisy//src/per/sai.h **** #define DSY_SAI_H
   4:../../libDaisy//src/per/sai.h **** 
   5:../../libDaisy//src/per/sai.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/sai.h **** 
   7:../../libDaisy//src/per/sai.h **** namespace daisy
   8:../../libDaisy//src/per/sai.h **** {
   9:../../libDaisy//src/per/sai.h **** /** 
  10:../../libDaisy//src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  11:../../libDaisy//src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  12:../../libDaisy//src/per/sai.h ****  * and other behavior for each peripheral, and block.
  13:../../libDaisy//src/per/sai.h ****  * 
  14:../../libDaisy//src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  15:../../libDaisy//src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  16:../../libDaisy//src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  17:../../libDaisy//src/per/sai.h ****  *
  18:../../libDaisy//src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  19:../../libDaisy//src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  20:../../libDaisy//src/per/sai.h ****  * 
  21:../../libDaisy//src/per/sai.h ****  * Use SAI Handle like this:
  22:../../libDaisy//src/per/sai.h ****  * 
  23:../../libDaisy//src/per/sai.h ****  *  SaiHandle::Config sai_config;
  24:../../libDaisy//src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  25:../../libDaisy//src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  26:../../libDaisy//src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  27:../../libDaisy//src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  28:../../libDaisy//src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  29:../../libDaisy//src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  30:../../libDaisy//src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  31:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 78


  32:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  33:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  34:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  35:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  36:../../libDaisy//src/per/sai.h ****  *  // Then Initialize
  37:../../libDaisy//src/per/sai.h ****  *  SaiHandle sai;
  38:../../libDaisy//src/per/sai.h ****  *  sai.Init(sai_config);
  39:../../libDaisy//src/per/sai.h ****  *  // Now you can use it:
  40:../../libDaisy//src/per/sai.h ****  *  sai.StartDma(. . .);
  41:../../libDaisy//src/per/sai.h ****  */
  42:../../libDaisy//src/per/sai.h **** class SaiHandle
  43:../../libDaisy//src/per/sai.h **** {
  44:../../libDaisy//src/per/sai.h ****   public:
  45:../../libDaisy//src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  46:../../libDaisy//src/per/sai.h ****     struct Config
  47:../../libDaisy//src/per/sai.h ****     {
  48:../../libDaisy//src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  49:../../libDaisy//src/per/sai.h ****         enum class Peripheral
  50:../../libDaisy//src/per/sai.h ****         {
  51:../../libDaisy//src/per/sai.h ****             SAI_1,
  52:../../libDaisy//src/per/sai.h ****             SAI_2,
  53:../../libDaisy//src/per/sai.h ****         };
  54:../../libDaisy//src/per/sai.h **** 
  55:../../libDaisy//src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  56:../../libDaisy//src/per/sai.h ****         enum class SampleRate
  57:../../libDaisy//src/per/sai.h ****         {
  58:../../libDaisy//src/per/sai.h ****             SAI_8KHZ,
  59:../../libDaisy//src/per/sai.h ****             SAI_16KHZ,
  60:../../libDaisy//src/per/sai.h ****             SAI_32KHZ,
  61:../../libDaisy//src/per/sai.h ****             SAI_48KHZ,
  62:../../libDaisy//src/per/sai.h ****             SAI_96KHZ,
  63:../../libDaisy//src/per/sai.h ****         };
  64:../../libDaisy//src/per/sai.h **** 
  65:../../libDaisy//src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  66:../../libDaisy//src/per/sai.h ****         enum class BitDepth
  67:../../libDaisy//src/per/sai.h ****         {
  68:../../libDaisy//src/per/sai.h ****             SAI_16BIT,
  69:../../libDaisy//src/per/sai.h ****             SAI_24BIT,
  70:../../libDaisy//src/per/sai.h ****             SAI_32BIT,
  71:../../libDaisy//src/per/sai.h ****         };
  72:../../libDaisy//src/per/sai.h **** 
  73:../../libDaisy//src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  74:../../libDaisy//src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  75:../../libDaisy//src/per/sai.h ****          ** expected that the codec will have its own xtal.
  76:../../libDaisy//src/per/sai.h ****          */
  77:../../libDaisy//src/per/sai.h ****         enum class Sync
  78:../../libDaisy//src/per/sai.h ****         {
  79:../../libDaisy//src/per/sai.h ****             MASTER,
  80:../../libDaisy//src/per/sai.h ****             SLAVE,
  81:../../libDaisy//src/per/sai.h ****         };
  82:../../libDaisy//src/per/sai.h **** 
  83:../../libDaisy//src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  84:../../libDaisy//src/per/sai.h ****         enum class Direction
  85:../../libDaisy//src/per/sai.h ****         {
  86:../../libDaisy//src/per/sai.h ****             TRANSMIT,
  87:../../libDaisy//src/per/sai.h ****             RECEIVE,
  88:../../libDaisy//src/per/sai.h ****         };
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 79


  89:../../libDaisy//src/per/sai.h **** 
  90:../../libDaisy//src/per/sai.h ****         Peripheral periph;
  91:../../libDaisy//src/per/sai.h ****         struct
  92:../../libDaisy//src/per/sai.h ****         {
  93:../../libDaisy//src/per/sai.h ****             dsy_gpio_pin mclk, fs, sck, sa, sb;
  94:../../libDaisy//src/per/sai.h ****         } pin_config;
  95:../../libDaisy//src/per/sai.h ****         SampleRate sr;
  96:../../libDaisy//src/per/sai.h ****         BitDepth   bit_depth;
  97:../../libDaisy//src/per/sai.h ****         Sync       a_sync, b_sync;
  98:../../libDaisy//src/per/sai.h ****         Direction  a_dir, b_dir;
  99:../../libDaisy//src/per/sai.h ****     };
 100:../../libDaisy//src/per/sai.h **** 
 101:../../libDaisy//src/per/sai.h ****     /** Return values for SAI functions */
 102:../../libDaisy//src/per/sai.h ****     enum class Result
 103:../../libDaisy//src/per/sai.h ****     {
 104:../../libDaisy//src/per/sai.h ****         OK,
 105:../../libDaisy//src/per/sai.h ****         ERR,
 106:../../libDaisy//src/per/sai.h ****     };
 107:../../libDaisy//src/per/sai.h **** 
 108:../../libDaisy//src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 1931              		.loc 19 108 5 is_stmt 1 view .LVU493
 1932              	.LBB736:
 1933              	.LBB737:
 1934              		.loc 19 108 33 is_stmt 0 view .LVU494
 1935 0010 C463     		str	r4, [r0, #60]
 1936              	.LVL118:
 1937              		.loc 19 108 33 view .LVU495
 1938              	.LBE737:
 1939              	.LBE736:
 1940              	.LBE735:
 1941              	.LBE739:
 1942              	.LBE741:
   8:MiniSynth.cpp **** MidiUsbHandler midi;
 1943              		.loc 14 8 11 view .LVU496
 1944 0012 FFF7FEFF 		bl	__aeabi_atexit
 1945              	.LVL119:
 1946              	.LBB742:
 1947              	.LBI742:
 155:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 1948              		.loc 10 155 5 is_stmt 1 view .LVU497
 1949              	.LBB743:
 1950              	.LBB744:
 1951              	.LBI744:
 158:../../libDaisy//src/hid/midi.h ****     {
 1952              		.loc 10 158 12 view .LVU498
 1953              	.LBB745:
 1954              	.LBI745:
  43:../../libDaisy//src/hid/usb_midi.h ****     };
 1955              		.loc 13 43 9 view .LVU499
  43:../../libDaisy//src/hid/usb_midi.h ****     };
 1956              		.loc 13 43 9 is_stmt 0 view .LVU500
 1957              	.LBE745:
 1958              	.LBE744:
 1959              	.LBB746:
 1960              	.LBI746:
  55:../../libDaisy//src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 1961              		.loc 13 55 5 is_stmt 1 view .LVU501
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 80


  55:../../libDaisy//src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 1962              		.loc 13 55 5 is_stmt 0 view .LVU502
 1963              	.LBE746:
 1964              	.LBB749:
 1965              	.LBI749:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1966              		.loc 12 18 5 is_stmt 1 view .LVU503
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1967              		.loc 12 18 5 is_stmt 0 view .LVU504
 1968              	.LBE749:
 1969              	.LBB750:
 1970              	.LBI750:
 299:../../libDaisy//src/util/FIFO.h **** {
 300:../../libDaisy//src/util/FIFO.h ****   public:
 301:../../libDaisy//src/util/FIFO.h ****     /** Creates an empty FIFO */
 302:../../libDaisy//src/util/FIFO.h ****     FIFO() : FIFOBase<T>(buffer_, capacity + 1) {}
 1971              		.loc 11 302 5 is_stmt 1 view .LVU505
 1972              	.LBB751:
 1973              	.LBB752:
 1974              	.LBI752:
  14:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 1975              		.loc 11 14 5 view .LVU506
 1976              	.LBE752:
 1977              	.LBE751:
 1978              	.LBE750:
 155:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 1979              		.loc 10 155 5 is_stmt 0 view .LVU507
 1980 0016 1B48     		ldr	r0, .L72+12
 1981 0018 1B4B     		ldr	r3, .L72+16
 1982 001a 4FF44071 		mov	r1, #768
 1983              	.LBE743:
 1984              	.LBE742:
   9:MiniSynth.cpp **** 
 1985              		.loc 14 9 16 view .LVU508
 1986 001e 174A     		ldr	r2, .L72+4
 1987              	.LBB770:
 1988              	.LBB769:
 155:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 1989              		.loc 10 155 5 view .LVU509
 1990 0020 C0F89C30 		str	r3, [r0, #156]
 1991 0024 40F20F73 		movw	r3, #1807
 1992 0028 0160     		str	r1, [r0]
 1993              	.LBB765:
 1994              	.LBB762:
 1995              	.LBB759:
 1996              	.LBB753:
 1997              	.LBB754:
  15:../../libDaisy//src/util/FIFO.h ****     {
 1998              		.loc 11 15 75 view .LVU510
 1999 002a 00F1B401 		add	r1, r0, #180
 2000              	.LBE754:
 2001              	.LBE753:
 2002              	.LBE759:
 2003              	.LBE762:
 2004              	.LBE765:
 155:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 2005              		.loc 10 155 5 view .LVU511
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 81


 2006 002e C0F8A030 		str	r3, [r0, #160]
 2007              	.LBB766:
 2008              	.LBB763:
 2009              	.LBB760:
 2010              	.LBB757:
 2011              	.LBB755:
  15:../../libDaisy//src/util/FIFO.h ****     {
 2012              		.loc 11 15 75 view .LVU512
 2013 0032 40F20113 		movw	r3, #257
 2014              	.LBE755:
 2015              	.LBE757:
 2016              	.LBE760:
 2017              	.LBE763:
 2018              	.LBE766:
 2019              	.LBB767:
 2020              	.LBB747:
 2021              	.LBB748:
  55:../../libDaisy//src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 2022              		.loc 13 55 40 view .LVU513
 2023 0036 4460     		str	r4, [r0, #4]
 2024              	.LBE748:
 2025              	.LBE747:
 2026              	.LBE767:
 2027              	.LBB768:
 2028              	.LBB764:
 2029              	.LBB761:
 2030              	.LBB758:
 2031              	.LBB756:
  15:../../libDaisy//src/util/FIFO.h ****     {
 2032              		.loc 11 15 75 view .LVU514
 2033 0038 C0F8AC40 		str	r4, [r0, #172]
 2034 003c C0F8B040 		str	r4, [r0, #176]
 2035              	.LVL120:
  15:../../libDaisy//src/util/FIFO.h ****     {
 2036              		.loc 11 15 75 view .LVU515
 2037 0040 C0E92913 		strd	r1, r3, [r0, #164]
 2038              	.LBE756:
 2039              	.LBE758:
 2040              	.LBE761:
 2041              	.LBE764:
 2042              	.LBE768:
 2043              	.LBE769:
 2044              	.LBE770:
   9:MiniSynth.cpp **** 
 2045              		.loc 14 9 16 view .LVU516
 2046 0044 1149     		ldr	r1, .L72+20
 2047 0046 FFF7FEFF 		bl	__aeabi_atexit
 2048              	.LVL121:
 2049              	.LBB771:
 2050              	.LBI771:
  23:../../DaisySP//Source/Synthesis/oscillator.h ****     ~Oscillator() {}
 2051              		.loc 8 23 5 is_stmt 1 view .LVU517
  23:../../DaisySP//Source/Synthesis/oscillator.h ****     ~Oscillator() {}
 2052              		.loc 8 23 5 is_stmt 0 view .LVU518
 2053              	.LBE771:
  11:MiniSynth.cpp **** Svf       filter;
 2054              		.loc 14 11 12 view .LVU519
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 82


 2055 004a 0C4A     		ldr	r2, .L72+4
 2056 004c 1049     		ldr	r1, .L72+24
 2057 004e 1148     		ldr	r0, .L72+28
 2058 0050 FFF7FEFF 		bl	__aeabi_atexit
 2059              	.LVL122:
 2060              	.LBB772:
 2061              	.LBI772:
  29:../../DaisySP//Source/Filters/svf.h ****     ~Svf() {}
 2062              		.loc 9 29 5 is_stmt 1 view .LVU520
  29:../../DaisySP//Source/Filters/svf.h ****     ~Svf() {}
 2063              		.loc 9 29 5 is_stmt 0 view .LVU521
 2064              	.LBE772:
  12:MiniSynth.cpp **** AdEnv     env;
 2065              		.loc 14 12 11 view .LVU522
 2066 0054 094A     		ldr	r2, .L72+4
 2067 0056 1049     		ldr	r1, .L72+32
 2068 0058 1048     		ldr	r0, .L72+36
 2069 005a FFF7FEFF 		bl	__aeabi_atexit
 2070              	.LVL123:
 2071              	.LBB773:
 2072              	.LBI773:
  42:../../DaisySP//Source/Control/adenv.h ****     ~AdEnv() {}
 2073              		.loc 7 42 5 is_stmt 1 view .LVU523
  42:../../DaisySP//Source/Control/adenv.h ****     ~AdEnv() {}
 2074              		.loc 7 42 5 is_stmt 0 view .LVU524
 2075              	.LBE773:
  13:MiniSynth.cpp **** Switch    button1;
 2076              		.loc 14 13 11 view .LVU525
 2077 005e 074A     		ldr	r2, .L72+4
 2078 0060 0F49     		ldr	r1, .L72+40
 2079 0062 1048     		ldr	r0, .L72+44
 2080 0064 FFF7FEFF 		bl	__aeabi_atexit
 2081              	.LVL124:
 2082              	.LBB774:
 2083              	.LBI774:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 2084              		.loc 1 41 5 is_stmt 1 view .LVU526
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 2085              		.loc 1 41 5 is_stmt 0 view .LVU527
 2086              	.LBE774:
  14:MiniSynth.cpp **** 
 2087              		.loc 14 14 11 view .LVU528
 2088 0068 044A     		ldr	r2, .L72+4
 2089 006a 0F49     		ldr	r1, .L72+48
 2090 006c 0F48     		ldr	r0, .L72+52
 2091              	.LBE775:
 2092              	.LBE777:
 2093              		.loc 14 167 1 view .LVU529
 2094 006e BDE81040 		pop	{r4, lr}
 2095              		.cfi_restore 14
 2096              		.cfi_restore 4
 2097              		.cfi_def_cfa_offset 0
 2098              	.LBB778:
 2099              	.LBB776:
  14:MiniSynth.cpp **** 
 2100              		.loc 14 14 11 view .LVU530
 2101 0072 FFF7FEBF 		b	__aeabi_atexit
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 83


 2102              	.LVL125:
 2103              	.L73:
 2104 0076 00BF     		.align	2
 2105              	.L72:
 2106 0078 00000000 		.word	.LANCHOR0
 2107 007c 00000000 		.word	__dso_handle
 2108 0080 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 2109 0084 00000000 		.word	midi
 2110 0088 0080707F 		.word	2138079232
 2111 008c 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 2112 0090 00000000 		.word	_ZN7daisysp10OscillatorD1Ev
 2113 0094 00000000 		.word	.LANCHOR3
 2114 0098 00000000 		.word	_ZN7daisysp3SvfD1Ev
 2115 009c 00000000 		.word	.LANCHOR4
 2116 00a0 00000000 		.word	_ZN7daisysp5AdEnvD1Ev
 2117 00a4 00000000 		.word	.LANCHOR6
 2118 00a8 00000000 		.word	_ZN5daisy6SwitchD1Ev
 2119 00ac 00000000 		.word	.LANCHOR7
 2120              	.LBE776:
 2121              	.LBE778:
 2122              		.cfi_endproc
 2123              	.LFE5278:
 2125              		.section	.init_array,"aw",%init_array
 2126              		.align	2
 2127 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 2128              		.global	current_note
 2129              		.global	env_out
 2130              		.global	current_stage
 2131              		.global	button1
 2132              		.global	env
 2133              		.global	filter
 2134              		.global	osc
 2135              		.global	midi
 2136              		.global	hw
 2137              		.section	.bss.button1,"aw",%nobits
 2138              		.align	2
 2139              		.set	.LANCHOR7,. + 0
 2142              	button1:
 2143 0000 00000000 		.space	16
 2143      00000000 
 2143      00000000 
 2143      00000000 
 2144              		.section	.bss.current_stage,"aw",%nobits
 2145              		.set	.LANCHOR5,. + 0
 2148              	current_stage:
 2149 0000 00       		.space	1
 2150              		.section	.bss.env,"aw",%nobits
 2151              		.align	2
 2152              		.set	.LANCHOR6,. + 0
 2155              	env:
 2156 0000 00000000 		.space	56
 2156      00000000 
 2156      00000000 
 2156      00000000 
 2156      00000000 
 2157              		.section	.bss.env_out,"aw",%nobits
 2158              		.align	2
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 84


 2159              		.set	.LANCHOR1,. + 0
 2162              	env_out:
 2163 0000 00000000 		.space	4
 2164              		.section	.bss.filter,"aw",%nobits
 2165              		.align	2
 2166              		.set	.LANCHOR4,. + 0
 2169              	filter:
 2170 0000 00000000 		.space	76
 2170      00000000 
 2170      00000000 
 2170      00000000 
 2170      00000000 
 2171              		.section	.bss.hw,"aw",%nobits
 2172              		.align	2
 2173              		.set	.LANCHOR0,. + 0
 2176              	hw:
 2177 0000 00000000 		.space	64
 2177      00000000 
 2177      00000000 
 2177      00000000 
 2177      00000000 
 2178              		.section	.bss.midi,"aw",%nobits
 2179              		.align	2
 2182              	midi:
 2183 0000 00000000 		.space	37188
 2183      00000000 
 2183      00000000 
 2183      00000000 
 2183      00000000 
 2184              		.section	.bss.osc,"aw",%nobits
 2185              		.align	2
 2186              		.set	.LANCHOR3,. + 0
 2189              	osc:
 2190 0000 00000000 		.space	44
 2190      00000000 
 2190      00000000 
 2190      00000000 
 2190      00000000 
 2191              		.section	.data.current_note,"aw"
 2192              		.align	2
 2193              		.set	.LANCHOR2,. + 0
 2196              	current_note:
 2197 0000 FFFFFFFF 		.word	-1
 2198              		.text
 2199              	.Letext0:
 2200              		.file 20 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 2201              		.file 21 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 2202              		.file 22 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdint.h"
 2203              		.file 23 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stddef.h"
 2204              		.file 24 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cmath"
 2205              		.file 25 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\std_abs.h"
 2206              		.file 26 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdlib"
 2207              		.file 27 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdint"
 2208              		.file 28 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\arm-none-eabi\\t
 2209              		.file 29 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\type_traits"
 2210              		.file 30 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\debug\\debug.h"
 2211              		.file 31 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\algorithmf
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 85


 2212              		.file 32 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_pair.h
 2213              		.file 33 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\exception_
 2214              		.file 34 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\initializer_list
 2215              		.file 35 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdarg"
 2216              		.file 36 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdio"
 2217              		.file 37 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstring"
 2218              		.file 38 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cwchar"
 2219              		.file 39 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\clocale"
 2220              		.file 40 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\basic_stri
 2221              		.file 41 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_tempbu
 2222              		.file 42 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\predefined
 2223              		.file 43 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_types.h"
 2224              		.file 44 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\reent.h"
 2225              		.file 45 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\lock.h"
 2226              		.file 46 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\math.h"
 2227              		.file 47 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdlib.h"
 2228              		.file 48 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\math.h"
 2229              		.file 49 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\stdlib.h"
 2230              		.file 50 "../../libDaisy//src/daisy_core.h"
 2231              		.file 51 "../../libDaisy//src/per/tim.h"
 2232              		.file 52 "../../libDaisy//src/util/wav_format.h"
 2233              		.file 53 "../../libDaisy//src/dev/max11300.h"
 2234              		.file 54 "../../libDaisy//src/per/gpio.h"
 2235              		.file 55 "../../libDaisy//src/dev/sdram.h"
 2236              		.file 56 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stdarg.h"
 2237              		.file 57 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdio.h"
 2238              		.file 58 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\string.h"
 2239              		.file 59 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\wchar.h"
 2240              		.file 60 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\locale.h"
 2241              		.file 61 "../../libDaisy//src/dev/sr_595.h"
 2242              		.file 62 "<built-in>"
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 86


DEFINED SYMBOLS
                            *ABS*:00000000 MiniSynth.cpp
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:17     .text._ZN5daisy6SwitchD2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:26     .text._ZN5daisy6SwitchD2Ev:00000000 _ZN5daisy6SwitchD2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:26     .text._ZN5daisy6SwitchD2Ev:00000000 _ZN5daisy6SwitchD1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:43     .text._ZN5daisy9DaisySeedD2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:51     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:51     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:92     .text._ZN7daisysp5AdEnvD2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:100    .text._ZN7daisysp5AdEnvD2Ev:00000000 _ZN7daisysp5AdEnvD2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:100    .text._ZN7daisysp5AdEnvD2Ev:00000000 _ZN7daisysp5AdEnvD1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:117    .text._ZN7daisysp10OscillatorD2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:125    .text._ZN7daisysp10OscillatorD2Ev:00000000 _ZN7daisysp10OscillatorD2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:125    .text._ZN7daisysp10OscillatorD2Ev:00000000 _ZN7daisysp10OscillatorD1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:142    .text._ZN7daisysp3SvfD2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:150    .text._ZN7daisysp3SvfD2Ev:00000000 _ZN7daisysp3SvfD2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:150    .text._ZN7daisysp3SvfD2Ev:00000000 _ZN7daisysp3SvfD1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:167    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:175    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:175    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:214    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:222    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:386    .text._Z13AudioCallbackPKfPfj:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:394    .text._Z13AudioCallbackPKfPfj:00000000 _Z13AudioCallbackPKfPfj
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:916    .text._Z13AudioCallbackPKfPfj:000000fa $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:920    .text._Z13AudioCallbackPKfPfj:000000fe $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1089   .text._Z13AudioCallbackPKfPfj:000001a0 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1114   .text.startup.main:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1122   .text.startup.main:00000000 main
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1797   .text.startup.main:000001d8 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2182   .bss.midi:00000000 midi
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1822   .text.startup._GLOBAL__sub_I_hw:00000000 $t
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:1829   .text.startup._GLOBAL__sub_I_hw:00000000 _GLOBAL__sub_I_hw
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2106   .text.startup._GLOBAL__sub_I_hw:00000078 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2126   .init_array:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2196   .data.current_note:00000000 current_note
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2162   .bss.env_out:00000000 env_out
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2148   .bss.current_stage:00000000 current_stage
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2142   .bss.button1:00000000 button1
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2155   .bss.env:00000000 env
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2169   .bss.filter:00000000 filter
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2189   .bss.osc:00000000 osc
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2176   .bss.hw:00000000 hw
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2138   .bss.button1:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2149   .bss.current_stage:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2151   .bss.env:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2158   .bss.env_out:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2165   .bss.filter:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2172   .bss.hw:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2179   .bss.midi:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2185   .bss.osc:00000000 $d
C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s:2192   .data.current_note:00000000 $d
                           .group:00000000 _ZN5daisy6SwitchD5Ev
                           .group:00000000 _ZN5daisy9DaisySeedD5Ev
                           .group:00000000 _ZN7daisysp5AdEnvD5Ev
                           .group:00000000 _ZN7daisysp10OscillatorD5Ev
                           .group:00000000 _ZN7daisysp3SvfD5Ev
ARM GAS  C:\Users\evang\AppData\Local\Temp\ccxJUa5S.s 			page 87


                           .group:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED5Ev

UNDEFINED SYMBOLS
_ZN5daisy10MidiParser5ParseEhPNS_9MidiEventE
memcpy
_ZNK5daisy9AdcHandle8GetFloatEh
powf
_ZN7daisysp10Oscillator12CalcPhaseIncEf
_ZN7daisysp3Svf7SetFreqEf
_ZN7daisysp3Svf6SetResEf
_ZN7daisysp10Oscillator7ProcessEv
_ZN7daisysp3Svf7ProcessEf
_ZN7daisysp5AdEnv7ProcessEv
_ZN5daisy9DaisySeed9ConfigureEv
_ZN5daisy9DaisySeed4InitEb
_ZN5daisy9DaisySeed17SetAudioBlockSizeEj
_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
_ZN5daisy10MidiParser5ResetEv
_ZN5daisy9DaisySeed6GetPinEh
_ZN5daisy16AdcChannelConfig10InitSingleE12dsy_gpio_pinNS0_15ConversionSpeedE
_ZN5daisy9AdcHandle4InitEPNS_16AdcChannelConfigEjNS0_12OverSamplingE
_ZN5daisy9AdcHandle5StartEv
_ZN5daisy9DaisySeed15AudioSampleRateEv
_ZN7daisysp3Svf4InitEf
_ZN7daisysp5AdEnv4InitEf
_ZN5daisy9DaisySeed10StartAudioEPFvPKfPfjE
_ZN5daisy16MidiUsbTransport8RxActiveEv
_ZN5daisy16MidiUsbTransport7FlushRxEv
_ZN5daisy16MidiUsbTransport7StartRxEPFvPhjPvES2_
__aeabi_atexit
__dso_handle
